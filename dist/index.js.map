{"version":3,"sources":["../src/utils/logger.ts","../src/evm/modules/common/types.ts","../src/evm/modules/blocks/prompts.ts","../src/evm/chains.ts","../src/evm/services/clients.ts","../src/evm/services/abi/erc20.ts","../src/evm/services/ens.ts","../src/evm/services/balance.ts","../src/evm/services/abi/erc721.ts","../src/evm/services/abi/erc1155.ts","../src/evm/services/transfer.ts","../src/evm/services/blocks.ts","../src/evm/services/transactions.ts","../src/evm/services/contracts.ts","../src/evm/services/tokens.ts","../src/evm/services/utils.ts","../src/utils/helper.ts","../src/evm/modules/blocks/tools.ts","../src/evm/modules/blocks/index.ts","../src/evm/modules/bridge/tools.ts","../src/evm/modules/bridge/prompts.ts","../src/evm/modules/bridge/index.ts","../src/evm/modules/contracts/prompts.ts","../src/evm/modules/contracts/tools.ts","../src/evm/modules/contracts/index.ts","../src/evm/modules/domains/tools.ts","../src/evm/modules/domains/prompts.ts","../src/evm/modules/domains/index.ts","../src/evm/modules/events/tools.ts","../src/evm/modules/events/prompts.ts","../src/evm/modules/events/index.ts","../src/evm/modules/gas/tools.ts","../src/evm/modules/gas/prompts.ts","../src/evm/modules/gas/index.ts","../src/evm/modules/governance/tools.ts","../src/evm/modules/governance/prompts.ts","../src/evm/modules/governance/index.ts","../src/evm/modules/lending/tools.ts","../src/evm/modules/lending/prompts.ts","../src/evm/modules/lending/index.ts","../src/evm/modules/multicall/tools.ts","../src/evm/modules/multicall/prompts.ts","../src/evm/modules/multicall/index.ts","../src/evm/modules/network/prompts.ts","../src/evm/modules/network/tools.ts","../src/evm/modules/network/index.ts","../src/evm/modules/nft/tools.ts","../src/evm/modules/nft/index.ts","../src/evm/modules/portfolio/tools.ts","../src/evm/modules/portfolio/prompts.ts","../src/evm/modules/portfolio/index.ts","../src/evm/modules/price-feeds/tools.ts","../src/evm/modules/price-feeds/prompts.ts","../src/evm/modules/price-feeds/index.ts","../src/evm/modules/security/tools.ts","../src/evm/modules/security/prompts.ts","../src/evm/modules/security/index.ts","../src/evm/modules/signatures/tools.ts","../src/evm/modules/signatures/prompts.ts","../src/evm/modules/signatures/index.ts","../src/evm/modules/staking/tools.ts","../src/evm/modules/staking/prompts.ts","../src/evm/modules/staking/index.ts","../src/evm/modules/swap/tools.ts","../src/evm/modules/swap/prompts.ts","../src/evm/modules/swap/index.ts","../src/evm/modules/tokens/prompts.ts","../src/evm/modules/tokens/tools.ts","../src/evm/modules/tokens/index.ts","../src/evm/modules/transactions/prompts.ts","../src/evm/modules/transactions/tools.ts","../src/evm/modules/transactions/index.ts","../src/evm/modules/wallet/prompts.ts","../src/evm/modules/wallet/tools.ts","../src/evm/modules/wallet/index.ts","../src/evm/index.ts","../src/server/base.ts","../src/server/sse.ts","../src/server/stdio.ts","../src/index.ts"],"names":["LogLevel","z","getContract","formatUnits","parseEther","formatEther","privateKeyToAccount","isContract","args","normalize","keccak256","toHex","ERC20_ABI"],"mappings":";;;;;;;;;;;;;;AAEA,IAAK,QAAA,qBAAAA,SAAAA,KAAL;AACE,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,WAAQ,CAAA,CAAA,GAAR,OAAA;AACA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,UAAO,CAAA,CAAA,GAAP,MAAA;AACA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,UAAO,CAAA,CAAA,GAAP,MAAA;AACA,EAAAA,SAAAA,CAAAA,SAAAA,CAAA,WAAQ,CAAA,CAAA,GAAR,OAAA;AAJG,EAAA,OAAAA,SAAAA;AAAA,CAAA,EAAA,QAAA,IAAA,EAAA,CAAA;AASL,IAAM,MAAA,GAAN,MAAM,OAAA,CAAO;AAAA,EACX,OAAe,YAAA,GAAyB,OAAA,CAAO,kBAAA,EAAmB;AAAA,EAElE,OAAe,kBAAA,GAA+B;AAC5C,IAAA,MAAM,QAAA,GAAA,CACJ,OAAA,CAAQ,GAAA,CAAI,SAAA,IAAa,QACzB,WAAA,EAAY;AACd,IAAA,OAAO,QAAA,CAAS,QAAQ,CAAA,IAAK,CAAA;AAAA,EAC/B;AAAA,EAEA,OAAe,UAAU,KAAA,EAA0B;AACjD,IAAA,OAAO,SAAS,IAAA,CAAK,YAAA;AAAA,EACvB;AAAA,EAEA,OAAe,aAAA,CACb,KAAA,EACA,OAAA,EACA,IAAA,EACQ;AACR,IAAA,MAAM,SAAA,GAAA,iBAAY,IAAI,IAAA,EAAK,EAAE,WAAA,EAAY;AACzC,IAAA,MAAM,OAAA,GAAU,IAAA,GACZ,GAAA,GAAW,IAAA,CAAA,OAAA,CAAQ,IAAA,EAAM,EAAE,KAAA,EAAO,CAAA,EAAG,MAAA,EAAQ,IAAA,EAAM,CAAA,GACnD,EAAA;AACJ,IAAA,OAAO,IAAI,SAAS,CAAA,EAAA,EAAK,KAAK,CAAA,EAAA,EAAK,OAAO,GAAG,OAAO,CAAA,CAAA;AAAA,EACtD;AAAA,EAEA,OAAO,YAAY,KAAA,EAAwB;AACzC,IAAA,IAAA,CAAK,YAAA,GAAe,SAAS,KAAK,CAAA;AAAA,EACpC;AAAA,EAEA,OAAO,KAAA,CAAM,OAAA,EAAiB,IAAA,EAAY;AACxC,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,CAAA,aAAc,EAAG;AAClC,MAAA,OAAA,CAAQ,MAAM,IAAA,CAAK,aAAA,CAAc,OAAA,EAAS,OAAA,EAAS,IAAI,CAAC,CAAA;AAAA,IAC1D;AAAA,EACF;AAAA,EAEA,OAAO,IAAA,CAAK,OAAA,EAAiB,IAAA,EAAY;AACvC,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,CAAA,YAAa,EAAG;AACjC,MAAA,OAAA,CAAQ,KAAK,IAAA,CAAK,aAAA,CAAc,MAAA,EAAQ,OAAA,EAAS,IAAI,CAAC,CAAA;AAAA,IACxD;AAAA,EACF;AAAA,EAEA,OAAO,IAAA,CAAK,OAAA,EAAiB,IAAA,EAAY;AACvC,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,CAAA,YAAa,EAAG;AACjC,MAAA,OAAA,CAAQ,KAAK,IAAA,CAAK,aAAA,CAAc,MAAA,EAAQ,OAAA,EAAS,IAAI,CAAC,CAAA;AAAA,IACxD;AAAA,EACF;AAAA,EAEA,OAAO,KAAA,CAAM,OAAA,EAAiB,IAAA,EAAY;AACxC,IAAA,IAAI,IAAA,CAAK,SAAA,CAAU,CAAA,aAAc,EAAG;AAClC,MAAA,OAAA,CAAQ,MAAM,IAAA,CAAK,aAAA,CAAc,OAAA,EAAS,OAAA,EAAS,IAAI,CAAC,CAAA;AAAA,IAC1D;AAAA,EACF;AAAA,EAEA,OAAO,QAAA,GAA4B;AACjC,IAAA,OAAO,QAAA,CAAS,KAAK,YAAY,CAAA;AAAA,EACnC;AACF,CAAA;AAEA,IAAO,cAAA,GAAQ,MAAA;ACpER,IAAM,mBAAA,GAAsB,CAAA,CAChC,MAAA,EAAO,CACP,QAAA;AAAA,EACC;AACF,CAAA,CACC,QAAQ,KAAK,CAAA;AAET,IAAM,aAAA,GAAgB,CAAA,CAC1B,MAAA,EAAO,CACP,QAAA;AAAA,EACC;AACF,CAAA,CACC,QAAA,EAAS;AAEL,IAAM,eAAA,GAAkB,CAAA,CAC5B,MAAA,EAAO,CACP,QAAA;AAAA,EACC;AACF,CAAA,CACC,OAAA,CAAQ,OAAA,CAAQ,GAAA,CAAI,WAAqB,CAAA;;;AChBrC,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,eAAA;AAAA,IACA,qEAAA;AAAA,IACA;AAAA,MACE,WAAA,EAAaC,CAAAA,CACV,MAAA,EAAO,CACP,UAAS,CACT,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAAS;AAAA,KACX;AAAA,IACA,CAAC,EAAE,WAAA,EAAa,OAAA,GAAU,OAAM,MAAO;AAAA,MACrC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,cACF,CAAA,sBAAA,EAAyB,WAAW,WAAW,OAAO,CAAA,uFAAA,CAAA,GACtD,0CAA0C,OAAO,CAAA,uFAAA;AAAA;AACvD;AACF;AACF,KACF;AAAA,GACF;AACF;ACVO,IAAM,eAAA,GAAkB,0BAAA;AACxB,IAAM,gBAAA,GAAmB,CAAA;AAGzB,IAAM,QAAA,GAAkC;AAAA;AAAA,EAE7C,CAAA,EAAG,OAAA;AAAA,EACH,EAAA,EAAI,QAAA;AAAA,EACJ,KAAA,EAAO,QAAA;AAAA,EACP,IAAA,EAAM,IAAA;AAAA,EACN,GAAA,EAAK,OAAA;AAAA,EACL,EAAA,EAAI,GAAA;AAAA,EACJ,GAAA,EAAK,KAAA;AAAA,EACL,IAAA,EAAM,KAAA;AAAA;AAAA,EAEN,QAAA,EAAU,OAAA;AAAA,EACV,QAAA,EAAU,eAAA;AAAA,EACV,MAAA,EAAQ,eAAA;AAAA,EACR,KAAA,EAAO,WAAA;AAAA,EACP,KAAA,EAAO,WAAA;AAAA,EACP,EAAA,EAAI,UAAA;AAAA,EACJ,IAAA,EAAM,YAAA;AAAA,EACN,IAAA,EAAM;AACR,CAAA;AAGO,IAAM,cAAA,GAAyC;AAAA;AAAA,EAEpD,QAAA,EAAU,CAAA;AAAA,EACV,OAAA,EAAS,CAAA;AAAA,EACT,GAAA,EAAK,CAAA;AAAA,EACL,QAAA,EAAU,EAAA;AAAA,EACV,EAAA,EAAI,EAAA;AAAA,EACJ,QAAA,EAAU,KAAA;AAAA,EACV,GAAA,EAAK,KAAA;AAAA,EACL,IAAA,EAAM,IAAA;AAAA,EACN,OAAA,EAAS,GAAA;AAAA,EACT,KAAA,EAAO,GAAA;AAAA,EACP,OAAA,EAAS,EAAA;AAAA,EACT,GAAA,EAAK,EAAA;AAAA,EACL,KAAA,EAAO,GAAA;AAAA,EACP,KAAA,EAAO,IAAA;AAAA;AAAA,EAGP,OAAA,EAAS,QAAA;AAAA,EACT,kBAAA,EAAoB,QAAA;AAAA,EACpB,eAAA,EAAiB,QAAA;AAAA,EACjB,kBAAA,EAAoB,MAAA;AAAA,EACpB,eAAA,EAAiB,MAAA;AAAA,EACjB,cAAA,EAAgB,KAAA;AAAA,EAChB,WAAA,EAAa,KAAA;AAAA,EACb,cAAA,EAAgB,KAAA;AAAA,EAChB,WAAA,EAAa,KAAA;AAAA,EACb,aAAA,EAAe,EAAA;AAAA,EACf,UAAA,EAAY,EAAA;AAAA,EACZ,eAAA,EAAiB,IAAA;AAAA,EACjB,YAAA,EAAc,IAAA;AAAA,EACd,eAAA,EAAiB,IAAA;AAAA,EACjB,YAAA,EAAc;AAChB,CAAA;AAGO,IAAM,SAAA,GAAoC;AAAA;AAAA,EAE/C,CAAA,EAAG,0BAAA;AAAA,EACH,EAAA,EAAI,6BAAA;AAAA,EACJ,KAAA,EAAO,8BAAA;AAAA,EACP,IAAA,EAAM,0BAAA;AAAA,EACN,GAAA,EAAK,yBAAA;AAAA,EACL,EAAA,EAAI,kCAAA;AAAA,EACJ,GAAA,EAAK,wCAAA;AAAA,EACL,IAAA,EAAM,oCAAA;AAAA;AAAA,EAEN,QAAA,EAAU,2CAAA;AAAA,EACV,QAAA,EAAU,6BAAA;AAAA,EACV,MAAA,EAAQ,wCAAA;AAAA,EACR,KAAA,EAAO,0BAAA;AAAA,EACP,KAAA,EAAO,gCAAA;AAAA,EACP,EAAA,EAAI,gDAAA;AAAA,EACJ,IAAA,EAAM,wCAAA;AAAA,EACN,IAAA,EAAM;AACR,CAAA;AAOO,SAAS,eAAe,eAAA,EAA0C;AACvE,EAAA,IAAI,OAAO,oBAAoB,QAAA,EAAU;AACvC,IAAA,OAAO,eAAA;AAAA,EACT;AAGA,EAAA,MAAM,WAAA,GAAc,gBAAgB,WAAA,EAAY;AAGhD,EAAA,IAAI,eAAe,cAAA,EAAgB;AACjC,IAAA,OAAO,eAAe,WAAW,CAAA;AAAA,EACnC;AAGA,EAAA,MAAM,QAAA,GAAW,SAAS,WAAW,CAAA;AACrC,EAAA,IAAI,CAAC,KAAA,CAAM,QAAQ,CAAA,EAAG;AACpB,IAAA,OAAO,QAAA;AAAA,EACT;AAGA,EAAA,OAAO,gBAAA;AACT;AAQO,SAAS,QAAA,CACd,kBAAmC,gBAAA,EAC5B;AACP,EAAA,IAAI,OAAO,oBAAoB,QAAA,EAAU;AACvC,IAAA,MAAM,WAAA,GAAc,gBAAgB,WAAA,EAAY;AAEhD,IAAA,IAAI,cAAA,CAAe,WAAW,CAAA,EAAG;AAC/B,MAAA,OAAO,QAAA,CAAS,cAAA,CAAe,WAAW,CAAC,CAAA,IAAK,OAAA;AAAA,IAClD;AAGA,IAAA,MAAM,IAAI,KAAA,CAAM,CAAA,qBAAA,EAAwB,eAAe,CAAA,CAAE,CAAA;AAAA,EAC3D;AAGA,EAAA,OAAO,QAAA,CAAS,eAAe,CAAA,IAAK,OAAA;AACtC;AAOO,SAAS,SAAA,CACd,kBAAmC,gBAAA,EAC3B;AACR,EAAA,MAAM,UACJ,OAAO,eAAA,KAAoB,QAAA,GACvB,cAAA,CAAe,eAAe,CAAA,GAC9B,eAAA;AAEN,EAAA,OAAO,SAAA,CAAU,OAAO,CAAA,IAAK,eAAA;AAC/B;AAMO,SAAS,oBAAA,GAAiC;AAC/C,EAAA,OAAO,MAAA,CAAO,IAAA,CAAK,cAAc,CAAA,CAC9B,MAAA,CAAO,CAAC,IAAA,KAAS,IAAA,CAAK,MAAA,GAAS,CAAC,CAAA,CAChC,IAAA,EAAK;AACV;;;ACxKA,IAAM,WAAA,uBAAkB,GAAA,EAA0B;AAK3C,SAAS,eAAA,CAAgB,UAAU,UAAA,EAA0B;AAClE,EAAA,MAAM,QAAA,GAAW,OAAO,OAAO,CAAA;AAG/B,EAAA,IAAI,WAAA,CAAY,GAAA,CAAI,QAAQ,CAAA,EAAG;AAC7B,IAAA,OAAO,WAAA,CAAY,IAAI,QAAQ,CAAA;AAAA,EACjC;AAGA,EAAA,MAAM,KAAA,GAAQ,SAAS,OAAO,CAAA;AAC9B,EAAA,MAAM,MAAA,GAAS,UAAU,OAAO,CAAA;AAEhC,EAAA,MAAM,SAAS,kBAAA,CAAmB;AAAA,IAChC,KAAA;AAAA,IACA,SAAA,EAAW,KAAK,MAAM;AAAA,GACvB,CAAA;AAGD,EAAA,WAAA,CAAY,GAAA,CAAI,UAAU,MAAM,CAAA;AAEhC,EAAA,OAAO,MAAA;AACT;AAKO,SAAS,eAAA,CACd,UAAA,EACA,OAAA,GAAU,UAAA,EACI;AACd,EAAA,MAAM,KAAA,GAAQ,SAAS,OAAO,CAAA;AAC9B,EAAA,MAAM,MAAA,GAAS,UAAU,OAAO,CAAA;AAChC,EAAA,MAAM,OAAA,GAAU,oBAAoB,UAAU,CAAA;AAE9C,EAAA,OAAO,kBAAA,CAAmB;AAAA,IACxB,OAAA;AAAA,IACA,KAAA;AAAA,IACA,SAAA,EAAW,KAAK,MAAM;AAAA,GACvB,CAAA;AACH;AAOO,SAAS,yBAAyB,UAAA,EAA0B;AACjE,EAAA,MAAM,OAAA,GAAU,oBAAoB,UAAU,CAAA;AAC9C,EAAA,OAAO,OAAA,CAAQ,OAAA;AACjB;;;ACpEO,IAAM,SAAA,GAAY;AAAA,EACvB;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,cAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,WAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,QAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,4BAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,QAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,QAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,0BAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,sBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,sBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,QAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,oBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,qBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,WAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,SAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,WAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,UAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,OAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,MAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,QAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,aAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,UAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,cAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA;AAEV,CAAA;AAmBO,IAAM,cAAA,GACX,k8YAAA;ACnVF,eAAsB,cAAA,CACpB,YAAA,EACA,OAAA,GAAU,UAAA,EACQ;AAElB,EAAA,IAAI,qBAAA,CAAsB,IAAA,CAAK,YAAY,CAAA,EAAG;AAC5C,IAAA,OAAO,YAAA;AAAA,EACT;AAGA,EAAA,IAAI,YAAA,CAAa,QAAA,CAAS,GAAG,CAAA,EAAG;AAC9B,IAAA,IAAI;AAEF,MAAA,MAAM,aAAA,GAAgB,UAAU,YAAY,CAAA;AAG5C,MAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,MAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,QAC/C,IAAA,EAAM;AAAA,OACP,CAAA;AAED,MAAA,IAAI,CAAC,OAAA,EAAS;AACZ,QAAA,MAAM,IAAI,KAAA;AAAA,UACR,YAAY,YAAY,CAAA,oCAAA;AAAA,SAC1B;AAAA,MACF;AAEA,MAAA,OAAO,OAAA;AAAA,IACT,SAAS,KAAA,EAAY;AACnB,MAAA,MAAM,IAAI,KAAA;AAAA,QACR,CAAA,2BAAA,EAA8B,YAAY,CAAA,EAAA,EAAK,KAAA,CAAM,OAAO,CAAA;AAAA,OAC9D;AAAA,IACF;AAAA,EACF;AAGA,EAAA,MAAM,IAAI,KAAA,CAAM,CAAA,6BAAA,EAAgC,YAAY,CAAA,CAAE,CAAA;AAChE;;;ACtCA,eAAsB,gBAAA,CACpB,YAAA,EACA,OAAA,GAAU,KAAA,EAOT;AAED,EAAA,MAAM,OAAA,GAAU,MAAM,cAAA,CAAe,YAAA,EAAc,OAAO,CAAA;AAE1D,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,MAAM,UAAU,MAAM,MAAA,CAAO,UAAA,CAAW,EAAE,SAAS,CAAA;AACnD,EAAA,MAAM,cAAA,GAAiB,OAAO,KAAA,EAAO,cAAA;AAErC,EAAA,OAAO;AAAA,IACL,GAAA,EAAK,OAAA;AAAA,IACL,SAAA,EAAW,YAAY,OAAO,CAAA;AAAA,IAC9B,OAAA;AAAA,IACA,MAAA,EAAQ,gBAAgB,MAAA,IAAU,SAAA;AAAA,IAClC,QAAA,EAAU,gBAAgB,QAAA,IAAY;AAAA,GACxC;AACF;AASA,eAAsB,eAAA,CACpB,iBAAA,EACA,iBAAA,EACA,OAAA,GAAU,UAAA,EAST;AAED,EAAA,MAAM,YAAA,GAAe,MAAM,cAAA,CAAe,iBAAA,EAAmB,OAAO,CAAA;AACpE,EAAA,MAAM,YAAA,GAAe,MAAM,cAAA,CAAe,iBAAA,EAAmB,OAAO,CAAA;AAEpE,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,EAAA,MAAM,WAAW,WAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,SAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAED,EAAA,MAAM,CAAC,OAAA,EAAS,MAAA,EAAQ,QAAQ,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,IACpD,QAAA,CAAS,IAAA,CAAK,SAAA,CAAU,CAAC,YAAY,CAAC,CAAA;AAAA,IACtC,QAAA,CAAS,KAAK,MAAA,EAAO;AAAA,IACrB,QAAA,CAAS,KAAK,QAAA;AAAS,GACxB,CAAA;AAED,EAAA,OAAO;AAAA,IACL,GAAA,EAAK,OAAA;AAAA,IACL,SAAA,EAAW,WAAA,CAAY,OAAA,EAAS,QAAQ,CAAA;AAAA,IACxC,MAAA;AAAA,IACA,QAAA;AAAA,IACA,OAAA;AAAA,IACA,YAAA;AAAA,IACA;AAAA,GACF;AACF;;;ACrFO,IAAM,UAAA,GAAa;AAAA,EACxB;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA,EAAE,SAAS,KAAA,EAAO,YAAA,EAAc,QAAQ,IAAA,EAAM,UAAA,EAAY,MAAM,MAAA;AAAO,KACzE;AAAA,IACA,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN,EAAE,SAAS,IAAA,EAAM,YAAA,EAAc,WAAW,IAAA,EAAM,MAAA,EAAQ,MAAM,SAAA,EAAU;AAAA,MACxE;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,IAAA,EAAM,MAAM,SAAA,EAAU;AAAA,MACvD;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,SAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAA,EAAU,IAAA;AAAA,IACV,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,aAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,OAAA,EAAS,KAAA;AAAA,IACT,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACpE,IAAA,EAAM,WAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACvE,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACtE,IAAA,EAAM,aAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACxE,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,OAAA,EAAS,MAAM,SAAA,EAAU;AAAA,MAC1D;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,kBAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,QAAQ,IAAA,EAAM,EAAA,EAAI,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,IAC1D,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,MAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,UAAU,IAAA,EAAM,EAAA,EAAI,IAAA,EAAM,QAAA,EAAU,CAAA;AAAA,IAC9D,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACtE,IAAA,EAAM,SAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACrE,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,MAAA,EAAQ,MAAM,SAAA,EAAU;AAAA,MACzD;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,MAAM,SAAA;AAAU,KAC9D;AAAA,IACA,IAAA,EAAM,kBAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,MAAA,EAAQ,MAAM,SAAA,EAAU;AAAA,MACzD;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,MAAM,SAAA,EAAU;AAAA,MAC5D;AAAA,QACE,YAAA,EAAc,OAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,kBAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,UAAA,EAAY,MAAM,SAAA,EAAU;AAAA,MAC7D;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,WAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,mBAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ,CAAC,EAAE,YAAA,EAAc,UAAU,IAAA,EAAM,aAAA,EAAe,IAAA,EAAM,QAAA,EAAU,CAAA;AAAA,IACxE,IAAA,EAAM,mBAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,QAAQ,IAAA,EAAM,EAAA,EAAI,IAAA,EAAM,MAAA,EAAQ,CAAA;AAAA,IAC1D,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,QAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,UAAU,IAAA,EAAM,EAAA,EAAI,IAAA,EAAM,QAAA,EAAU,CAAA;AAAA,IAC9D,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ,CAAC,EAAE,YAAA,EAAc,WAAW,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,CAAA;AAAA,IACtE,IAAA,EAAM,UAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,UAAU,IAAA,EAAM,EAAA,EAAI,IAAA,EAAM,QAAA,EAAU,CAAA;AAAA,IAC9D,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,MAAA,EAAQ,MAAM,SAAA,EAAU;AAAA,MACzD;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA,EAAE,YAAA,EAAc,SAAA,EAAW,IAAA,EAAM,SAAA,EAAW,MAAM,SAAA;AAAU,KAC9D;AAAA,IACA,IAAA,EAAM,cAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA;AAEV,CAAA;;;AC7NO,IAAM,WAAA,GAAc;AAAA,EACzB;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,KAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,QAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,eAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,SAAA,EAAW,KAAA;AAAA,IACX,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,OAAA,EAAS,KAAA;AAAA,QACT,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,OAAA,EAAS,IAAA;AAAA,QACT,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,KAAA;AAAA,IACN,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,WAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,QAAQ,EAAC;AAAA,IACT,IAAA,EAAM,MAAA;AAAA,IACN,OAAA,EAAS,CAAC,EAAE,YAAA,EAAc,UAAU,IAAA,EAAM,EAAA,EAAI,IAAA,EAAM,QAAA,EAAU,CAAA;AAAA,IAC9D,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,KAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,gBAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,kBAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,KAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,WAAA;AAAA,QACd,IAAA,EAAM,SAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,OAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,uBAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,QAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,OAAA;AAAA,QACd,IAAA,EAAM,MAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,kBAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA,OACR;AAAA,MACA;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,UAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,mBAAA;AAAA,IACN,SAAS,EAAC;AAAA,IACV,eAAA,EAAiB,YAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,aAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,mBAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,MAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA,GACR;AAAA,EACA;AAAA,IACE,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,YAAA,EAAc,SAAA;AAAA,QACd,IAAA,EAAM,IAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,IAAA,EAAM,KAAA;AAAA,IACN,OAAA,EAAS;AAAA,MACP;AAAA,QACE,YAAA,EAAc,QAAA;AAAA,QACd,IAAA,EAAM,EAAA;AAAA,QACN,IAAA,EAAM;AAAA;AACR,KACF;AAAA,IACA,eAAA,EAAiB,MAAA;AAAA,IACjB,IAAA,EAAM;AAAA;AAEV,CAAA;;;ACzSA,eAAsB,WAAA,CACpB,UAAA,EACA,cAAA,EACA,MAAA,EACA,UAAU,UAAA,EACK;AAEf,EAAA,MAAM,SAAA,GAAY,MAAM,cAAA,CAAe,cAAA,EAAgB,OAAO,CAAA;AAG9D,EAAA,MAAM,YAAA,GACJ,OAAO,UAAA,KAAe,QAAA,IAAY,CAAC,UAAA,CAAW,UAAA,CAAW,IAAI,CAAA,GACxD,CAAA,EAAA,EAAK,UAAU,CAAA,CAAA,GACf,UAAA;AAEP,EAAA,MAAM,MAAA,GAAS,eAAA,CAAgB,YAAA,EAAc,OAAO,CAAA;AACpD,EAAA,MAAM,SAAA,GAAY,WAAW,MAAM,CAAA;AAEnC,EAAA,OAAO,OAAO,eAAA,CAAgB;AAAA,IAC5B,EAAA,EAAI,SAAA;AAAA,IACJ,KAAA,EAAO,SAAA;AAAA,IACP,SAAS,MAAA,CAAO,OAAA;AAAA,IAChB,OAAO,MAAA,CAAO;AAAA,GACf,CAAA;AACH;AAWA,eAAsB,cACpB,iBAAA,EACA,cAAA,EACA,MAAA,EACA,UAAA,EACA,UAAkB,UAAA,EAWjB;AAED,EAAA,MAAM,eAAgB,MAAM,cAAA;AAAA,IAC1B,iBAAA;AAAA,IACA;AAAA,GACF;AACA,EAAA,MAAM,SAAA,GAAa,MAAM,cAAA,CAAe,cAAA,EAAgB,OAAO,CAAA;AAG/D,EAAA,MAAM,YAAA,GACJ,OAAO,UAAA,KAAe,QAAA,IAAY,CAAC,UAAA,CAAW,UAAA,CAAW,IAAI,CAAA,GACxD,CAAA,EAAA,EAAK,UAAU,CAAA,CAAA,GACf,UAAA;AAGP,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,EAAA,MAAM,WAAWC,WAAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,SAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAGD,EAAA,MAAM,QAAA,GAAY,MAAM,QAAA,CAAS,IAAA,CAAK,QAAA,EAAS;AAC/C,EAAA,MAAM,MAAA,GAAU,MAAM,QAAA,CAAS,IAAA,CAAK,MAAA,EAAO;AAG3C,EAAA,MAAM,SAAA,GAAY,UAAA,CAAW,MAAA,EAAQ,QAAQ,CAAA;AAG7C,EAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,YAAA,EAAc,OAAO,CAAA;AAG1D,EAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,IAC5C,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,SAAA;AAAA,IACL,YAAA,EAAc,UAAA;AAAA,IACd,IAAA,EAAM,CAAC,SAAA,EAAW,SAAS,CAAA;AAAA,IAC3B,SAAS,YAAA,CAAa,OAAA;AAAA,IACtB,OAAO,YAAA,CAAa;AAAA,GACrB,CAAA;AAED,EAAA,OAAO;AAAA,IACL,MAAA,EAAQ,IAAA;AAAA,IACR,MAAA,EAAQ;AAAA,MACN,GAAA,EAAK,SAAA;AAAA,MACL,SAAA,EAAW;AAAA,KACb;AAAA,IACA,KAAA,EAAO;AAAA,MACL,MAAA;AAAA,MACA;AAAA;AACF,GACF;AACF;AAWA,eAAsB,aACpB,iBAAA,EACA,mBAAA,EACA,MAAA,EACA,UAAA,EACA,UAAkB,UAAA,EAWjB;AAED,EAAA,MAAM,eAAgB,MAAM,cAAA;AAAA,IAC1B,iBAAA;AAAA,IACA;AAAA,GACF;AACA,EAAA,MAAM,iBAAkB,MAAM,cAAA;AAAA,IAC5B,mBAAA;AAAA,IACA;AAAA,GACF;AAGA,EAAA,MAAM,YAAA,GACJ,OAAO,UAAA,KAAe,QAAA,IAAY,CAAC,UAAA,CAAW,UAAA,CAAW,IAAI,CAAA,GACxD,CAAA,EAAA,EAAK,UAAU,CAAA,CAAA,GACf,UAAA;AAGP,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,EAAA,MAAM,WAAWA,WAAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,SAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAGD,EAAA,MAAM,QAAA,GAAY,MAAM,QAAA,CAAS,IAAA,CAAK,QAAA,EAAS;AAC/C,EAAA,MAAM,MAAA,GAAU,MAAM,QAAA,CAAS,IAAA,CAAK,MAAA,EAAO;AAG3C,EAAA,MAAM,SAAA,GAAY,UAAA,CAAW,MAAA,EAAQ,QAAQ,CAAA;AAG7C,EAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,YAAA,EAAc,OAAO,CAAA;AAG1D,EAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,IAC5C,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,SAAA;AAAA,IACL,YAAA,EAAc,SAAA;AAAA,IACd,IAAA,EAAM,CAAC,cAAA,EAAgB,SAAS,CAAA;AAAA,IAChC,SAAS,YAAA,CAAa,OAAA;AAAA,IACtB,OAAO,YAAA,CAAa;AAAA,GACrB,CAAA;AAED,EAAA,OAAO;AAAA,IACL,MAAA,EAAQ,IAAA;AAAA,IACR,MAAA,EAAQ;AAAA,MACN,GAAA,EAAK,SAAA;AAAA,MACL,SAAA,EAAW;AAAA,KACb;AAAA,IACA,KAAA,EAAO;AAAA,MACL,MAAA;AAAA,MACA;AAAA;AACF,GACF;AACF;AAWA,eAAsB,eACpB,iBAAA,EACA,cAAA,EACA,OAAA,EACA,UAAA,EACA,UAAkB,UAAA,EAQjB;AAED,EAAA,MAAM,eAAgB,MAAM,cAAA;AAAA,IAC1B,iBAAA;AAAA,IACA;AAAA,GACF;AACA,EAAA,MAAM,SAAA,GAAa,MAAM,cAAA,CAAe,cAAA,EAAgB,OAAO,CAAA;AAG/D,EAAA,MAAM,YAAA,GACJ,OAAO,UAAA,KAAe,QAAA,IAAY,CAAC,UAAA,CAAW,UAAA,CAAW,IAAI,CAAA,GACxD,CAAA,EAAA,EAAK,UAAU,CAAA,CAAA,GACf,UAAA;AAGP,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,EAAA,MAAM,WAAWA,WAAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,UAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAGD,EAAA,MAAM,IAAA,GAAQ,MAAM,QAAA,CAAS,IAAA,CAAK,IAAA,EAAK;AACvC,EAAA,MAAM,MAAA,GAAU,MAAM,QAAA,CAAS,IAAA,CAAK,MAAA,EAAO;AAG3C,EAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,YAAA,EAAc,OAAO,CAAA;AAG1D,EAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,IAC5C,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,UAAA;AAAA,IACL,YAAA,EAAc,cAAA;AAAA,IACd,MAAM,CAAC,YAAA,CAAa,OAAA,CAAS,OAAA,EAAS,WAAW,OAAO,CAAA;AAAA,IACxD,SAAS,YAAA,CAAa,OAAA;AAAA,IACtB,OAAO,YAAA,CAAa;AAAA,GACrB,CAAA;AAED,EAAA,OAAO;AAAA,IACL,MAAA,EAAQ,IAAA;AAAA,IACR,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,IAC1B,KAAA,EAAO;AAAA,MACL,IAAA;AAAA,MACA;AAAA;AACF,GACF;AACF;AAYA,eAAsB,gBACpB,iBAAA,EACA,cAAA,EACA,SACA,MAAA,EACA,UAAA,EACA,UAAkB,UAAA,EAKjB;AAED,EAAA,MAAM,eAAgB,MAAM,cAAA;AAAA,IAC1B,iBAAA;AAAA,IACA;AAAA,GACF;AACA,EAAA,MAAM,SAAA,GAAa,MAAM,cAAA,CAAe,cAAA,EAAgB,OAAO,CAAA;AAG/D,EAAA,MAAM,YAAA,GACJ,OAAO,UAAA,KAAe,QAAA,IAAY,CAAC,UAAA,CAAW,UAAA,CAAW,IAAI,CAAA,GACxD,CAAA,EAAA,EAAK,UAAU,CAAA,CAAA,GACf,UAAA;AAGP,EAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,YAAA,EAAc,OAAO,CAAA;AAG1D,EAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,IAC5C,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,WAAA;AAAA,IACL,YAAA,EAAc,kBAAA;AAAA,IACd,IAAA,EAAM;AAAA,MACJ,aAAa,OAAA,CAAS,OAAA;AAAA,MACtB,SAAA;AAAA,MACA,OAAA;AAAA,MACA,OAAO,MAAM,CAAA;AAAA,MACb;AAAA,KACF;AAAA,IACA,SAAS,YAAA,CAAa,OAAA;AAAA,IACtB,OAAO,YAAA,CAAa;AAAA,GACrB,CAAA;AAED,EAAA,OAAO;AAAA,IACL,MAAA,EAAQ,IAAA;AAAA,IACR,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,IAC1B;AAAA,GACF;AACF;;;AC/UA,eAAsB,cAAA,CAAe,UAAU,UAAA,EAA6B;AAC1E,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,OAAO,cAAA,EAAe;AACrC;AAKA,eAAsB,gBAAA,CACpB,WAAA,EACA,OAAA,GAAU,UAAA,EACM;AAChB,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,OAAO,QAAA,CAAS,EAAE,aAAa,MAAA,CAAO,WAAW,GAAG,CAAA;AACnE;AAKA,eAAsB,cAAA,CACpB,SAAA,EACA,OAAA,GAAU,UAAA,EACM;AAChB,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,MAAA,CAAO,QAAA,CAAS,EAAE,WAAW,CAAA;AAC5C;AAKA,eAAsB,cAAA,CAAe,UAAU,UAAA,EAA4B;AACzE,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,OAAO,QAAA,EAAS;AAC/B;;;AC5BA,eAAsB,cAAA,CAAe,IAAA,EAAY,OAAA,GAAU,UAAA,EAAY;AACrE,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,MAAA,CAAO,cAAA,CAAe,EAAE,MAAM,CAAA;AAC7C;AA4BA,eAAsB,WAAA,CACpB,MAAA,EACA,OAAA,GAAU,UAAA,EACO;AACjB,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,MAAA,CAAO,WAAA,CAAY,MAAM,CAAA;AACxC;AAKA,eAAsB,UAAA,CAAW,UAAU,UAAA,EAA6B;AACtE,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,MAAM,OAAA,GAAU,MAAM,MAAA,CAAO,UAAA,EAAW;AACxC,EAAA,OAAO,OAAO,OAAO,CAAA;AACvB;;;AC5CA,eAAsB,YAAA,CACpB,MAAA,EACA,OAAA,GAAU,UAAA,EACV;AACA,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,OAAO,MAAM,MAAA,CAAO,YAAA,CAAa,MAAM,CAAA;AACzC;AAKA,eAAsB,aAAA,CACpB,UAAA,EACA,MAAA,EACA,OAAA,GAAU,UAAA,EACK;AACf,EAAA,MAAM,MAAA,GAAS,eAAA,CAAgB,UAAA,EAAY,OAAO,CAAA;AAClD,EAAA,OAAO,MAAM,MAAA,CAAO,aAAA,CAAc,MAAa,CAAA;AACjD;AAmBA,eAAsB,UAAA,CACpB,YAAA,EACA,OAAA,GAAU,UAAA,EACQ;AAElB,EAAA,MAAM,OAAA,GAAU,MAAM,cAAA,CAAe,YAAA,EAAc,OAAO,CAAA;AAE1D,EAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,EAAA,MAAM,OAAO,MAAM,MAAA,CAAO,OAAA,CAAQ,EAAE,SAAS,CAAA;AAC7C,EAAA,OAAO,IAAA,KAAS,UAAa,IAAA,KAAS,IAAA;AACxC;ACjDA,eAAsB,iBAAA,CACpB,YAAA,EACA,OAAA,GAAkB,UAAA,EAOjB;AACD,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,EAAA,MAAM,cAAA,GAAiB,MAAM,UAAA,CAAW,YAAA,EAAc,OAAO,CAAA;AAC7D,EAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,IAAA,MAAM,IAAI,MAAM,iCAAiC,CAAA;AAAA,EACnD;AAEA,EAAA,MAAM,WAAWA,WAAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,SAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAED,EAAA,MAAM,CAAC,MAAM,MAAA,EAAQ,QAAA,EAAU,WAAW,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,IAC9D,QAAA,CAAS,KAAK,IAAA,EAAK;AAAA,IACnB,QAAA,CAAS,KAAK,MAAA,EAAO;AAAA,IACrB,QAAA,CAAS,KAAK,QAAA,EAAS;AAAA,IACvB,QAAA,CAAS,KAAK,WAAA;AAAY,GAC3B,CAAA;AAED,EAAA,OAAO;AAAA,IACL,IAAA;AAAA,IACA,MAAA;AAAA,IACA,QAAA;AAAA,IACA,WAAA;AAAA,IACA,oBAAA,EAAsBC,WAAAA,CAAY,WAAA,EAAa,QAAQ;AAAA,GACzD;AACF;AAKA,eAAsB,sBAAA,CACpB,YAAA,EACA,OAAA,EACA,OAAA,GAAkB,UAAA,EAUjB;AACD,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,EAAA,MAAM,cAAA,GAAiB,MAAM,UAAA,CAAW,YAAA,EAAc,OAAO,CAAA;AAC7D,EAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,IAAA,MAAM,IAAI,MAAM,iCAAiC,CAAA;AAAA,EACnD;AAEA,EAAA,MAAM,WAAWD,WAAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,UAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAED,EAAA,MAAM,CAAC,MAAM,MAAA,EAAQ,QAAA,EAAU,OAAO,WAAW,CAAA,GAAI,MAAM,OAAA,CAAQ,GAAA,CAAI;AAAA,IACrE,QAAA,CAAS,KAAK,IAAA,EAAK;AAAA,IACnB,QAAA,CAAS,KAAK,MAAA,EAAO;AAAA,IACrB,QAAA,CAAS,IAAA,CAAK,QAAA,CAAS,CAAC,OAAO,CAAC,CAAA;AAAA,IAChC,QAAA,CAAS,IAAA,CAAK,OAAA,CAAQ,CAAC,OAAO,CAAC,CAAA;AAAA,IAC/B,QAAA,CAAS,KAAK,WAAA;AAAY,GAC3B,CAAA;AAED,EAAA,OAAO;AAAA,IACL,EAAA,EAAI,OAAA;AAAA,IACJ,IAAA;AAAA,IACA,MAAA;AAAA,IACA,QAAA;AAAA,IACA,KAAA;AAAA,IACA,WAAA;AAAA,IACA,OAAA;AAAA,IACA,eAAA,EAAiB;AAAA,GACnB;AACF;AAKA,eAAsB,uBAAA,CACpB,YAAA,EACA,OAAA,EACA,OAAA,GAAkB,UAAA,EAOjB;AACD,EAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,EAAA,MAAM,cAAA,GAAiB,MAAM,UAAA,CAAW,YAAA,EAAc,OAAO,CAAA;AAC7D,EAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,IAAA,MAAM,IAAI,MAAM,iCAAiC,CAAA;AAAA,EACnD;AAEA,EAAA,MAAM,WAAWA,WAAAA,CAAY;AAAA,IAC3B,OAAA,EAAS,YAAA;AAAA,IACT,GAAA,EAAK,WAAA;AAAA,IACL,MAAA,EAAQ;AAAA,GACT,CAAA;AAED,EAAA,MAAM,CAAC,IAAA,EAAM,GAAG,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,IACpC,QAAA,CAAS,KAAK,IAAA,EAAK;AAAA,IACnB,QAAA,CAAS,IAAA,CAAK,GAAA,CAAI,CAAC,OAAO,CAAC;AAAA,GAC5B,CAAA;AAED,EAAA,OAAO;AAAA,IACL,EAAA,EAAI,OAAA;AAAA,IACJ,IAAA;AAAA,IACA,QAAA,EAAU,GAAA;AAAA,IACV,OAAA;AAAA,IACA,eAAA,EAAiB;AAAA,GACnB;AACF;AAWO,IAAM,mBAAmB,OAAO;AAAA,EACrC,IAAA;AAAA,EACA,MAAA;AAAA,EACA,UAAA;AAAA,EACA,WAAA,GAAc,YAAA;AAAA;AAAA,EACd,OAAA,GAAU;AACZ,CAAA,KAMM;AACJ,EAAA,MAAM,MAAA,GAAS,eAAA,CAAgB,UAAA,EAAY,OAAO,CAAA;AAClD,EAAA,MAAM,MAAA,GAAS,OAAO,WAAW,CAAA;AACjC,EAAA,MAAM,IAAA,GAAO,MAAM,MAAA,CAAO,cAAA,CAAe;AAAA,IACvC,GAAA,EAAK,SAAA;AAAA,IACL,QAAA,EAAU,cAAA;AAAA,IACV,IAAA,EAAM,CAAC,IAAA,EAAM,MAAA,EAAQ,MAAM,CAAA;AAAA,IAC3B,SAAS,MAAA,CAAO,OAAA;AAAA,IAChB,OAAO,MAAA,CAAO;AAAA,GACf,CAAA;AAED,EAAA,cAAA,CAAO,KAAK,CAAA,0BAAA,EAA6B,IAAI,MAAM,MAAM,CAAA,GAAA,EAAM,IAAI,CAAA,CAAE,CAAA;AACrE,EAAA,OAAO;AAAA,IACL,IAAA;AAAA,IACA,IAAA;AAAA,IACA,MAAA;AAAA,IACA,WAAA,EAAa,MAAA;AAAA,IACb,KAAA,EAAO,OAAO,OAAA,CAAS;AAAA,GACzB;AACF,CAAA;AC9KO,IAAM,KAAA,GAAQ;AAAA;AAAA,EAEnB,UAAA,EAAAE,UAAAA;AAAA;AAAA,EAGA,WAAA,EAAAC,WAAAA;AAAA;AAAA,EAGA,YAAA,EAAc,CAAC,KAAA,KAA0B,KAAA,CAAM,QAAA,EAAS;AAAA;AAAA,EAGxD,UAAA,EAAY,CAAC,GAAA,KACX,IAAA,CAAK,SAAA;AAAA,IACH,GAAA;AAAA,IACA,CAAC,GAAG,KAAA,KAAW,OAAO,UAAU,QAAA,GAAW,KAAA,CAAM,UAAS,GAAI,KAAA;AAAA,IAC9D;AAAA,GACF;AAAA;AAAA,EAGF,YAAA,EAAc,CAAC,KAAA,KAAmC;AAChD,IAAA,OAAO,MAAA,CAAO,KAAK,CAAA,CAAE,cAAA,EAAe;AAAA,EACtC,CAAA;AAAA;AAAA,EAGA,WAAA,EAAa,CAAC,GAAA,KAAwB;AACpC,IAAA,OAAO,QAAA,CAAS,KAAK,EAAE,CAAA;AAAA,EACzB,CAAA;AAAA;AAAA,EAGA,WAAA,EAAa,CAAC,GAAA,KAAwB;AACpC,IAAA,OAAO,IAAA,GAAO,GAAA,CAAI,QAAA,CAAS,EAAE,CAAA;AAAA,EAC/B;AACF,CAAA;;;AC/BA,IAAM,cAAA,GAAiB,CAAC,IAAA,EAAc,KAAA,KAAe;AAEnD,EAAA,IAAI,OAAO,UAAU,QAAA,EAAU;AAC7B,IAAA,OAAO,MAAM,QAAA,EAAS;AAAA,EACxB;AAEA,EAAA,OAAO,KAAA;AACT,CAAA;AAQO,IAAM,aAAA,GAAgB,CAAC,KAAA,EAAY,KAAA,KAA2B;AACnE,EAAA,IAAI;AACF,IAAA,OAAO,IAAA,CAAK,SAAA,CAAU,KAAA,EAAO,cAAA,EAAgB,KAAK,CAAA;AAAA,EACpD,SAAS,KAAA,EAAO;AAEd,IAAA,OAAA,CAAQ,KAAA,CAAM,2BAA2B,KAAK,CAAA;AAC9C,IAAA,OAAO,IAAA,CAAK,SAAA,CAAU,EAAE,KAAA,EAAO,6BAA6B,CAAA;AAAA,EAC9D;AACF,CAAA;AAgBO,IAAM,UAAA,GAAa;AAAA;AAAA,EAExB,KAAA,EAAO,CAAC,KAAA,EAAgB,SAAA,KAAsB;AAC5C,IAAA,OAAO;AAAA,MACL,OAAA,EAAS;AAAA,QACP;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,IAAA,EAAM,CAAA,MAAA,EAAS,SAAS,CAAA,EAAA,EAAK,KAAA,YAAiB,QAAQ,KAAA,CAAM,OAAA,GAAU,MAAA,CAAO,KAAK,CAAC,CAAA;AAAA;AACrF;AACF,KACF;AAAA,EACF,CAAA;AAAA;AAAA,EAEA,OAAA,EAAS,CAAC,IAAA,KAAkB;AAC1B,IAAA,OAAO;AAAA,MACL,OAAA,EAAS;AAAA,QACP;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,IAAA,EAAM,aAAA,CAAc,IAAA,EAAM,CAAC;AAAA;AAC7B;AACF,KACF;AAAA,EACF;AACF,CAAA;;;AC5DO,SAAS,mBAAmB,MAAA,EAAmB;AAEpD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,qBAAA;AAAA,IACA;AAAA,MACE,SAAA,EAAWJ,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MAC1D,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,SAAA,EAAU,KAAM;AAChC,MAAA,IAAI;AACF,QAAA,MAAM,KAAA,GAAQ,MAAe,cAAA,CAAe,SAAA,EAAmB,OAAO,CAAA;AACtE,QAAA,OAAO,UAAA,CAAW,QAAQ,KAAK,CAAA;AAAA,MACjC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,wBAAwB,CAAA;AAAA,MACzD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,qBAAA;AAAA,IACA,uBAAA;AAAA,IACA;AAAA,MACE,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MAC9D,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,WAAA,EAAY,KAAM;AAClC,MAAA,IAAI;AACF,QAAA,MAAM,QAAQ,MAAe,gBAAA;AAAA,UAC3B,SAAS,WAAW,CAAA;AAAA,UACpB;AAAA,SACF;AACA,QAAA,OAAO,UAAA,CAAW,QAAQ,KAAK,CAAA;AAAA,MACjC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,sBAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,KAAA,GAAQ,MAAe,cAAA,CAAe,OAAO,CAAA;AACnD,QAAA,OAAO,UAAA,CAAW,QAAQ,KAAK,CAAA;AAAA,MACjC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AACF;;;AC3DO,SAAS,eAAe,MAAA,EAAmB;AAChD,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC3B,EAAA,kBAAA,CAAmB,MAAM,CAAA;AAC3B;ACEA,IAAM,cAAA,GAKD;AAAA,EACH,QAAA,EAAU;AAAA,IACR,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,CAAC,CAAA,EAAG,EAAA,EAAI,KAAK,KAAA,EAAO,EAAA,EAAI,MAAM,KAAK,CAAA;AAAA,IACpD,YAAA,EAAc,eAAA;AAAA,IACd,iBAAA,EAAmB;AAAA,MACjB,CAAA,EAAG,4CAAA;AAAA,MACH,EAAA,EAAI,4CAAA;AAAA,MACJ,GAAA,EAAK,4CAAA;AAAA,MACL,KAAA,EAAO,4CAAA;AAAA,MACP,EAAA,EAAI;AAAA;AACN,GACF;AAAA,EACA,SAAA,EAAW;AAAA,IACT,IAAA,EAAM,WAAA;AAAA,IACN,eAAA,EAAiB,CAAC,CAAA,EAAG,EAAA,EAAI,KAAK,KAAA,EAAO,EAAA,EAAI,IAAA,EAAM,KAAA,EAAO,GAAG,CAAA;AAAA,IACzD,YAAA,EAAc,cAAA;AAAA,IACd,iBAAA,EAAmB;AAAA,MACjB,CAAA,EAAG,4CAAA;AAAA,MACH,EAAA,EAAI,4CAAA;AAAA,MACJ,GAAA,EAAK,4CAAA;AAAA,MACL,KAAA,EAAO;AAAA;AACT,GACF;AAAA,EACA,QAAA,EAAU;AAAA,IACR,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,CAAC,CAAA,EAAG,EAAA,EAAI,KAAK,KAAA,EAAO,EAAA,EAAI,OAAO,GAAG,CAAA;AAAA,IACnD,YAAA,EAAc,eAAA;AAAA,IACd,iBAAA,EAAmB;AAAA,MACjB,CAAA,EAAG,4CAAA;AAAA,MACH,EAAA,EAAI,4CAAA;AAAA,MACJ,GAAA,EAAK;AAAA;AACP,GACF;AAAA,EACA,MAAA,EAAQ;AAAA,IACN,IAAA,EAAM,QAAA;AAAA,IACN,iBAAiB,CAAC,CAAA,EAAG,GAAA,EAAK,KAAA,EAAO,IAAI,IAAI,CAAA;AAAA,IACzC,YAAA,EAAc,cAAA;AAAA,IACd,iBAAA,EAAmB;AAAA,MACjB,CAAA,EAAG,4CAAA;AAAA,MACH,GAAA,EAAK,4CAAA;AAAA,MACL,KAAA,EAAO;AAAA;AACT;AAEJ,CAAA;AAGA,IAAM,WAAA,GAAsC;AAAA,EAC1C,CAAA,EAAG,UAAA;AAAA,EACH,EAAA,EAAI,KAAA;AAAA,EACJ,GAAA,EAAK,SAAA;AAAA,EACL,KAAA,EAAO,UAAA;AAAA,EACP,EAAA,EAAI,UAAA;AAAA,EACJ,IAAA,EAAM,MAAA;AAAA,EACN,KAAA,EAAO,WAAA;AAAA,EACP,GAAA,EAAK;AACP,CAAA;AAqCO,SAAS,oBAAoB,MAAA,EAAmB;AAErD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,+CAAA;AAAA,IACA;AAAA,MACE,KAAA,EAAOA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MACpD,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MACvD,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,wCAAwC,CAAA;AAAA,MACzE,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mBAAmB,CAAA;AAAA,MAClD,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,gEAAgE;AAAA,KACzG;AAAA,IACA,OAAO,EAAE,KAAA,EAAO,QAAQ,WAAA,EAAa,SAAA,EAAW,QAAO,KAAM;AAC3D,MAAA,IAAI;AACF,QAAA,MAAM,aAAA,GAAgB,MAAA,CAAO,OAAA,CAAQ,WAAW,EAAE,IAAA,CAAK,CAAC,CAAC,CAAA,EAAG,IAAI,CAAA,KAAM,IAAA,KAAS,WAAW,IAAI,CAAC,CAAA;AAC/F,QAAA,MAAM,WAAA,GAAc,MAAA,CAAO,OAAA,CAAQ,WAAW,EAAE,IAAA,CAAK,CAAC,CAAC,CAAA,EAAG,IAAI,CAAA,KAAM,IAAA,KAAS,SAAS,IAAI,CAAC,CAAA;AAE3F,QAAA,IAAI,CAAC,aAAA,IAAiB,CAAC,WAAA,EAAa;AAClC,UAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,oBAAoB,GAAG,sBAAsB,CAAA;AAAA,QACjF;AAGA,QAAA,MAAM,SAMD,EAAC;AAEN,QAAA,KAAA,MAAW,CAAC,UAAA,EAAY,MAAM,KAAK,MAAA,CAAO,OAAA,CAAQ,cAAc,CAAA,EAAG;AACjE,UAAA,IAAI,MAAA,IAAU,WAAW,UAAA,EAAY;AAErC,UAAA,MAAM,WAAA,GAAc,MAAA,CAAO,eAAA,CAAgB,QAAA,CAAS,MAAA,CAAO,aAAa,CAAC,CAAA,IACtD,MAAA,CAAO,eAAA,CAAgB,QAAA,CAAS,MAAA,CAAO,WAAW,CAAC,CAAA;AAEtE,UAAA,IAAI,WAAA,EAAa;AAEf,YAAA,MAAM,GAAA,GAAO,OAAO,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA,GAAK,OAAO,GAAI,CAAA;AAEtD,YAAA,MAAA,CAAO,IAAA,CAAK;AAAA,cACV,QAAQ,MAAA,CAAO,IAAA;AAAA,cACf,eAAA,EAAA,CAAkB,MAAA,CAAO,MAAM,CAAA,GAAI,KAAK,QAAA,EAAS;AAAA,cACjD,GAAA,EAAK,IAAI,QAAA,EAAS;AAAA,cAClB,eAAe,MAAA,CAAO,YAAA;AAAA,cACtB,SAAA,EAAW;AAAA,aACZ,CAAA;AAAA,UACH;AAAA,QACF;AAGA,QAAA,MAAA,CAAO,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,MAAA,CAAO,CAAA,CAAE,eAAe,CAAA,GAAI,MAAA,CAAO,CAAA,CAAE,eAAe,CAAA,GAAI,IAAI,CAAA,CAAE,CAAA;AAEpF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,KAAA;AAAA,UACA,MAAA;AAAA,UACA,WAAA;AAAA,UACA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,UAAA,EAAY,MAAA,CAAO,CAAC,CAAA,EAAG,MAAA,IAAU,IAAA;AAAA,UACjC,OAAA,EAAS,MAAA,CAAO,MAAA,KAAW,CAAA,GAAI,+BAAA,GAAkC;AAAA,SAClE,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,sBAAsB,CAAA;AAAA,MACvD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,uCAAA;AAAA,IACA;AAAA,MACE,KAAA,EAAOA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MACpD,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MACvD,WAAA,EAAa,mBAAA;AAAA,MACb,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mBAAmB,CAAA;AAAA,MAClD,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uDAAuD,CAAA;AAAA,MACnF,UAAA,EAAY,eAAA;AAAA,MACZ,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,6DAA6D;AAAA,KACzG;AAAA,IACA,OAAO,EAAE,KAAA,EAAO,MAAA,EAAQ,aAAa,SAAA,EAAW,MAAA,EAAQ,UAAA,EAAY,SAAA,EAAU,KAAM;AAClF,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AACrD,QAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,UAAA,EAAmB,WAAW,CAAA;AACnE,QAAA,MAAM,YAAA,GAAe,gBAAgB,WAAW,CAAA;AAEhD,QAAA,MAAM,YAAA,GAAe,cAAA,CAAe,MAAA,CAAO,WAAA,EAAa,CAAA;AACxD,QAAA,IAAI,CAAC,YAAA,EAAc;AACjB,UAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,UAAU,MAAM,CAAA,cAAA,CAAgB,GAAG,kBAAkB,CAAA;AAAA,QACzF;AAEA,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAC9C,QAAA,MAAM,aAAA,GAAgB,YAAA,CAAa,iBAAA,CAAkB,OAAO,CAAA;AAE5D,QAAA,IAAI,CAAC,aAAA,EAAe;AAClB,UAAA,OAAO,UAAA,CAAW,KAAA,CAAM,IAAI,KAAA,CAAM,CAAA,OAAA,EAAU,MAAM,CAAA,kBAAA,EAAqB,WAAW,CAAA,CAAE,CAAA,EAAG,kBAAkB,CAAA;AAAA,QAC3G;AAEA,QAAA,MAAM,gBAAA,GAAmB,aAAa,OAAA,CAAQ,OAAA;AAI9C,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA,EAAQ,SAAA;AAAA,UACR,OAAA,EAAS,CAAA,gCAAA,EAAmC,YAAA,CAAa,IAAI,CAAA,CAAA;AAAA,UAC7D,OAAA,EAAS;AAAA,YACP,KAAA;AAAA,YACA,MAAA;AAAA,YACA,WAAA;AAAA,YACA,SAAA;AAAA,YACA,QAAQ,YAAA,CAAa,IAAA;AAAA,YACrB,cAAA,EAAgB,aAAA;AAAA,YAChB,SAAA,EAAW,gBAAA;AAAA,YACX,eAAe,YAAA,CAAa;AAAA,WAC9B;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,kBAAkB,CAAA;AAAA,MACnD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,0CAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQL,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,+BAA+B,CAAA;AAAA,MAC3D,WAAA,EAAa,mBAAA;AAAA,MACb,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,sBAAsB;AAAA,KACpD;AAAA,IACA,OAAO,EAAE,MAAA,EAAQ,WAAA,EAAa,QAAO,KAAM;AACzC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,WAAW,CAAA;AAGhD,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,sBAAsB,EAAE,IAAA,EAAM,QAAe,CAAA;AAEhF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA;AAAA,UACA,WAAA;AAAA,UACA,MAAA;AAAA,UACA,YAAA,EAAc,OAAA,CAAQ,MAAA,KAAW,SAAA,GAAY,WAAA,GAAc,QAAA;AAAA,UAC3D,iBAAA,EAAmB,OAAA,CAAQ,WAAA,CAAY,QAAA,EAAS;AAAA,UAChD,mBAAA,EAAqB,WAAA;AAAA,UACrB,iBAAA,EAAmB,SAAA;AAAA;AAAA,UACnB,qBAAqB,cAAA,CAAe,MAAA,CAAO,WAAA,EAAa,GAAG,YAAA,IAAgB,SAAA;AAAA,UAC3E,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,4DAAA;AAAA,IACA;AAAA,MACE,aAAaA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,gCAAgC,CAAA;AAAA,MAC5E,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,qCAAqC;AAAA,KACjF;AAAA,IACA,OAAO,EAAE,WAAA,EAAa,SAAA,EAAU,KAAM;AACpC,MAAA,IAAI;AACF,QAAA,MAAM,gBAAgB,WAAA,GACpB,MAAA,CAAO,OAAA,CAAQ,WAAW,EAAE,IAAA,CAAK,CAAC,CAAC,CAAA,EAAG,IAAI,CAAA,KAAM,IAAA,KAAS,WAAW,CAAA,GAAI,CAAC,CAAA,GAAI,IAAA;AAC/E,QAAA,MAAM,cAAc,SAAA,GAClB,MAAA,CAAO,OAAA,CAAQ,WAAW,EAAE,IAAA,CAAK,CAAC,CAAC,CAAA,EAAG,IAAI,CAAA,KAAM,IAAA,KAAS,SAAS,CAAA,GAAI,CAAC,CAAA,GAAI,IAAA;AAE7E,QAAA,MAAM,OAAA,GAAU,MAAA,CAAO,OAAA,CAAQ,cAAc,CAAA,CAAE,IAAI,CAAC,CAAC,GAAA,EAAK,MAAM,CAAA,KAAM;AACpE,UAAA,MAAM,mBAAA,GAAsB,MAAA,CAAO,eAAA,CAAgB,GAAA,CAAI,CAAA,EAAA,KAAM,YAAY,EAAE,CAAA,IAAK,CAAA,MAAA,EAAS,EAAE,CAAA,CAAE,CAAA;AAE7F,UAAA,IAAI,SAAA,GAAY,IAAA;AAChB,UAAA,IAAI,aAAA,IAAiB,CAAC,MAAA,CAAO,eAAA,CAAgB,SAAS,MAAA,CAAO,aAAa,CAAC,CAAA,EAAG,SAAA,GAAY,KAAA;AAC1F,UAAA,IAAI,WAAA,IAAe,CAAC,MAAA,CAAO,eAAA,CAAgB,SAAS,MAAA,CAAO,WAAW,CAAC,CAAA,EAAG,SAAA,GAAY,KAAA;AAEtF,UAAA,OAAO;AAAA,YACL,EAAA,EAAI,GAAA;AAAA,YACJ,MAAM,MAAA,CAAO,IAAA;AAAA,YACb,eAAA,EAAiB,mBAAA;AAAA,YACjB,eAAe,MAAA,CAAO,YAAA;AAAA,YACtB,aAAA,EAAe;AAAA,WACjB;AAAA,QACF,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,eAAe,SAAA,GAAY,OAAA,CAAQ,OAAO,CAAA,CAAA,KAAK,CAAA,CAAE,aAAa,CAAA,GAAI,OAAA;AAAA,UAC3E,YAAY,OAAA,CAAQ,MAAA;AAAA,UACpB,UAAA,EAAY,EAAE,WAAA,EAAa,SAAA;AAAU,SACtC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,+CAAA;AAAA,IACA;AAAA,MACE,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,cAAc,CAAA;AAAA,MAC/C,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mBAAmB,CAAA;AAAA,MAClD,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,gDAAgD;AAAA,KACzF;AAAA,IACA,OAAO,EAAE,WAAA,EAAa,SAAA,EAAW,QAAO,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,YAAiF,EAAC;AAExF,QAAA,KAAA,MAAW,CAAC,GAAA,EAAK,MAAM,KAAK,MAAA,CAAO,OAAA,CAAQ,cAAc,CAAA,EAAG;AAC1D,UAAA,IAAI,MAAA,IAAU,GAAA,KAAQ,MAAA,CAAO,WAAA,EAAY,EAAG;AAE5C,UAAA,SAAA,CAAU,IAAA,CAAK;AAAA,YACb,QAAQ,MAAA,CAAO,IAAA;AAAA,YACf,eAAe,MAAA,CAAO,YAAA;AAAA,YACtB,OAAA,EAAS;AAAA,cACP,uBAAA;AAAA,cACA,8BAAA;AAAA,cACA;AAAA;AACF,WACD,CAAA;AAAA,QACH;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,WAAA;AAAA,UACA,SAAA;AAAA,UACA,SAAA;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,wBAAwB,CAAA;AAAA,MACzD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,iBAAA;AAAA,IACA,kDAAA;AAAA,IACA;AAAA,MACE,KAAA,EAAOA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iBAAiB,CAAA;AAAA,MAC5C,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,eAAe,CAAA;AAAA,MAC3C,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,cAAc,CAAA;AAAA,MAC/C,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mBAAmB,CAAA;AAAA,MAClD,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iBAAiB;AAAA,KAC/C;AAAA,IACA,OAAO,EAAE,KAAA,EAAO,QAAQ,WAAA,EAAa,SAAA,EAAW,QAAO,KAAM;AAC3D,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,cAAA,CAAe,MAAA,CAAO,WAAA,EAAa,CAAA;AACxD,QAAA,IAAI,CAAC,YAAA,EAAc;AACjB,UAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,UAAU,MAAM,CAAA,UAAA,CAAY,GAAG,qBAAqB,CAAA;AAAA,QACxF;AAGA,QAAA,MAAM,WAAA,GAAe,OAAO,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA,GAAK,OAAO,GAAI,CAAA;AAC9D,QAAA,MAAM,KAAA,GAAS,OAAO,MAAM,CAAA,GAAI,OAAO,CAAC,CAAA,GAAK,OAAO,GAAI,CAAA;AACxD,QAAA,MAAM,WAAA,GAAc,MAAA;AAEpB,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,QAAQ,YAAA,CAAa,IAAA;AAAA,UACrB,KAAA;AAAA,UACA,MAAA;AAAA,UACA,WAAA;AAAA,UACA,SAAA;AAAA,UACA,IAAA,EAAM;AAAA,YACJ,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,YAClC,kBAAA,EAAoB,MAAA;AAAA,YACpB,KAAA,EAAO,MAAM,QAAA,EAAS;AAAA,YACtB,YAAA,EAAc,MAAA;AAAA,YACd,YAAA,EAAc,WAAA;AAAA,YACd,SAAA,EAAA,CAAY,WAAA,GAAc,KAAA,EAAO,QAAA;AAAS,WAC5C;AAAA,UACA,YAAY,MAAA,CAAO,MAAM,CAAA,GAAI,WAAA,GAAc,OAAO,QAAA,EAAS;AAAA,UAC3D,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,qBAAqB,CAAA;AAAA,MACtD;AAAA,IACF;AAAA,GACF;AACF;;;ACrYO,SAAS,sBAAsB,MAAA,EAAmB;AACvD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,sBAAA;AAAA,IACA,wEAAA;AAAA,IACA;AAAA,MACE,KAAA,EAAO,EAAE,WAAA,EAAa,iBAAA,EAAmB,UAAU,IAAA,EAAK;AAAA,MACxD,MAAA,EAAQ,EAAE,WAAA,EAAa,kBAAA,EAAoB,UAAU,IAAA,EAAK;AAAA,MAC1D,WAAA,EAAa,EAAE,WAAA,EAAa,mBAAA,EAAqB,UAAU,IAAA,EAAK;AAAA,MAChE,SAAA,EAAW,EAAE,WAAA,EAAa,wBAAA,EAA0B,UAAU,IAAA;AAAK,KACrE;AAAA,IACA,CAAC,EAAE,KAAA,EAAO,MAAA,EAAQ,WAAA,EAAa,WAAU,MAAO;AAAA,MAC9C,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,oDAAoD,MAAM,CAAA,UAAA,EAAa,KAAK,CAAA,MAAA,EAAS,WAAW,OAAO,SAAS,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,WAAA,EAiBrH,WAAW,WAAM,SAAS;AAAA,WAAA,EAC1B,KAAK;AAAA,YAAA,EACJ,MAAM;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,+CAAA;AAAA;AAUV;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,kBAAA;AAAA,IACA,2EAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQ,EAAE,WAAA,EAAa,2BAAA,EAA6B,UAAU,IAAA,EAAK;AAAA,MACnE,WAAA,EAAa,EAAE,WAAA,EAAa,oCAAA,EAAsC,UAAU,IAAA;AAAK,KACnF;AAAA,IACA,CAAC,EAAE,MAAA,EAAQ,WAAA,EAAY,MAAO;AAAA,MAC5B,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,gCAAA,EAAmC,MAAM,CAAA,yDAAA,EAA4D,WAAW,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,uCAAA,EAezF,WAAW,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,yDAAA;AAAA;AAY1C;AACF;AACF,KACF;AAAA,GACF;AACF;;;AC7FO,SAAS,eAAe,MAAA,EAAmB;AAChD,EAAA,mBAAA,CAAoB,MAAM,CAAA;AAC1B,EAAA,qBAAA,CAAsB,MAAM,CAAA;AAC9B;ACHO,SAAS,wBAAwB,MAAA,EAAmB;AAEzD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,wBAAA;AAAA,IACA,mDAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,sBAAsB,CAAA;AAAA,MAC3D,SAASA,CAAAA,CACN,MAAA,GACA,QAAA,EAAS,CACT,SAAS,mCAAmC,CAAA;AAAA,MAC/C,OAAA,EAAS;AAAA,KACX;AAAA,IACA,CAAC,EAAE,eAAA,EAAiB,OAAA,EAAS,OAAA,GAAU,OAAM,MAAO;AAAA,MAClD,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,OAAA,GACF,CAAA,sDAAA,EAAyD,eAAe,WAAW,OAAO,CAAA;;AAAA,EAAgC,OAAO;;AAAA,iKAAA,CAAA,GACjI,CAAA,sDAAA,EAAyD,eAAe,CAAA,QAAA,EAAW,OAAO,CAAA,kGAAA;AAAA;AAChG;AACF;AACF,KACF;AAAA,GACF;AACF;ACxBO,SAAS,sBAAsB,MAAA,EAAmB;AAEvD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,aAAA;AAAA,IACA,8EAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yCAAyC,CAAA;AAAA,MACtE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,GAAU,OAAM,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAMM,cAAa,MAAe,UAAA;AAAA,UAChC,OAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,UAAA,EAAAA,WAAAA;AAAA,UACA,IAAA,EAAMA,cAAa,UAAA,GAAa;AAAA,SACjC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,eAAA;AAAA,IACA,iEAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiBN,CAAAA,CACd,MAAA,EAAO,CACP,SAAS,oDAAoD,CAAA;AAAA,MAChE,GAAA,EAAKA,EACF,KAAA,CAAMA,CAAAA,CAAE,KAAK,CAAA,CACb,SAAS,yDAAyD,CAAA;AAAA,MACrE,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,SAAS,kDAAkD,CAAA;AAAA,MAC9D,IAAA,EAAMA,CAAAA,CACH,KAAA,CAAMA,CAAAA,CAAE,GAAA,EAAK,CAAA,CACb,QAAA,EAAS,CACT,QAAA,CAAS,uCAAuC,CAAA;AAAA,MACnD,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,eAAA,EAAiB,GAAA,EAAK,YAAA,EAAc,MAAAO,KAAAA,GAAO,EAAC,EAAG,OAAA,EAAQ,KAAM;AACpE,MAAA,IAAI;AAEF,QAAA,MAAM,YAAY,OAAO,GAAA,KAAQ,WAAW,IAAA,CAAK,KAAA,CAAM,GAAG,CAAA,GAAI,GAAA;AAE9D,QAAA,MAAM,MAAA,GAAS;AAAA,UACb,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,SAAA;AAAA,UACL,YAAA;AAAA,UACA,IAAA,EAAAA;AAAA,SACF;AAEA,QAAA,MAAM,MAAA,GAAS,MAAe,YAAA,CAAa,MAAA,EAAQ,OAAO,CAAA;AAE1D,QAAA,OAAO,UAAA,CAAW,QAAQ,MAAM,CAAA;AAAA,MAClC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,kBAAkB,CAAA;AAAA,MACnD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,qEAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiBP,CAAAA,CACd,MAAA,EAAO,CACP,SAAS,oDAAoD,CAAA;AAAA,MAChE,GAAA,EAAKA,EACF,KAAA,CAAMA,CAAAA,CAAE,KAAK,CAAA,CACb,SAAS,yDAAyD,CAAA;AAAA,MACrE,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,SAAS,kDAAkD,CAAA;AAAA,MAC9D,IAAA,EAAMA,EAAE,KAAA,CAAMA,CAAAA,CAAE,KAAK,CAAA,CAAE,SAAS,uCAAuC,CAAA;AAAA,MACvE,UAAA,EAAYA,CAAAA,CACT,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF,CACC,OAAA,CAAQ,OAAA,CAAQ,GAAA,CAAI,WAAqB,CAAA;AAAA,MAC5C,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO;AAAA,MACL,eAAA;AAAA,MACA,GAAA;AAAA,MACA,YAAA;AAAA,MACA,IAAA,EAAAO,KAAAA;AAAA,MACA,UAAA;AAAA,MACA,OAAA,GAAU;AAAA,KACZ,KAAM;AACJ,MAAA,IAAI;AAEF,QAAA,MAAM,YAAY,OAAO,GAAA,KAAQ,WAAW,IAAA,CAAK,KAAA,CAAM,GAAG,CAAA,GAAI,GAAA;AAE9D,QAAA,MAAM,cAAA,GAAsC;AAAA,UAC1C,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,SAAA;AAAA,UACL,YAAA;AAAA,UACA,IAAA,EAAAA;AAAA,SACF;AAEA,QAAA,MAAM,SAAS,MAAe,aAAA;AAAA,UAC5B,UAAA;AAAA,UACA,cAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,eAAA;AAAA,UACA,YAAA;AAAA,UACA,IAAA,EAAAA,KAAAA;AAAA,UACA,eAAA,EAAiB,MAAA;AAAA,UACjB,OAAA,EAAS;AAAA,SACV,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,qBAAqB,CAAA;AAAA,MACtD;AAAA,IACF;AAAA,GACF;AACF;;;ACpIO,SAAS,kBAAkB,MAAA,EAAmB;AACnD,EAAA,uBAAA,CAAwB,MAAM,CAAA;AAC9B,EAAA,qBAAA,CAAsB,MAAM,CAAA;AAC9B;ACEA,IAAM,gBAAA,GAAmB;AAAA,EACvB;AAAA,IACE,IAAA,EAAM,OAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,MAAA,EAAQ,IAAA,EAAM,WAAW,CAAA;AAAA,IAC1C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,MAAA,EAAQ,IAAA,EAAM,WAAW,CAAA;AAAA,IAC1C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,KAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,MAAA,EAAQ,IAAA,EAAM,WAAW,CAAA;AAAA,IAC1C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA;AAE1C,CAAA;AA8BA,IAAM,aAAA,GAAuD;AAAA,EAC3D,CAAA,EAAG,EAAE,QAAA,EAAU,4CAAA,EAA6C;AAAA,EAC5D,CAAA,EAAG,EAAE,QAAA,EAAU,4CAAA,EAA6C;AAAA;AAAA,EAC5D,QAAA,EAAU,EAAE,QAAA,EAAU,4CAAA;AAA6C;AACrE,CAAA;AAOO,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,6CAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAMP,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gCAAgC,CAAA;AAAA,MAC1D,SAASA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,6BAA6B;AAAA,KACvE;AAAA,IACA,OAAO,EAAE,IAAA,EAAM,OAAA,GAAU,YAAW,KAAM;AACxC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,aAAA,CAAc,EAAE,IAAA,EAAMQ,SAAAA,CAAU,IAAI,CAAA,EAAG,CAAA;AAE1E,QAAA,IAAI,CAAC,OAAA,EAAS;AACZ,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,IAAA;AAAA,YACA,QAAA,EAAU,KAAA;AAAA,YACV,OAAA,EAAS,IAAA;AAAA,YACT,OAAA,EAAS;AAAA,WACV,CAAA;AAAA,QACH;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,IAAA;AAAA,UACA,QAAA,EAAU,IAAA;AAAA,UACV,OAAA;AAAA,UACA,QAAA,EAAU,QAAA,CAASA,SAAAA,CAAU,IAAI,CAAC;AAAA,SACnC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,2DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASR,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAC/C,SAASA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,6BAA6B;AAAA,KACvE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,GAAU,YAAW,KAAM;AAC3C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,OAAO,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,SAA6B,CAAA;AAE1E,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,UAAA,EAAY,CAAC,CAAC,IAAA;AAAA,UACd,SAAS,IAAA,IAAQ;AAAA,SAClB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,iEAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,UAAU,CAAA;AAAA,MACpC,OAAA,EAASA,CAAAA,CAAE,KAAA,CAAMA,CAAAA,CAAE,MAAA,EAAQ,CAAA,CAAE,QAAA,EAAS,CAAE,QAAA,CAAS,kDAAkD;AAAA,KACrG;AAAA,IACA,OAAO,EAAE,IAAA,EAAM,OAAA,EAAQ,KAAM;AAC3B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,UAAU,CAAA;AAC/C,QAAA,MAAM,cAAA,GAAiBQ,UAAU,IAAI,CAAA;AAErC,QAAA,MAAM,cAAA,GAAiB;AAAA,UACrB,QAAA;AAAA,UACA,aAAA;AAAA,UACA,SAAA;AAAA,UACA,OAAA;AAAA,UACA,UAAA;AAAA,UACA,MAAA;AAAA,UACA,QAAA;AAAA,UACA,UAAA;AAAA,UACA,OAAA;AAAA,UACA,KAAA;AAAA,UACA,aAAA;AAAA,UACA,YAAA;AAAA,UACA,aAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,MAAM,iBAAiB,OAAA,IAAW,cAAA;AAClC,QAAA,MAAM,cAA6C,EAAC;AAEpD,QAAA,KAAA,MAAW,OAAO,cAAA,EAAgB;AAChC,UAAA,IAAI;AACF,YAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,IAAA,EAAM,cAAA,EAAgB,KAAK,CAAA;AACzE,YAAA,IAAI,KAAA,EAAO;AACT,cAAA,WAAA,CAAY,GAAG,CAAA,GAAI,KAAA;AAAA,YACrB;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAER;AAAA,QACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,IAAA,EAAM,cAAA;AAAA,UACN,WAAA;AAAA,UACA,YAAA,EAAc,MAAA,CAAO,IAAA,CAAK,WAAW,CAAA,CAAE;AAAA,SACxC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,oCAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAMR,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,UAAU;AAAA,KACtC;AAAA,IACA,OAAO,EAAE,IAAA,EAAK,KAAM;AAClB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,UAAU,CAAA;AAC/C,QAAA,MAAM,cAAA,GAAiBQ,UAAU,IAAI,CAAA;AAErC,QAAA,MAAM,SAAS,MAAM,YAAA,CAAa,aAAa,EAAE,IAAA,EAAM,gBAAgB,CAAA;AAEvE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,IAAA,EAAM,cAAA;AAAA,UACN,SAAA,EAAW,CAAC,CAAC,MAAA;AAAA,UACb,WAAW,MAAA,IAAU;AAAA,SACtB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,oDAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAMR,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kCAAkC;AAAA,KAC9D;AAAA,IACA,OAAO,EAAE,IAAA,EAAK,KAAM;AAClB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,UAAU,CAAA;AAC/C,QAAA,MAAM,WAAW,IAAA,CAAK,QAAA,CAAS,MAAM,CAAA,GAAI,IAAA,GAAO,GAAG,IAAI,CAAA,IAAA,CAAA;AACvD,QAAA,MAAM,cAAA,GAAiBQ,UAAU,QAAQ,CAAA;AAGzC,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,cAAc,EAAE,IAAA,EAAM,gBAAgB,CAAA;AAEzE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,IAAA,EAAM,cAAA;AAAA,UACN,YAAA,EAAc,CAAC,CAAC,OAAA;AAAA,UAChB,cAAc,OAAA,IAAW,IAAA;AAAA,UACzB,WAAW,CAAC,OAAA;AAAA,UACZ,IAAA,EAAM,UACF,iCAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AAEd,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAM,IAAA,CAAK,QAAA,CAAS,MAAM,CAAA,GAAI,IAAA,GAAO,GAAG,IAAI,CAAA,IAAA,CAAA;AAAA,UAC5C,YAAA,EAAc,KAAA;AAAA,UACd,SAAA,EAAW,IAAA;AAAA,UACX,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,6CAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAMR,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,UAAU;AAAA,KACtC;AAAA,IACA,OAAO,EAAE,IAAA,EAAK,KAAM;AAClB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,UAAU,CAAA;AAC/C,QAAA,MAAM,cAAA,GAAiBQ,UAAU,IAAI,CAAA;AACrC,QAAA,MAAM,IAAA,GAAO,SAAS,cAAc,CAAA;AACpC,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,YAAA,GAAe,cAAc,OAAO,CAAA;AAC1C,QAAA,IAAI,CAAC,YAAA,EAAc;AACjB,UAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,mCAAmC,GAAG,qBAAqB,CAAA;AAAA,QAC/F;AAGA,QAAA,MAAM,CAAC,OAAA,EAAS,QAAA,EAAU,KAAK,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UACnD,YAAA,CAAa,cAAc,EAAE,IAAA,EAAM,gBAAgB,CAAA,CAAE,KAAA,CAAM,MAAM,IAAI,CAAA;AAAA,UACrE,aAAa,YAAA,CAAa;AAAA,YACxB,SAAS,YAAA,CAAa,QAAA;AAAA,YACtB,GAAA,EAAK,gBAAA;AAAA,YACL,YAAA,EAAc,UAAA;AAAA,YACd,IAAA,EAAM,CAAC,IAAI;AAAA,WACZ,CAAA,CAAE,KAAA,CAAM,MAAM,IAAI,CAAA;AAAA,UACnB,aAAa,YAAA,CAAa;AAAA,YACxB,SAAS,YAAA,CAAa,QAAA;AAAA,YACtB,GAAA,EAAK,gBAAA;AAAA,YACL,YAAA,EAAc,OAAA;AAAA,YACd,IAAA,EAAM,CAAC,IAAI;AAAA,WACZ,CAAA,CAAE,KAAA,CAAM,MAAM,IAAI;AAAA,SACpB,CAAA;AAGD,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa,EAAE,IAAA,EAAM,cAAA,EAAgB,CAAA,CAAE,KAAA,CAAM,MAAM,IAAI,CAAA;AAEzF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,IAAA,EAAM,cAAA;AAAA,UACN,QAAA,EAAU,IAAA;AAAA,UACV,OAAA,EAAS;AAAA,YACP,eAAA,EAAiB,OAAA;AAAA,YACjB,KAAA;AAAA,YACA,QAAA;AAAA,YACA;AAAA,WACF;AAAA,UACA,YAAA,EAAc,CAAC,CAAC,KAAA,IAAS,KAAA,KAAU;AAAA,SACpC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,iDAAA;AAAA,IACA;AAAA,MACE,SAAA,EAAWR,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,6BAA6B;AAAA,KACvE;AAAA,IACA,OAAO,EAAE,SAAA,EAAU,KAAM;AACvB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,UAAU,CAAA;AAE/C,QAAA,MAAM,UAA8D,EAAC;AAErE,QAAA,KAAA,MAAW,WAAW,SAAA,EAAW;AAC/B,UAAA,IAAI;AACF,YAAA,MAAM,OAAO,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,SAA6B,CAAA;AAC1E,YAAA,OAAA,CAAQ,KAAK,EAAE,OAAA,EAAS,OAAA,EAAS,IAAA,IAAQ,MAAM,CAAA;AAAA,UACjD,CAAA,CAAA,MAAQ;AACN,YAAA,OAAA,CAAQ,IAAA,CAAK,EAAE,OAAA,EAAS,OAAA,EAAS,MAAM,CAAA;AAAA,UACzC;AAAA,QACF;AAEA,QAAA,MAAM,WAAW,OAAA,CAAQ,MAAA,CAAO,OAAK,CAAA,CAAE,OAAA,KAAY,IAAI,CAAA,CAAE,MAAA;AAEzD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA,EAAS;AAAA,YACP,OAAO,SAAA,CAAU,MAAA;AAAA,YACjB,QAAA;AAAA,YACA,WAAA,EAAa,UAAU,MAAA,GAAS;AAAA;AAClC,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AACF;;;ACvVO,SAAS,uBAAuB,MAAA,EAAmB;AACxD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,oBAAA;AAAA,IACA,kDAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAY,EAAE,WAAA,EAAa,8BAAA,EAAgC,UAAU,IAAA;AAAK,KAC5E;AAAA,IACA,CAAC,EAAE,UAAA,EAAW,MAAO;AAAA,MACnB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,qCAAqC,UAAU;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,8BAAA;AAAA;AAyBvD;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,oBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,SAAA,EAAW,EAAE,WAAA,EAAa,mCAAA,EAAqC,UAAU,IAAA;AAAK,KAChF;AAAA,IACA,CAAC,EAAE,SAAA,EAAU,MAAO;AAAA,MAClB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,gDAAgD,SAAS;;AAAA;;AAAA;AAAA;AAAA;AAAA,SAAA;AAAA;AAQjE;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACnEO,SAAS,gBAAgB,MAAA,EAAmB;AACjD,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC3B,EAAA,sBAAA,CAAuB,MAAM,CAAA;AAC/B;ACGA,IAAM,aAAA,GAAmE;AAAA,EACvE,QAAA,EAAU;AAAA,IACR,SAAA,EAAW,mCAAA;AAAA,IACX,KAAA,EAAO,SAAA,CAAU,KAAA,CAAM,mCAAmC,CAAC;AAAA,GAC7D;AAAA,EACA,QAAA,EAAU;AAAA,IACR,SAAA,EAAW,mCAAA;AAAA,IACX,KAAA,EAAO,SAAA,CAAU,KAAA,CAAM,mCAAmC,CAAC;AAAA,GAC7D;AAAA,EACA,IAAA,EAAM;AAAA,IACJ,SAAA,EAAW,uDAAA;AAAA,IACX,KAAA,EAAO,SAAA,CAAU,KAAA,CAAM,uDAAuD,CAAC;AAAA,GACjF;AAAA,EACA,IAAA,EAAM;AAAA,IACJ,SAAA,EAAW,uBAAA;AAAA,IACX,KAAA,EAAO,SAAA,CAAU,KAAA,CAAM,uBAAuB,CAAC;AAAA,GACjD;AAAA,EACA,OAAA,EAAS;AAAA,IACP,SAAA,EAAW,0BAAA;AAAA,IACX,KAAA,EAAO,SAAA,CAAU,KAAA,CAAM,0BAA0B,CAAC;AAAA,GACpD;AAAA,EACA,UAAA,EAAY;AAAA,IACV,SAAA,EAAW,6BAAA;AAAA,IACX,KAAA,EAAO,SAAA,CAAU,KAAA,CAAM,6BAA6B,CAAC;AAAA;AAEzD,CAAA;AAGA,IAAM,kBAAA,GAAqB,aAAa,yEAAyE,CAAA;AACjH,IAAM,kBAAA,GAAqB,aAAa,+EAA+E,CAAA;AAEhH,SAAS,oBAAoB,MAAA,EAAmB;AAErD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,yCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mCAAmC,CAAA;AAAA,MACxE,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,sCAAsC,CAAA;AAAA,MAChF,SAASA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,6BAA6B,CAAA;AAAA,MACrE,gBAAgBA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,uEAAuE;AAAA,KACxH;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,iBAAiB,SAAA,EAAW,OAAA,EAAS,gBAAe,KAAM;AAC1E,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,cAAA,EAAe;AAEtD,QAAA,MAAM,IAAA,GAAO,SAAA,GAAY,MAAA,CAAO,SAAS,IAAI,WAAA,GAAc,KAAA;AAC3D,QAAA,MAAM,EAAA,GAAK,OAAA,GAAU,MAAA,CAAO,OAAO,CAAA,GAAI,WAAA;AAEvC,QAAA,IAAI,MAAA;AACJ,QAAA,IAAI,cAAA,EAAgB;AAClB,UAAA,MAAA,GAAS,CAAC,SAAA,CAAU,KAAA,CAAM,cAAc,CAAC,CAAC,CAAA;AAAA,QAC5C;AAEA,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,OAAA,CAAQ;AAAA,UACtC,OAAA,EAAS,eAAA;AAAA,UACT,SAAA,EAAW,IAAA;AAAA,UACX,OAAA,EAAS,EAAA;AAAA,UACT;AAAA,SACD,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,SAAA,EAAW,KAAK,QAAA,EAAS;AAAA,UACzB,OAAA,EAAS,GAAG,QAAA,EAAS;AAAA,UACrB,aAAa,cAAA,IAAkB,KAAA;AAAA,UAC/B,WAAW,IAAA,CAAK,MAAA;AAAA,UAChB,MAAM,IAAA,CAAK,KAAA,CAAM,GAAG,GAAG,CAAA,CAAE,IAAI,CAAA,GAAA,MAAQ;AAAA,YACnC,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,YACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,YACrB,UAAU,GAAA,CAAI,QAAA;AAAA,YACd,QAAQ,GAAA,CAAI,MAAA;AAAA,YACZ,MAAM,GAAA,CAAI;AAAA,WACZ,CAAE,CAAA;AAAA,UACF,SAAA,EAAW,KAAK,MAAA,GAAS;AAAA,SAC1B,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,qBAAA;AAAA,IACA,iCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,wBAAwB,CAAA;AAAA,MAC1D,aAAaA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAC9D,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,qBAAqB,CAAA;AAAA,MAC/D,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,aAAa,CAAA;AAAA,MACvD,SAASA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,WAAW,CAAA;AAAA,MACnD,OAAOA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,2BAA2B;AAAA,KACnE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,YAAA,EAAc,WAAA,EAAa,WAAW,SAAA,EAAW,OAAA,EAAS,KAAA,GAAQ,EAAA,EAAG,KAAM;AAC3F,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,cAAA,EAAe;AAEtD,QAAA,MAAM,IAAA,GAAO,SAAA,GAAY,MAAA,CAAO,SAAS,IAAI,WAAA,GAAc,KAAA;AAC3D,QAAA,MAAM,EAAA,GAAK,OAAA,GAAU,MAAA,CAAO,OAAO,CAAA,GAAI,WAAA;AAGvC,QAAA,MAAM,MAAA,GAAwC;AAAA,UAC5C,cAAc,QAAA,CAAS,KAAA;AAAA,UACvB,WAAA,GAAc,6BAA6B,WAAA,CAAY,KAAA,CAAM,CAAC,CAAA,CAAE,WAAA,EAAa,CAAA,CAAA,GAAY,IAAA;AAAA,UACzF,SAAA,GAAY,6BAA6B,SAAA,CAAU,KAAA,CAAM,CAAC,CAAA,CAAE,WAAA,EAAa,CAAA,CAAA,GAAY;AAAA,SACvF;AAEA,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,OAAA,CAAQ;AAAA,UACtC,OAAA,EAAS,YAAA;AAAA,UACT,SAAA,EAAW,IAAA;AAAA,UACX,OAAA,EAAS,EAAA;AAAA,UACT;AAAA,SACD,CAAA;AAED,QAAA,MAAM,YAAY,IAAA,CAAK,KAAA,CAAM,GAAG,KAAK,CAAA,CAAE,IAAI,CAAA,GAAA,KAAO;AAChD,UAAA,IAAI;AACF,YAAA,MAAM,UAAU,cAAA,CAAe;AAAA,cAC7B,GAAA,EAAK,CAAC,kBAAkB,CAAA;AAAA,cACxB,MAAM,GAAA,CAAI,IAAA;AAAA,cACV,QAAQ,GAAA,CAAI;AAAA,aACb,CAAA;AACD,YAAA,OAAO;AAAA,cACL,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,cACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,cACrB,IAAA,EAAO,QAAQ,IAAA,CAAa,IAAA;AAAA,cAC5B,EAAA,EAAK,QAAQ,IAAA,CAAa,EAAA;AAAA,cAC1B,KAAA,EAAQ,OAAA,CAAQ,IAAA,CAAa,KAAA,CAAM,QAAA;AAAS,aAC9C;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO;AAAA,cACL,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,cACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,cACrB,KAAK,EAAE,MAAA,EAAQ,IAAI,MAAA,EAAQ,IAAA,EAAM,IAAI,IAAA;AAAK,aAC5C;AAAA,UACF;AAAA,QACF,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,YAAA;AAAA,UACA,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAU;AAAA,UAClC,UAAA,EAAY,EAAE,IAAA,EAAM,IAAA,CAAK,UAAS,EAAG,EAAA,EAAI,EAAA,CAAG,QAAA,EAAS,EAAE;AAAA,UACvD,YAAY,IAAA,CAAK,MAAA;AAAA,UACjB,SAAA;AAAA,UACA,SAAA,EAAW,KAAK,MAAA,GAAS;AAAA,SAC1B,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,qBAAA;AAAA,IACA,kDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,cAAcA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,wBAAwB,CAAA;AAAA,MACrE,cAAcA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,uBAAuB,CAAA;AAAA,MACpE,gBAAgBA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,mBAAmB,CAAA;AAAA,MAClE,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,aAAa,CAAA;AAAA,MACvD,SAASA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,WAAW;AAAA,KACrD;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,YAAA,EAAc,cAAc,cAAA,EAAgB,SAAA,EAAW,SAAQ,KAAM;AACrF,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,cAAA,EAAe;AAEtD,QAAA,MAAM,IAAA,GAAO,SAAA,GAAY,MAAA,CAAO,SAAS,IAAI,WAAA,GAAc,KAAA;AAC3D,QAAA,MAAM,EAAA,GAAK,OAAA,GAAU,MAAA,CAAO,OAAO,CAAA,GAAI,WAAA;AAEvC,QAAA,MAAM,MAAA,GAAwC;AAAA,UAC5C,cAAc,QAAA,CAAS,KAAA;AAAA,UACvB,YAAA,GAAe,6BAA6B,YAAA,CAAa,KAAA,CAAM,CAAC,CAAA,CAAE,WAAA,EAAa,CAAA,CAAA,GAAY,IAAA;AAAA,UAC3F,cAAA,GAAiB,6BAA6B,cAAA,CAAe,KAAA,CAAM,CAAC,CAAA,CAAE,WAAA,EAAa,CAAA,CAAA,GAAY;AAAA,SACjG;AAEA,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,OAAA,CAAQ;AAAA,UACtC,OAAA,EAAS,YAAA;AAAA,UACT,SAAA,EAAW,IAAA;AAAA,UACX,OAAA,EAAS,EAAA;AAAA,UACT;AAAA,SACD,CAAA;AAED,QAAA,MAAM,YAAY,IAAA,CAAK,KAAA,CAAM,GAAG,GAAG,CAAA,CAAE,IAAI,CAAA,GAAA,KAAO;AAC9C,UAAA,IAAI;AACF,YAAA,MAAM,UAAU,cAAA,CAAe;AAAA,cAC7B,GAAA,EAAK,CAAC,kBAAkB,CAAA;AAAA,cACxB,MAAM,GAAA,CAAI,IAAA;AAAA,cACV,QAAQ,GAAA,CAAI;AAAA,aACb,CAAA;AACD,YAAA,OAAO;AAAA,cACL,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,cACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,cACrB,cAAc,GAAA,CAAI,OAAA;AAAA,cAClB,KAAA,EAAQ,QAAQ,IAAA,CAAa,KAAA;AAAA,cAC7B,OAAA,EAAU,QAAQ,IAAA,CAAa,OAAA;AAAA,cAC/B,KAAA,EAAQ,OAAA,CAAQ,IAAA,CAAa,KAAA,CAAM,QAAA;AAAS,aAC9C;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO;AAAA,cACL,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,cACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,cACrB,cAAc,GAAA,CAAI,OAAA;AAAA,cAClB,GAAA,EAAK;AAAA,aACP;AAAA,UACF;AAAA,QACF,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA,EAAS,EAAE,YAAA,EAAc,YAAA,EAAc,cAAA,EAAe;AAAA,UACtD,UAAA,EAAY,EAAE,IAAA,EAAM,IAAA,CAAK,UAAS,EAAG,EAAA,EAAI,EAAA,CAAG,QAAA,EAAS,EAAE;AAAA,UACvD,YAAY,IAAA,CAAK,MAAA;AAAA,UACjB,SAAA;AAAA,UACA,SAAA,EAAW,KAAK,MAAA,GAAS;AAAA,SAC1B,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,uCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,sCAAsC,CAAA;AAAA,MAClE,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,0BAA0B,CAAA;AAAA,MACjE,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,yBAAyB,CAAA;AAAA,MAChE,iBAAiBA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,yBAAyB,CAAA;AAAA,MACzE,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,aAAa,CAAA;AAAA,MACvD,SAASA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,WAAW;AAAA,KACrD;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,MAAA,EAAQ,QAAQ,MAAA,EAAQ,eAAA,EAAiB,SAAA,EAAW,OAAA,EAAQ,KAAM;AAClF,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,cAAA,EAAe;AAEtD,QAAA,MAAM,IAAA,GAAO,SAAA,GAAY,MAAA,CAAO,SAAS,IAAI,WAAA,GAAc,KAAA;AAC3D,QAAA,MAAM,EAAA,GAAK,OAAA,GAAU,MAAA,CAAO,OAAO,CAAA,GAAI,WAAA;AAEvC,QAAA,MAAM,MAAA,GAAyB;AAAA,UAC7B,MAAA;AAAA,UACA,SAAS,MAAA,GAAgB,IAAA;AAAA,UACzB,SAAS,MAAA,GAAgB;AAAA,SAC3B;AAEA,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,OAAA,CAAQ;AAAA,UACtC,OAAA,EAAS,eAAA;AAAA,UACT,SAAA,EAAW,IAAA;AAAA,UACX,OAAA,EAAS,EAAA;AAAA,UACT;AAAA,SACD,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA,EAAQ,EAAE,MAAA,EAAQ,MAAA,EAAQ,MAAA,EAAO;AAAA,UACjC,eAAA;AAAA,UACA,UAAA,EAAY,EAAE,IAAA,EAAM,IAAA,CAAK,UAAS,EAAG,EAAA,EAAI,EAAA,CAAG,QAAA,EAAS,EAAE;AAAA,UACvD,WAAW,IAAA,CAAK,MAAA;AAAA,UAChB,MAAM,IAAA,CAAK,KAAA,CAAM,GAAG,GAAG,CAAA,CAAE,IAAI,CAAA,GAAA,MAAQ;AAAA,YACnC,SAAS,GAAA,CAAI,OAAA;AAAA,YACb,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,YACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,YACrB,QAAQ,GAAA,CAAI,MAAA;AAAA,YACZ,MAAM,GAAA,CAAI;AAAA,WACZ,CAAE,CAAA;AAAA,UACF,SAAA,EAAW,KAAK,MAAA,GAAS;AAAA,SAC1B,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,oCAAA;AAAA,IACA;AAAA,MACE,WAAWA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,sDAAsD;AAAA,KAClG;AAAA,IACA,OAAO,EAAE,SAAA,EAAU,KAAM;AACvB,MAAA,IAAI;AACF,QAAA,IAAI,SAAA,EAAW;AACb,UAAA,MAAM,KAAA,GAAQ,cAAc,SAAS,CAAA;AACrC,UAAA,IAAI,CAAC,KAAA,EAAO;AACV,YAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,kBAAkB,SAAS,CAAA,CAAE,GAAG,qBAAqB,CAAA;AAAA,UACzF;AACA,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,KAAA,EAAO,SAAA;AAAA,YACP,WAAW,KAAA,CAAM,SAAA;AAAA,YACjB,OAAO,KAAA,CAAM;AAAA,WACd,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,MAAA,GAAS,MAAA,CAAO,OAAA,CAAQ,aAAa,CAAA,CAAE,IAAI,CAAC,CAAC,IAAA,EAAM,IAAI,CAAA,MAAO;AAAA,UAClE,IAAA;AAAA,UACA,WAAW,IAAA,CAAK,SAAA;AAAA,UAChB,OAAO,IAAA,CAAK;AAAA,SACd,CAAE,CAAA;AAEF,QAAA,OAAO,UAAA,CAAW,OAAA,CAAQ,EAAE,MAAA,EAAQ,CAAA;AAAA,MACtC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,sBAAsB,CAAA;AAAA,MACvD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,2BAAA;AAAA,IACA,2DAAA;AAAA,IACA;AAAA,MACE,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6DAA6D;AAAA,KAC9F;AAAA,IACA,OAAO,EAAE,SAAA,EAAU,KAAM;AACvB,MAAA,IAAI;AACF,QAAA,MAAM,KAAA,GAAQ,SAAA,CAAU,KAAA,CAAM,SAAS,CAAC,CAAA;AACxC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,SAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,6BAA6B,CAAA;AAAA,MAC9D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,yDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MAC1D,cAAA,EAAgBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B,CAAA;AAAA,MAC9D,YAAYA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,8CAA8C;AAAA,KAC3F;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,iBAAiB,cAAA,EAAgB,UAAA,GAAa,KAAI,KAAM;AACxE,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,cAAA,EAAe;AAEtD,QAAA,MAAM,KAAA,GAAQ,SAAA,CAAU,KAAA,CAAM,cAAc,CAAC,CAAA;AAE7C,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,OAAA,CAAQ;AAAA,UACtC,OAAA,EAAS,eAAA;AAAA,UACT,SAAA,EAAW,WAAA,GAAc,MAAA,CAAO,UAAU,CAAA;AAAA,UAC1C,OAAA,EAAS,WAAA;AAAA,UACT,MAAA,EAAQ,CAAC,KAAK;AAAA,SACf,CAAA;AAGD,QAAA,MAAM,UAAkC,EAAC;AACzC,QAAA,IAAA,CAAK,QAAQ,CAAA,GAAA,KAAO;AAClB,UAAA,MAAM,KAAA,GAAQ,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS,IAAK,SAAA;AAC7C,UAAA,OAAA,CAAQ,KAAK,CAAA,GAAA,CAAK,OAAA,CAAQ,KAAK,KAAK,CAAA,IAAK,CAAA;AAAA,QAC3C,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,cAAA;AAAA,UACA,KAAA;AAAA,UACA,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,UAClC,cAAA,EAAgB,UAAA;AAAA,UAChB,aAAa,IAAA,CAAK,MAAA;AAAA,UAClB,gBAAgB,MAAA,CAAO,IAAA,CAAK,OAAO,CAAA,CAAE,SAAS,CAAA,GAAA,CAC3C,IAAA,CAAK,MAAA,GAAS,MAAA,CAAO,KAAK,OAAO,CAAA,CAAE,MAAA,EAAQ,OAAA,CAAQ,CAAC,CAAA,GAAI,GAAA;AAAA,UAC3D,YAAY,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,CAAA,CAAE,IAAI,CAAA,GAAA,MAAQ;AAAA,YACtC,WAAA,EAAa,GAAA,CAAI,WAAA,EAAa,QAAA,EAAS;AAAA,YACvC,iBAAiB,GAAA,CAAI,eAAA;AAAA,YACrB,IAAA,EAAM,GAAA,CAAI,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,EAAE,CAAA,IAAK,GAAA,CAAI,IAAA,CAAK,MAAA,GAAS,EAAA,GAAK,KAAA,GAAQ,EAAA;AAAA,WAChE,CAAE;AAAA,SACH,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AACF;;;AC/YO,SAAS,sBAAsB,MAAA,EAAmB;AACvD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,2BAAA;AAAA,IACA,oEAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiB,EAAE,WAAA,EAAa,6BAAA,EAA+B,UAAU,IAAA,EAAK;AAAA,MAC9E,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,eAAA,EAAiB,OAAA,EAAQ,MAAO;AAAA,MACjC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,wCAAA,EAA2C,eAAe,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,wBAAA;AAAA;AAkChF;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,uBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,aAAA,EAAe,EAAE,WAAA,EAAa,yBAAA,EAA2B,UAAU,IAAA,EAAK;AAAA,MACxE,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,aAAA,EAAe,OAAA,EAAQ,MAAO;AAAA,MAC/B,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,oCAAA,EAAuC,aAAa,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAA;AAAA;AAY1E;AACF;AACF,KACF;AAAA,GACF;AACF;;;AClFO,SAAS,eAAe,MAAA,EAAmB;AAChD,EAAA,mBAAA,CAAoB,MAAM,CAAA;AAC1B,EAAA,qBAAA,CAAsB,MAAM,CAAA;AAC9B;ACGA,IAAM,WAAA,GAKD;AAAA,EACH,CAAA,EAAG,EAAE,IAAA,EAAM,UAAA,EAAY,cAAc,EAAA,EAAI,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,KAAA,EAAM;AAAA,EAC/E,EAAA,EAAI,EAAE,IAAA,EAAM,KAAA,EAAO,cAAc,CAAA,EAAG,UAAA,EAAY,KAAA,EAAO,YAAA,EAAc,KAAA,EAAM;AAAA,EAC3E,GAAA,EAAK,EAAE,IAAA,EAAM,SAAA,EAAW,cAAc,CAAA,EAAG,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,OAAA,EAAQ;AAAA,EACjF,KAAA,EAAO,EAAE,IAAA,EAAM,UAAA,EAAY,cAAc,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,KAAA,EAAM;AAAA,EACrF,EAAA,EAAI,EAAE,IAAA,EAAM,UAAA,EAAY,cAAc,CAAA,EAAG,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,KAAA,EAAM;AAAA,EAC/E,IAAA,EAAM,EAAE,IAAA,EAAM,MAAA,EAAQ,cAAc,CAAA,EAAG,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,KAAA,EAAM;AAAA,EAC7E,GAAA,EAAK,EAAE,IAAA,EAAM,OAAA,EAAS,cAAc,CAAA,EAAG,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,KAAA,EAAM;AAAA,EAC7E,KAAA,EAAO,EAAE,IAAA,EAAM,WAAA,EAAa,cAAc,CAAA,EAAG,UAAA,EAAY,IAAA,EAAM,YAAA,EAAc,MAAA;AAC/E,CAAA;AAGA,IAAM,mBAAA,GAA8C;AAAA,EAClD,QAAA,EAAU,MAAA;AAAA,EACV,aAAA,EAAe,MAAA;AAAA,EACf,YAAA,EAAc,MAAA;AAAA,EACd,IAAA,EAAM,OAAA;AAAA,EACN,YAAA,EAAc,OAAA;AAAA,EACd,eAAA,EAAiB,OAAA;AAAA,EACjB,MAAA,EAAQ,OAAA;AAAA,EACR,OAAA,EAAS,OAAA;AAAA,EACT,WAAA,EAAa,MAAA;AAAA,EACb,cAAA,EAAgB;AAClB,CAAA;AAEO,SAAS,iBAAiB,MAAA,EAAmB;AAElD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,eAAA;AAAA,IACA,qCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAC9C,QAAA,MAAM,MAAA,GAAS,YAAY,OAAO,CAAA;AAElC,QAAA,MAAM,QAAA,GAAW,MAAM,YAAA,CAAa,WAAA,EAAY;AAGhD,QAAA,IAAI,WAAA,GAAc,IAAA;AAClB,QAAA,IAAI,QAAQ,UAAA,EAAY;AACtB,UAAA,IAAI;AACF,YAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,kBAAA,EAAmB;AACtD,YAAA,WAAA,GAAc;AAAA,cACZ,YAAA,EAAc,UAAA,CAAW,OAAA,CAAQ,YAAA,IAAgB,EAAE,CAAA;AAAA,cACnD,oBAAA,EAAsB,UAAA,CAAW,OAAA,CAAQ,oBAAA,IAAwB,EAAE;AAAA,aACrE;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAER;AAAA,QACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,SAAA,EAAW,QAAQ,IAAA,IAAQ,OAAA;AAAA,UAC3B,QAAA,EAAU,WAAW,QAAQ,CAAA;AAAA,UAC7B,WAAA,EAAa,SAAS,QAAA,EAAS;AAAA,UAC/B,OAAA,EAAS,WAAA;AAAA,UACT,YAAA,EAAc,QAAQ,YAAA,IAAgB;AAAA,SACvC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,mBAAmB,CAAA;AAAA,MACpD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,2BAAA;AAAA,IACA,2DAAA;AAAA,IACA,EAAC;AAAA,IACD,YAAY;AACV,MAAA,IAAI;AACF,QAAA,MAAM,WAAW,CAAC,UAAA,EAAY,OAAO,SAAA,EAAW,UAAA,EAAY,YAAY,MAAM,CAAA;AAC9E,QAAA,MAAM,SAMD,EAAC;AAEN,QAAA,KAAA,MAAW,WAAW,QAAA,EAAU;AAC9B,UAAA,IAAI;AACF,YAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,YAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAC9C,YAAA,MAAM,QAAA,GAAW,MAAM,YAAA,CAAa,WAAA,EAAY;AAChD,YAAA,MAAM,MAAA,GAAS,YAAY,OAAO,CAAA;AAElC,YAAA,MAAA,CAAO,IAAA,CAAK;AAAA,cACV,OAAA;AAAA,cACA,OAAA;AAAA,cACA,QAAA,EAAU,WAAW,QAAQ,CAAA;AAAA,cAC7B,YAAA,EAAc,QAAQ,YAAA,IAAgB,KAAA;AAAA,cACtC,MAAA,EAAQ;AAAA,aACT,CAAA;AAAA,UACH,CAAA,CAAA,MAAQ;AACN,YAAA,MAAA,CAAO,IAAA,CAAK;AAAA,cACV,OAAA;AAAA,cACA,OAAA,EAAS,CAAA;AAAA,cACT,QAAA,EAAU,GAAA;AAAA,cACV,YAAA,EAAc,KAAA;AAAA,cACd,MAAA,EAAQ;AAAA,aACT,CAAA;AAAA,UACH;AAAA,QACF;AAGA,QAAA,MAAA,CAAO,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,UAAA,CAAW,CAAA,CAAE,QAAQ,CAAA,GAAI,UAAA,CAAW,CAAA,CAAE,QAAQ,CAAC,CAAA;AAErE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA;AAAA,UACA,QAAA,EAAU,OAAO,CAAC,CAAA;AAAA,UAClB,aAAA,EAAe,MAAA,CAAO,MAAA,CAAO,MAAA,GAAS,CAAC,CAAA;AAAA,UACvC,SAAA,EAAA,iBAAW,IAAI,IAAA,EAAK,EAAE,WAAA;AAAY,SACnC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,mCAAmC,CAAA;AAAA,MACpE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,oEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,QAAQ,MAAM,YAAA,CAAa,SAAS,EAAE,QAAA,EAAU,UAAU,CAAA;AAChE,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,kBAAA,EAAmB;AAEtD,QAAA,MAAM,OAAA,GAAU,MAAM,aAAA,IAAiB,EAAA;AAEvC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA,EAAS,WAAW,OAAO,CAAA;AAAA,UAC3B,UAAA,EAAY,QAAQ,QAAA,EAAS;AAAA,UAC7B,YAAA,EAAc,UAAA,CAAW,OAAA,CAAQ,YAAA,IAAgB,EAAE,CAAA;AAAA,UACnD,oBAAA,EAAsB,UAAA,CAAW,OAAA,CAAQ,oBAAA,IAAwB,EAAE,CAAA;AAAA,UACnE,eAAA,EAAiB;AAAA,YACf,IAAA,EAAM;AAAA,cACJ,YAAA,EAAc,UAAA,CAAY,OAAA,GAAU,IAAA,GAAQ,IAAI,CAAA;AAAA,cAChD,oBAAA,EAAsB;AAAA,aACxB;AAAA,YACA,QAAA,EAAU;AAAA,cACR,YAAA,EAAc,UAAA,CAAY,OAAA,GAAU,IAAA,GAAQ,IAAI,CAAA;AAAA,cAChD,oBAAA,EAAsB;AAAA,aACxB;AAAA,YACA,IAAA,EAAM;AAAA,cACJ,YAAA,EAAc,UAAA,CAAY,OAAA,GAAU,IAAA,GAAQ,IAAI,CAAA;AAAA,cAChD,oBAAA,EAAsB;AAAA;AACxB,WACF;AAAA,UACA,WAAA,EAAa,KAAA,CAAM,MAAA,EAAQ,QAAA;AAAS,SACrC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,yCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB,CAAA;AAAA,MAC1C,EAAA,EAAIA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,4BAA4B,CAAA;AAAA,MACpD,OAAOA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,cAAc,CAAA;AAAA,MACpD,MAAMA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,wBAAwB;AAAA,KAC/D;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,MAAM,EAAA,EAAI,KAAA,EAAO,MAAK,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,WAAA,CAAY;AAAA,UACjD,OAAA,EAAS,IAAA;AAAA,UACT,EAAA;AAAA,UACA,KAAA,EAAO,KAAA,GAAQ,MAAA,CAAO,KAAK,CAAA,GAAI,EAAA;AAAA,UAC/B;AAAA,SACD,CAAA;AAED,QAAA,MAAM,QAAA,GAAW,MAAM,YAAA,CAAa,WAAA,EAAY;AAChD,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAC9C,QAAA,MAAM,MAAA,GAAS,YAAY,OAAO,CAAA;AAElC,QAAA,MAAM,gBAAgB,WAAA,GAAc,QAAA;AAEpC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,UAClC,QAAA,EAAU,WAAW,QAAQ,CAAA;AAAA,UAC7B,aAAA,EAAe;AAAA,YACb,GAAA,EAAK,cAAc,QAAA,EAAS;AAAA,YAC5B,IAAA,EAAM,WAAW,aAAa,CAAA;AAAA,YAC9B,cAAc,MAAA,CAAO,aAAa,CAAA,GAAI,IAAA,EAAM,QAAQ,CAAC;AAAA,WACvD;AAAA,UACA,YAAA,EAAc,QAAQ,YAAA,IAAgB;AAAA,SACvC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,gBAAgB,CAAA;AAAA,MACjD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,sDAAA;AAAA,IACA;AAAA,MACE,eAAeA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,gDAAgD;AAAA,KAChG;AAAA,IACA,OAAO,EAAE,aAAA,EAAc,KAAM;AAC3B,MAAA,IAAI;AACF,QAAA,IAAI,aAAA,EAAe;AACjB,UAAA,MAAM,KAAA,GAAQ,oBAAoB,aAAa,CAAA;AAC/C,UAAA,IAAI,CAAC,KAAA,EAAO;AACV,YAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,sBAAsB,aAAa,CAAA,CAAE,GAAG,mBAAmB,CAAA;AAAA,UAC/F;AACA,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,SAAA,EAAW,aAAA;AAAA,YACX,QAAA,EAAU,MAAM,QAAA,EAAS;AAAA,YACzB,IAAA,EAAM;AAAA,WACP,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,MAAA,GAAS,MAAA,CAAO,OAAA,CAAQ,mBAAmB,CAAA,CAAE,IAAI,CAAC,CAAC,EAAA,EAAI,KAAK,CAAA,MAAO;AAAA,UACvE,SAAA,EAAW,EAAA;AAAA,UACX,QAAA,EAAU,MAAM,QAAA;AAAS,SAC3B,CAAE,CAAA;AAEF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,6BAA6B,CAAA;AAAA,MAC9D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,8DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,+BAA+B,CAAA;AAAA,MAC7D,cAAcA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,kDAAkD;AAAA,KACjG;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,cAAa,KAAM;AAC7C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAC9C,QAAA,MAAM,MAAA,GAAS,YAAY,OAAO,CAAA;AAElC,QAAA,IAAI,QAAA;AACJ,QAAA,IAAI,YAAA,EAAc;AAChB,UAAA,QAAA,GAAW,UAAU,YAAY,CAAA;AAAA,QACnC,CAAA,MAAO;AACL,UAAA,QAAA,GAAW,MAAM,aAAa,WAAA,EAAY;AAAA,QAC5C;AAEA,QAAA,MAAM,SAAA,GAAY,MAAA,CAAO,QAAQ,CAAA,GAAI,QAAA;AACrC,QAAA,MAAM,YAAA,GAAe,MAAA,CAAO,SAAS,CAAA,GAAI,IAAA;AAEzC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA,EAAU,WAAW,QAAQ,CAAA;AAAA,UAC7B,SAAA,EAAW;AAAA,YACT,GAAA,EAAK,UAAU,QAAA,EAAS;AAAA,YACxB,MAAA,EAAQ,YAAA,CAAa,OAAA,CAAQ,CAAC,CAAA;AAAA,YAC9B,MAAA,EAAQ,QAAQ,YAAA,IAAgB;AAAA,WAClC;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,8BAA8B,CAAA;AAAA,MAC/D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,iBAAA;AAAA,IACA,8CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,2CAA2C;AAAA,KACpF;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,MAAA,GAAS,IAAG,KAAM;AAClC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,cAAc,MAAM,YAAA,CAAa,SAAS,EAAE,QAAA,EAAU,UAAU,CAAA;AAEtE,QAAA,MAAM,UAID,EAAC;AAEN,QAAA,KAAA,IAAS,CAAA,GAAI,CAAA,EAAG,CAAA,GAAI,MAAA,EAAQ,CAAA,EAAA,EAAK;AAC/B,UAAA,MAAM,QAAA,GAAW,WAAA,CAAY,MAAA,GAAU,MAAA,CAAO,CAAC,CAAA;AAC/C,UAAA,MAAM,QAAQ,MAAM,YAAA,CAAa,SAAS,EAAE,WAAA,EAAa,UAAU,CAAA;AAEnE,UAAA,OAAA,CAAQ,IAAA,CAAK;AAAA,YACX,WAAA,EAAa,SAAS,QAAA,EAAS;AAAA,YAC/B,SAAS,KAAA,CAAM,aAAA,GAAgB,UAAA,CAAW,KAAA,CAAM,aAAa,CAAA,GAAI,IAAA;AAAA,YACjE,SAAA,EAAW,IAAI,IAAA,CAAK,MAAA,CAAO,MAAM,SAAS,CAAA,GAAI,GAAI,CAAA,CAAE,WAAA;AAAY,WACjE,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,QAAA,GAAW,OAAA,CACd,GAAA,CAAI,CAAA,CAAA,KAAK,EAAE,OAAA,GAAU,UAAA,CAAW,CAAA,CAAE,OAAO,IAAI,CAAC,CAAA,CAC9C,MAAA,CAAO,CAAA,CAAA,KAAK,IAAI,CAAC,CAAA;AAEpB,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,cAAA,EAAgB,MAAA;AAAA,UAChB,OAAA;AAAA,UACA,UAAA,EAAY,QAAA,CAAS,MAAA,GAAS,CAAA,GAAI;AAAA,YAChC,OAAA,EAAA,CAAU,QAAA,CAAS,MAAA,CAAO,CAAC,CAAA,EAAG,CAAA,KAAM,CAAA,GAAI,CAAA,EAAG,CAAC,CAAA,GAAI,QAAA,CAAS,MAAA,EAAQ,QAAQ,CAAC,CAAA;AAAA,YAC1E,KAAK,IAAA,CAAK,GAAA,CAAI,GAAG,QAAQ,CAAA,CAAE,QAAQ,CAAC,CAAA;AAAA,YACpC,KAAK,IAAA,CAAK,GAAA,CAAI,GAAG,QAAQ,CAAA,CAAE,QAAQ,CAAC;AAAA,WACtC,GAAI;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,qBAAqB,CAAA;AAAA,MACtD;AAAA,IACF;AAAA,GACF;AACF;;;ACpWO,SAAS,mBAAmB,MAAA,EAAmB;AACpD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,cAAA;AAAA,IACA,uEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,EAAE,WAAA,EAAa,gBAAA,EAAkB,UAAU,IAAA,EAAK;AAAA,MACzD,eAAA,EAAiB,EAAE,WAAA,EAAa,4CAAA,EAA8C,UAAU,IAAA;AAAK,KAC/F;AAAA,IACA,CAAC,EAAE,OAAA,EAAS,eAAA,EAAgB,MAAO;AAAA,MACjC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,0BAAA,EAA6B,OAAO,CAAA,OAAA,EAAU,eAAe,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,+BAAA,EAS9C,OAAO;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAAA,EAQjB,eAAe;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2CAAA;AAAA;AAW5B;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,qBAAA;AAAA,IACA,mDAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiB,EAAE,WAAA,EAAa,qBAAA,EAAuB,UAAU,IAAA,EAAK;AAAA,MACtE,MAAA,EAAQ,EAAE,WAAA,EAAa,uCAAA,EAAyC,UAAU,KAAA;AAAM,KAClF;AAAA,IACA,CAAC,EAAE,eAAA,EAAiB,MAAA,EAAO,MAAO;AAAA,MAChC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,yBAAyB,eAAe,CAAA,wCAAA,EAA2C,SAAS,CAAA,YAAA,EAAe,MAAM,KAAK,EAAE,CAAA;;AAAA;;AAAA;AAAA;;AAAA,sBAAA,EAOlH,eAAe;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,yBAAA;AAAA;AAe7B;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACtFO,SAAS,YAAY,MAAA,EAAmB;AAC7C,EAAA,gBAAA,CAAiB,MAAM,CAAA;AACvB,EAAA,kBAAA,CAAmB,MAAM,CAAA;AAC3B;ACIA,IAAM,YAAA,GAAe;AAAA,EACnB;AAAA,IACE,IAAA,EAAM,SAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,WAAA,EAAY;AAAA,MACrC,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,WAAA,EAAY;AAAA,MACpC,EAAE,IAAA,EAAM,WAAA,EAAa,IAAA,EAAM,SAAA,EAAU;AAAA,MACrC,EAAE,IAAA,EAAM,aAAA,EAAe,IAAA,EAAM,QAAA;AAAS,KACxC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,YAAA,EAAc,IAAA,EAAM,WAAW;AAAA,GACnD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,SAAA,EAAU;AAAA,MACtC,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,OAAA;AAAQ,KACnC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW;AAAA,GAChD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,oBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,SAAA,EAAU;AAAA,MACtC,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,OAAA,EAAQ;AAAA,MACjC,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,QAAA;AAAS,KACnC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW;AAAA,GAChD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,OAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,YAAA,EAAc,IAAA,EAAM,WAAW,CAAA;AAAA,IAChD,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,SAAS;AAAA,GACvC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,eAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,YAAA,EAAc,IAAA,EAAM,WAAW,CAAA;AAAA,IAChD,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA,EAAU;AAAA,MACxC,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA,EAAU;AAAA,MACpC,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA;AAAU;AAC1C,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,SAAA,EAAU;AAAA,MACtC,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA;AAAU,KACrC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,QAAQ;AAAA,GACtC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAU;AAAA,MACnC,EAAE,IAAA,EAAM,aAAA,EAAe,IAAA,EAAM,SAAA;AAAU,KACzC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,mBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,QAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,aAAA,EAAe,IAAA,EAAM,WAAW,CAAA;AAAA,IACjD,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,aAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,kBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,YAAA,EAAc,IAAA,EAAM,WAAW,CAAA;AAAA,IAChD,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,kBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,YAAA,EAAc,IAAA,EAAM,WAAW,CAAA;AAAA,IAChD,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA;AAE3C,CAAA;AAGA,IAAM,eAAA,GAAkB;AAAA,EACtB,SAAA;AAAA,EACA,QAAA;AAAA,EACA,UAAA;AAAA,EACA,UAAA;AAAA,EACA,WAAA;AAAA,EACA,QAAA;AAAA,EACA,SAAA;AAAA,EACA;AACF,CAAA;AASO,SAAS,wBAAwB,MAAA,EAAmB;AAEzD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,sCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MAChE,UAAA,EAAYA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,aAAa;AAAA,KAC/C;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,YAAW,KAAM;AAClD,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,MAAA,GAAS,OAAO,UAAU,CAAA;AAGhC,QAAA,MAAM,CAAC,OAAO,KAAA,EAAO,QAAA,EAAU,QAAQ,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UAC3D,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,OAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAM;AAAA,WACd,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,eAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAM;AAAA,WACd,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,kBAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAM;AAAA,WACd,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,kBAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAM;AAAA,WACd;AAAA,SACF,CAAA;AAED,QAAA,MAAM,CAAC,YAAA,EAAc,QAAA,EAAU,YAAY,CAAA,GAAI,KAAA;AAC/C,QAAA,MAAM,UAAA,GAAa,eAAe,QAAA,GAAW,YAAA;AAE7C,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,UAAA;AAAA,UACA,KAAA,EAAO,eAAA,CAAgB,KAAK,CAAA,IAAK,SAAA;AAAA,UACjC,SAAA,EAAW,KAAA;AAAA,UACX,KAAA,EAAO;AAAA,YACL,GAAA,EAAKE,WAAAA,CAAY,QAAA,EAAU,EAAE,CAAA;AAAA,YAC7B,OAAA,EAASA,WAAAA,CAAY,YAAA,EAAc,EAAE,CAAA;AAAA,YACrC,OAAA,EAASA,WAAAA,CAAY,YAAA,EAAc,EAAE,CAAA;AAAA,YACrC,KAAA,EAAOA,WAAAA,CAAY,UAAA,EAAY,EAAE;AAAA,WACnC;AAAA,UACA,WAAA,EAAa,aAAa,EAAA,GAAK;AAAA,YAC7B,GAAA,EAAA,CAAO,MAAA,CAAO,QAAQ,CAAA,GAAI,MAAA,CAAO,UAAU,CAAA,GAAK,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI,GAAA;AAAA,YAClE,OAAA,EAAA,CAAW,MAAA,CAAO,YAAY,CAAA,GAAI,MAAA,CAAO,UAAU,CAAA,GAAK,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI,GAAA;AAAA,YAC1E,OAAA,EAAA,CAAW,MAAA,CAAO,YAAY,CAAA,GAAI,MAAA,CAAO,UAAU,CAAA,GAAK,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI;AAAA,WAC5E,GAAI,IAAA;AAAA,UACJ,MAAA,EAAQ;AAAA,YACN,aAAA,EAAe,SAAS,QAAA,EAAS;AAAA,YACjC,aAAA,EAAe,SAAS,QAAA;AAAS;AACnC,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,WAAA;AAAA,IACA,sCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MAChE,UAAA,EAAYA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,aAAa,CAAA;AAAA,MAC7C,OAAA,EAASA,CAAAA,CAAE,IAAA,CAAK,CAAC,KAAA,EAAO,WAAW,SAAS,CAAC,CAAA,CAAE,QAAA,CAAS,WAAW,CAAA;AAAA,MACnE,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,0BAA0B,CAAA;AAAA,MACjE,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,YAAY,OAAA,EAAS,MAAA,EAAQ,YAAW,KAAM;AAC/E,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AACrD,QAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,UAAA,EAAmB,OAAO,CAAA;AAC/D,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,MAAA,GAAS,OAAO,UAAU,CAAA;AAChC,QAAA,MAAM,WAAW,OAAA,KAAY,KAAA,GAAQ,CAAA,GAAI,OAAA,KAAY,YAAY,CAAA,GAAI,CAAA;AAGrE,QAAA,MAAM,QAAA,GAAW,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC/C,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,YAAA;AAAA,UACL,YAAA,EAAc,UAAA;AAAA,UACd,IAAA,EAAM,CAAC,MAAA,EAAQ,OAAA,CAAQ,OAAO;AAAA,SAC/B,CAAA;AAED,QAAA,IAAI,QAAA,EAAU;AACZ,UAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,gCAAgC,GAAG,cAAc,CAAA;AAAA,QACrF;AAEA,QAAA,IAAI,IAAA;AACJ,QAAA,IAAI,MAAA,EAAQ;AACV,UAAA,IAAA,GAAO,MAAM,aAAa,aAAA,CAAc;AAAA,YACtC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,oBAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAA,EAAQ,QAAA,EAAU,MAAM,CAAA;AAAA,YAC/B;AAAA,WACD,CAAA;AAAA,QACH,CAAA,MAAO;AACL,UAAA,IAAA,GAAO,MAAM,aAAa,aAAA,CAAc;AAAA,YACtC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,UAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAA,EAAQ,QAAQ,CAAA;AAAA,YACvB;AAAA,WACD,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,yBAAA,CAA0B,EAAE,MAAM,CAAA;AAErE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,UAAA;AAAA,UACA,IAAA,EAAM,OAAA;AAAA,UACN,QAAQ,MAAA,IAAU,IAAA;AAAA,UAClB,OAAO,OAAA,CAAQ,OAAA;AAAA,UACf,eAAA,EAAiB,IAAA;AAAA,UACjB,MAAA,EAAQ,OAAA,CAAQ,MAAA,KAAW,SAAA,GAAY,SAAA,GAAY;AAAA,SACpD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,cAAc,CAAA;AAAA,MAC/C;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,qDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBL,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MAChE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAC/C,aAAaA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,gCAAgC;AAAA,KAC9E;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,OAAA,EAAS,aAAY,KAAM;AAC5D,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,KAAA,GAAQ,cACV,MAAA,CAAO,WAAW,IAClB,MAAM,YAAA,CAAa,gBAAe,GAAI,EAAA;AAE1C,QAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC5C,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,YAAA;AAAA,UACL,YAAA,EAAc,UAAA;AAAA,UACd,IAAA,EAAM,CAAC,OAAA,EAAoB,KAAK;AAAA,SACjC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,OAAA;AAAA,UACA,WAAA,EAAa,MAAM,QAAA,EAAS;AAAA,UAC5B,WAAA,EAAa,MAAM,QAAA,EAAS;AAAA,UAC5B,oBAAA,EAAsBE,WAAAA,CAAY,KAAA,EAAO,EAAE;AAAA,SAC5C,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,sBAAsB,CAAA;AAAA,MACvD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,qEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B;AAAA,KAClE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAgB,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,YAAA,GAAe,MAAM,YAAA,CAAa,cAAA,EAAe;AAEvD,QAAA,MAAM,CAAC,aAAa,YAAA,EAAc,iBAAA,EAAmB,WAAW,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UACpF,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,QAAA;AAAA,YACd,IAAA,EAAM,CAAC,YAAA,GAAe,EAAE;AAAA,WACzB;AAAA,SACF,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,UAAA,EAAY;AAAA,YACV,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,YAClC,iBAAA,EAAmB,GAAG,WAAW,CAAA,OAAA,CAAA;AAAA,YACjC,YAAA,EAAc,aAAa,QAAA,EAAS;AAAA,YACpC,kBAAA,EAAoB,GAAG,YAAY,CAAA,OAAA,CAAA;AAAA,YACnC,iBAAA,EAAmBE,WAAAA,CAAY,iBAAA,EAAmB,EAAE,CAAA;AAAA,YACpD,MAAA,EAAQA,WAAAA,CAAY,WAAA,EAAa,EAAE;AAAA,WACrC;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,+BAA+B,CAAA;AAAA,MAChE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,4CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MAChE,UAAA,EAAYA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,aAAa,CAAA;AAAA,MAC7C,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB;AAAA,KACjD;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,UAAA,EAAY,SAAQ,KAAM;AAC3D,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,MAAA,GAAS,OAAO,UAAU,CAAA;AAGhC,QAAA,MAAM,CAAC,KAAA,EAAO,QAAA,EAAU,QAAQ,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UACpD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,OAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAM;AAAA,WACd,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,kBAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAM;AAAA,WACd,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,UAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAA,EAAQ,OAAkB;AAAA,WAClC;AAAA,SACF,CAAA;AAGD,QAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAClD,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,YAAA;AAAA,UACL,YAAA,EAAc,UAAA;AAAA,UACd,IAAA,EAAM,CAAC,OAAA,EAAoB,QAAQ;AAAA,SACpC,CAAA;AAED,QAAA,MAAM,WAAW,KAAA,KAAU,CAAA;AAC3B,QAAA,MAAM,iBAAiB,WAAA,GAAc,EAAA;AACrC,QAAA,MAAM,OAAA,GAAU,QAAA,IAAY,CAAC,QAAA,IAAY,cAAA;AAEzC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,UAAA;AAAA,UACA,OAAA;AAAA,UACA,WAAA,EAAa;AAAA,YACX,OAAA;AAAA,YACA,aAAA,EAAe,gBAAgB,KAAK,CAAA;AAAA,YACpC,QAAA;AAAA,YACA,QAAA;AAAA,YACA,WAAA,EAAaE,WAAAA,CAAY,WAAA,EAAa,EAAE,CAAA;AAAA,YACxC;AAAA,WACF;AAAA,UACA,MAAA,EAAQ,CAAC,QAAA,GAAW,wBAAA,GACZ,WAAW,eAAA,GACX,CAAC,iBAAiB,6BAAA,GAClB;AAAA,SACT,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASF,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,2BAA2B,CAAA;AAAA,MACjE,MAAA,EAAQA,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,0BAA0B,CAAA;AAAA,MAC/D,SAAA,EAAWA,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,mCAAmC,CAAA;AAAA,MAC3E,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,+BAA+B;AAAA,KACtE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,MAAA,EAAQ,SAAA,EAAW,iBAAgB,KAAM;AACzD,MAAA,IAAI;AAEF,QAAA,MAAM,OAAA,GAAU,IAAI,WAAA,EAAY,CAAE,MAAA;AAAA,UAChC,KAAK,SAAA,CAAU;AAAA,YACb,OAAA;AAAA,YACA,MAAA;AAAA,YACA,SAAA;AAAA,YACA;AAAA,WACD;AAAA,SACH;AAEA,QAAA,MAAM,UAAA,GAAaS,SAAAA,CAAUC,KAAAA,CAAM,OAAO,CAAC,CAAA;AAE3C,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,UAAA;AAAA,UACA,UAAA,EAAY;AAAA,YACV,OAAA;AAAA,YACA,MAAA;AAAA,YACA,SAAA;AAAA,YACA;AAAA,WACF;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AACF;;;AC5eO,SAAS,0BAA0B,MAAA,EAAmB;AAC3D,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,kBAAA;AAAA,IACA,yCAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiB,EAAE,WAAA,EAAa,2BAAA,EAA6B,UAAU,IAAA,EAAK;AAAA,MAC5E,UAAA,EAAY,EAAE,WAAA,EAAa,aAAA,EAAe,UAAU,IAAA,EAAK;AAAA,MACzD,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,eAAA,EAAiB,UAAA,EAAY,SAAQ,MAAO;AAAA,MAC7C,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,MAAM,CAAA,4BAAA,EAA+B,UAAU,CAAA,IAAA,EAAO,OAAO,eAAe,eAAe,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,cAAA,EAUvF,UAAU;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,wBAAA;AAAA;AAsBhB;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,0BAAA;AAAA,IACA,qCAAA;AAAA,IACA;AAAA,MACE,aAAA,EAAe,EAAE,WAAA,EAAa,uBAAA,EAAyB,UAAU,IAAA,EAAK;AAAA,MACtE,eAAA,EAAiB,EAAE,WAAA,EAAa,2BAAA,EAA6B,UAAU,IAAA,EAAK;AAAA,MAC5E,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,aAAA,EAAe,eAAA,EAAiB,SAAQ,MAAO;AAAA,MAChD,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,MAAM,CAAA,KAAA,EAAQ,aAAa,CAAA,+BAAA,EAAkC,eAAe,OAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,yBAAA;AAAA;AAyB5F;AACF;AACF,KACF;AAAA,GACF;AACF;;;AC/FO,SAAS,mBAAmB,MAAA,EAAmB;AACpD,EAAA,uBAAA,CAAwB,MAAM,CAAA;AAC9B,EAAA,yBAAA,CAA0B,MAAM,CAAA;AAClC;ACGA,IAAM,aAAA,GAAgB;AAAA,EACpB;AAAA,IACE,IAAA,EAAM,oBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,MAAA,EAAQ,IAAA,EAAM,WAAW,CAAA;AAAA,IAC1C,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,qBAAA,EAAuB,IAAA,EAAM,SAAA,EAAU;AAAA,MAC/C,EAAE,IAAA,EAAM,eAAA,EAAiB,IAAA,EAAM,SAAA,EAAU;AAAA,MACzC,EAAE,IAAA,EAAM,sBAAA,EAAwB,IAAA,EAAM,SAAA,EAAU;AAAA,MAChD,EAAE,IAAA,EAAM,6BAAA,EAA+B,IAAA,EAAM,SAAA,EAAU;AAAA,MACvD,EAAE,IAAA,EAAM,KAAA,EAAO,IAAA,EAAM,SAAA,EAAU;AAAA,MAC/B,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA;AAAU;AAC1C,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,OAAA,EAAS,IAAA,EAAM,WAAW,CAAA;AAAA,IAC3C,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,eAAA,EAAiB,IAAA,EAAM,OAAA,EAAQ;AAAA,MACvC,EAAE,IAAA,EAAM,gBAAA,EAAkB,IAAA,EAAM,SAAA,EAAU;AAAA,MAC1C,EAAE,IAAA,EAAM,sBAAA,EAAwB,IAAA,EAAM,SAAA,EAAU;AAAA,MAChD,EAAE,IAAA,EAAM,qBAAA,EAAuB,IAAA,EAAM,SAAA,EAAU;AAAA,MAC/C,EAAE,IAAA,EAAM,2BAAA,EAA6B,IAAA,EAAM,SAAA,EAAU;AAAA,MACrD,EAAE,IAAA,EAAM,yBAAA,EAA2B,IAAA,EAAM,SAAA,EAAU;AAAA,MACnD,EAAE,IAAA,EAAM,qBAAA,EAAuB,IAAA,EAAM,QAAA,EAAS;AAAA,MAC9C,EAAE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,QAAA,EAAS;AAAA,MAC7B,EAAE,IAAA,EAAM,eAAA,EAAiB,IAAA,EAAM,SAAA,EAAU;AAAA,MACzC,EAAE,IAAA,EAAM,wBAAA,EAA0B,IAAA,EAAM,SAAA,EAAU;AAAA,MAClD,EAAE,IAAA,EAAM,0BAAA,EAA4B,IAAA,EAAM,SAAA,EAAU;AAAA,MACpD,EAAE,IAAA,EAAM,6BAAA,EAA+B,IAAA,EAAM,SAAA,EAAU;AAAA,MACvD,EAAE,IAAA,EAAM,mBAAA,EAAqB,IAAA,EAAM,SAAA,EAAU;AAAA,MAC7C,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA,EAAU;AAAA,MACpC,EAAE,IAAA,EAAM,wBAAA,EAA0B,IAAA,EAAM,SAAA;AAAU;AACpD;AAEJ,CAAA;AAGA,IAAM,kBAAA,GAAqB;AAAA,EACzB;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW,CAAA;AAAA,IAC7C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,iBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW,CAAA;AAAA,IAC7C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,eAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,aAAA,EAAe,IAAA,EAAM,UAAU,CAAA;AAAA,IAChD,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA,GACxC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,eAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,aAAA,EAAe,IAAA,EAAM,UAAU,CAAA;AAAA,IAChD,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA,GACxC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA;AAE1C,CAAA;AAGA,IAAM,iBAAA,GAAqF;AAAA,EACzF,CAAA,EAAG;AAAA;AAAA,IACD,SAAA,EAAW,EAAE,IAAA,EAAM,4CAAA,EAA8C,MAAM,MAAA,EAAO;AAAA,IAC9E,kBAAA,EAAoB,EAAE,IAAA,EAAM,4CAAA,EAA8C,MAAM,UAAA;AAAW,GAC7F;AAAA,EACA,GAAA,EAAK;AAAA;AAAA,IACH,SAAA,EAAW,EAAE,IAAA,EAAM,4CAAA,EAA8C,MAAM,MAAA;AAAO,GAChF;AAAA,EACA,KAAA,EAAO;AAAA;AAAA,IACL,SAAA,EAAW,EAAE,IAAA,EAAM,4CAAA,EAA8C,MAAM,MAAA;AAAO,GAChF;AAAA,EACA,IAAA,EAAM;AAAA;AAAA,IACJ,SAAA,EAAW,EAAE,IAAA,EAAM,4CAAA,EAA8C,MAAM,MAAA;AAAO;AAElF,CAAA;AAEO,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,uDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,QAAA,EAAUV,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uBAAuB,CAAA;AAAA,MACrD,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uBAAuB;AAAA,KAC1D;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,aAAY,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,cAAA,GAAiB,iBAAA,CAAkB,OAAO,CAAA,GAAI,QAAQ,CAAA;AAC5D,QAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,UAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,YAAY,QAAQ,CAAA,0BAAA,CAA4B,GAAG,0BAA0B,CAAA;AAAA,QACjH;AAEA,QAAA,IAAI,cAAA,CAAe,SAAS,MAAA,EAAQ;AAClC,UAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,YAC3C,SAAS,cAAA,CAAe,IAAA;AAAA,YACxB,GAAA,EAAK,aAAA;AAAA,YACL,YAAA,EAAc,oBAAA;AAAA,YACd,IAAA,EAAM,CAAC,WAAsB;AAAA,WAC9B,CAAA;AAED,UAAA,MAAM,CAAC,eAAA,EAAiB,SAAA,EAAW,kBAAkB,oBAAA,EAAsB,GAAA,EAAK,YAAY,CAAA,GAAI,IAAA;AAEhG,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,QAAA;AAAA,YACA,WAAA;AAAA,YACA,QAAA,EAAU;AAAA,cACR,kBAAA,EAAoBE,WAAAA,CAAY,eAAA,EAAiB,CAAC,CAAA;AAAA,cAClD,YAAA,EAAcA,WAAAA,CAAY,SAAA,EAAW,CAAC,CAAA;AAAA,cACtC,mBAAA,EAAqBA,WAAAA,CAAY,gBAAA,EAAkB,CAAC,CAAA;AAAA,cACpD,uBAAuB,MAAA,CAAO,oBAAoB,IAAI,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI,GAAA;AAAA,cACxE,MAAM,MAAA,CAAO,GAAG,IAAI,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI,GAAA;AAAA,cACtC,YAAA,EAAcA,WAAAA,CAAY,YAAA,EAAc,EAAE;AAAA,aAC5C;AAAA,YACA,YAAA,EAAc,MAAA,CAAO,YAAY,CAAA,IAAK,IAAA,GAClC,YAAA,GAAe,EAAA,GAAK,MAAA,CAAO,IAAI,CAAA,GAAI,MAAA,GAAS,UAAA,GAC5C;AAAA,WACL,CAAA;AAAA,QACH;AAEA,QAAA,IAAI,cAAA,CAAe,SAAS,UAAA,EAAY;AACtC,UAAA,MAAM,CAAC,aAAA,EAAe,aAAa,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,YACvD,aAAa,YAAA,CAAa;AAAA,cACxB,SAAS,cAAA,CAAe,IAAA;AAAA,cACxB,GAAA,EAAK,kBAAA;AAAA,cACL,YAAA,EAAc,WAAA;AAAA,cACd,IAAA,EAAM,CAAC,WAAsB;AAAA,aAC9B,CAAA;AAAA,YACD,aAAa,YAAA,CAAa;AAAA,cACxB,SAAS,cAAA,CAAe,IAAA;AAAA,cACxB,GAAA,EAAK,kBAAA;AAAA,cACL,YAAA,EAAc,iBAAA;AAAA,cACd,IAAA,EAAM,CAAC,WAAsB;AAAA,aAC9B;AAAA,WACF,CAAA;AAED,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,QAAA;AAAA,YACA,WAAA;AAAA,YACA,QAAA,EAAU;AAAA,cACR,aAAA,EAAe,cAAc,QAAA,EAAS;AAAA,cACtC,eAAA,EAAiBA,WAAAA,CAAY,aAAA,EAAe,CAAC,CAAA;AAAA;AAAA,cAC7C,aAAA,EAAe,cAAc,QAAA,EAAS;AAAA,cACtC,eAAA,EAAiBA,WAAAA,CAAY,aAAA,EAAe,CAAC;AAAA;AAC/C,WACD,CAAA;AAAA,QACH;AAEA,QAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,uBAAuB,GAAG,0BAA0B,CAAA;AAAA,MACxF,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,0DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,QAAA,EAAUF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uBAAuB,CAAA;AAAA,MACrD,OAAOA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,0BAA0B;AAAA,KAClE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,OAAM,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,cAAA,GAAiB,iBAAA,CAAkB,OAAO,CAAA,GAAI,QAAQ,CAAA;AAC5D,QAAA,IAAI,CAAC,cAAA,EAAgB;AACnB,UAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,YAAY,QAAQ,CAAA,UAAA,CAAY,GAAG,uBAAuB,CAAA;AAAA,QAC9F;AAEA,QAAA,IAAI,cAAA,CAAe,IAAA,KAAS,MAAA,IAAU,KAAA,EAAO;AAC3C,UAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,YAClD,SAAS,cAAA,CAAe,IAAA;AAAA,YACxB,GAAA,EAAK,aAAA;AAAA,YACL,YAAA,EAAc,gBAAA;AAAA,YACd,IAAA,EAAM,CAAC,KAAgB;AAAA,WACxB,CAAA;AAGD,UAAA,MAAM,aAAA,GAAgB,YAAY,CAAC,CAAA;AACnC,UAAA,MAAM,kBAAA,GAAqB,YAAY,CAAC,CAAA;AAExC,UAAA,MAAM,aAAa,MAAA,CAAO,aAAa,IAAI,IAAA,GAAO,GAAA,EAAK,QAAQ,CAAC,CAAA;AAChE,UAAA,MAAM,aAAa,MAAA,CAAO,kBAAkB,IAAI,IAAA,GAAO,GAAA,EAAK,QAAQ,CAAC,CAAA;AAErE,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,QAAA;AAAA,YACA,KAAA;AAAA,YACA,KAAA,EAAO;AAAA,cACL,WAAW,SAAA,GAAY,GAAA;AAAA,cACvB,mBAAmB,SAAA,GAAY,GAAA;AAAA,cAC/B,aAAA,EAAe,YAAY,CAAC;AAAA;AAC9B,WACD,CAAA;AAAA,QACH;AAEA,QAAA,IAAI,cAAA,CAAe,SAAS,UAAA,EAAY;AACtC,UAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,YAClD,SAAS,cAAA,CAAe,IAAA;AAAA,YACxB,GAAA,EAAK,kBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAED,UAAA,MAAM,CAAC,UAAA,EAAY,UAAU,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,YACjD,aAAa,YAAA,CAAa;AAAA,cACxB,SAAS,cAAA,CAAe,IAAA;AAAA,cACxB,GAAA,EAAK,kBAAA;AAAA,cACL,YAAA,EAAc,eAAA;AAAA,cACd,IAAA,EAAM,CAAC,WAAW;AAAA,aACnB,CAAA;AAAA,YACD,aAAa,YAAA,CAAa;AAAA,cACxB,SAAS,cAAA,CAAe,IAAA;AAAA,cACxB,GAAA,EAAK,kBAAA;AAAA,cACL,YAAA,EAAc,eAAA;AAAA,cACd,IAAA,EAAM,CAAC,WAAW;AAAA,aACnB;AAAA,WACF,CAAA;AAGD,UAAA,MAAM,cAAA,GAAiB,SAAA;AACvB,UAAA,MAAM,SAAA,GAAA,CAAa,OAAO,UAAA,GAAa,cAAc,IAAI,IAAA,GAAO,GAAA,EAAK,QAAQ,CAAC,CAAA;AAC9E,UAAA,MAAM,SAAA,GAAA,CAAa,OAAO,UAAA,GAAa,cAAc,IAAI,IAAA,GAAO,GAAA,EAAK,QAAQ,CAAC,CAAA;AAE9E,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,QAAA;AAAA,YACA,KAAA,EAAO;AAAA,cACL,WAAW,SAAA,GAAY,GAAA;AAAA,cACvB,WAAW,SAAA,GAAY,GAAA;AAAA,cACvB,WAAA,EAAA,CAAc,OAAO,WAAW,CAAA,GAAI,OAAO,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI;AAAA;AAC/D,WACD,CAAA;AAAA,QACH;AAEA,QAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,uBAAuB,GAAG,uBAAuB,CAAA;AAAA,MACrF,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,sDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,SAAA,GAAY,iBAAA,CAAkB,OAAO,CAAA,IAAK,EAAC;AAEjD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,SAAA,EAAW,MAAA,CAAO,OAAA,CAAQ,SAAS,CAAA,CAAE,IAAI,CAAC,CAAC,IAAA,EAAM,MAAM,CAAA,MAAO;AAAA,YAC5D,IAAA;AAAA,YACA,MAAM,MAAA,CAAO,IAAA;AAAA,YACb,MAAM,MAAA,CAAO;AAAA,WACf,CAAE,CAAA;AAAA,UACF,MAAM,MAAA,CAAO,IAAA,CAAK,SAAS,CAAA,CAAE,MAAA,KAAW,IACpC,kDAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,kDAAA;AAAA,IACA;AAAA,MACE,iBAAA,EAAmBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B,CAAA;AAAA,MAClE,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MACtD,oBAAA,EAAsBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,sCAAsC,CAAA;AAAA,MAChF,MAAA,EAAQA,CAAAA,CAAE,IAAA,CAAK,CAAC,QAAA,EAAU,QAAA,EAAU,UAAA,EAAY,OAAO,CAAC,CAAA,CAAE,QAAA,CAAS,aAAa,CAAA;AAAA,MAChF,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,sBAAsB;AAAA,KACpD;AAAA,IACA,OAAO,EAAE,iBAAA,EAAmB,aAAa,oBAAA,EAAsB,MAAA,EAAQ,QAAO,KAAM;AAClF,MAAA,IAAI;AACF,QAAA,IAAI,aAAA,GAAgB,WAAW,iBAAiB,CAAA;AAChD,QAAA,IAAI,OAAA,GAAU,WAAW,WAAW,CAAA;AACpC,QAAA,MAAM,SAAA,GAAY,WAAW,oBAAoB,CAAA;AACjD,QAAA,MAAM,YAAA,GAAe,WAAW,MAAM,CAAA;AAEtC,QAAA,QAAQ,MAAA;AAAQ,UACd,KAAK,QAAA;AACH,YAAA,aAAA,IAAiB,YAAA;AACjB,YAAA;AAAA,UACF,KAAK,QAAA;AACH,YAAA,OAAA,IAAW,YAAA;AACX,YAAA;AAAA,UACF,KAAK,UAAA;AACH,YAAA,aAAA,IAAiB,YAAA;AACjB,YAAA;AAAA,UACF,KAAK,OAAA;AACH,YAAA,OAAA,IAAW,YAAA;AACX,YAAA;AAAA;AAGJ,QAAA,MAAM,eAAA,GAAkB,OAAA,GAAU,CAAA,GAC7B,aAAA,GAAgB,YAAa,OAAA,GAC9B,QAAA;AAEJ,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA,EAAQ;AAAA,YACN,UAAA,EAAY,iBAAA;AAAA,YACZ,IAAA,EAAM,WAAA;AAAA,YACN,YAAA,EAAc,UAAA,CAAW,WAAW,CAAA,GAAI,KAClC,UAAA,CAAW,iBAAiB,CAAA,GAAI,SAAA,GAAa,UAAA,CAAW,WAAW,CAAA,EAAG,OAAA,CAAQ,CAAC,CAAA,GACjF;AAAA,WACN;AAAA,UACA,MAAA;AAAA,UACA,MAAA;AAAA,UACA,KAAA,EAAO;AAAA,YACL,UAAA,EAAY,cAAc,QAAA,EAAS;AAAA,YACnC,IAAA,EAAM,QAAQ,QAAA,EAAS;AAAA,YACvB,cAAc,eAAA,KAAoB,QAAA,GAAW,QAAA,GAAM,eAAA,CAAgB,QAAQ,CAAC;AAAA,WAC9E;AAAA,UACA,MAAM,eAAA,GAAkB,GAAA;AAAA,UACxB,OAAA,EAAS,kBAAkB,CAAA,IAAK,eAAA,IAAmB,MAC/C,mDAAA,GACA,eAAA,IAAmB,IACnB,+CAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AACF;;;ACvXO,SAAS,uBAAuB,MAAA,EAAmB;AACxD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,0BAAA;AAAA,IACA,wDAAA;AAAA,IACA;AAAA,MACE,aAAA,EAAe,EAAE,WAAA,EAAa,gBAAA,EAAkB,UAAU,IAAA,EAAK;AAAA,MAC/D,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,aAAA,EAAe,OAAA,EAAQ,MAAO;AAAA,MAC/B,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,kCAAA,EAAqC,aAAa,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,YAAA,EAUpE,aAAa;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,4BAAA;AAAA;AAkBjB;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,2BAAA;AAAA,IACA,8CAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAM,EAAE,WAAA,EAAa,mDAAA,EAAqD,UAAU,IAAA,EAAK;AAAA,MACzF,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,IAAA,EAAM,OAAA,EAAQ,MAAO;AAAA,MACtB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,wCAAA,EAA2C,OAAO,CAAA,gBAAA,EAAmB,IAAI;;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAA;AAAA;AAOjF;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACvEO,SAAS,gBAAgB,MAAA,EAAmB;AACjD,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC3B,EAAA,sBAAA,CAAuB,MAAM,CAAA;AAC/B;ACGA,IAAM,kBAAA,GAAqB,4CAAA;AAG3B,IAAM,cAAA,GAAiB;AAAA,EACrB;AAAA,IACE,IAAA,EAAM,YAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,SAAA;AAAA,IACjB,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM,SAAA;AAAA,QACN,UAAA,EAAY;AAAA,UACV,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,SAAA,EAAU;AAAA,UAClC,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,MAAA,EAAO;AAAA,UACrC,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,OAAA;AAAQ;AACpC;AACF,KACF;AAAA,IACA,OAAA,EAAS;AAAA,MACP;AAAA,QACE,IAAA,EAAM,YAAA;AAAA,QACN,IAAA,EAAM,SAAA;AAAA,QACN,UAAA,EAAY;AAAA,UACV,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,MAAA,EAAO;AAAA,UAChC,EAAE,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,OAAA;AAAQ;AACtC;AACF;AACF,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,SAAA;AAAA,IACjB,MAAA,EAAQ;AAAA,MACN;AAAA,QACE,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM,SAAA;AAAA,QACN,UAAA,EAAY;AAAA,UACV,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,SAAA,EAAU;AAAA,UAClC,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,OAAA;AAAQ;AACpC;AACF,KACF;AAAA,IACA,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,aAAA,EAAe,IAAA,EAAM,SAAA,EAAU;AAAA,MACvC,EAAE,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,SAAA;AAAU;AACxC,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,SAAA;AAAA,IACjB,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,gBAAA,EAAkB,IAAA,EAAM,MAAA,EAAO;AAAA,MACvC;AAAA,QACE,IAAA,EAAM,OAAA;AAAA,QACN,IAAA,EAAM,SAAA;AAAA,QACN,UAAA,EAAY;AAAA,UACV,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,SAAA,EAAU;AAAA,UAClC,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,OAAA;AAAQ;AACpC;AACF,KACF;AAAA,IACA,OAAA,EAAS;AAAA,MACP;AAAA,QACE,IAAA,EAAM,YAAA;AAAA,QACN,IAAA,EAAM,SAAA;AAAA,QACN,UAAA,EAAY;AAAA,UACV,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,MAAA,EAAO;AAAA,UAChC,EAAE,IAAA,EAAM,YAAA,EAAc,IAAA,EAAM,OAAA;AAAQ;AACtC;AACF;AACF,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,aAAA,EAAe,IAAA,EAAM,WAAW;AAAA,GACpD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,YAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW;AAAA,GAChD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,aAAA,EAAe,IAAA,EAAM,WAAW,CAAA;AAAA,IACjD,SAAS,CAAC,EAAE,MAAM,WAAA,EAAa,IAAA,EAAM,WAAW;AAAA,GAClD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,eAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,MAAA,EAAQ,IAAA,EAAM,WAAW,CAAA;AAAA,IAC1C,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW;AAAA;AAElD,CAAA;AAGA,IAAMW,UAAAA,GAAY;AAAA,EAChB;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW,CAAA;AAAA,IAC7C,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW;AAAA,GAChD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,SAAS;AAAA,GACvC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,QAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA,GACxC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,MAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA,GACxC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,aAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA;AAE3C,CAAA;AAEO,SAAS,uBAAuB,MAAA,EAAmB;AAExD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,yDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,KAAA,EAAOX,CAAAA,CAAE,KAAA,CAAMA,CAAAA,CAAE,MAAA,CAAO;AAAA,QACtB,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB,CAAA;AAAA,QAC9C,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,QACvD,cAAcA,CAAAA,CAAE,OAAA,GAAU,QAAA,EAAS,CAAE,SAAS,yBAAyB;AAAA,OACxE,CAAC,CAAA,CAAE,QAAA,CAAS,2BAA2B;AAAA,KAC1C;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAM,KAAM;AAC5B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,cAAA,GAAiB,KAAA,CAAM,GAAA,CAAI,CAAA,IAAA,MAAS;AAAA,UACxC,QAAQ,IAAA,CAAK,MAAA;AAAA,UACb,YAAA,EAAc,KAAK,YAAA,IAAgB,KAAA;AAAA,UACnC,UAAU,IAAA,CAAK;AAAA,SACjB,CAAE,CAAA;AAEF,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC7C,OAAA,EAAS,kBAAA;AAAA,UACT,GAAA,EAAK,cAAA;AAAA,UACL,YAAA,EAAc,YAAA;AAAA,UACd,IAAA,EAAM,CAAC,cAAc;AAAA,SACtB,CAAA;AAED,QAAA,MAAM,OAAA,GAAW,MAAA,CAAwD,GAAA,CAAI,CAAC,GAAG,CAAA,MAAO;AAAA,UACtF,KAAA,EAAO,CAAA;AAAA,UACP,MAAA,EAAQ,KAAA,CAAM,CAAC,CAAA,CAAE,MAAA;AAAA,UACjB,SAAS,CAAA,CAAE,OAAA;AAAA,UACX,YAAY,CAAA,CAAE;AAAA,SAChB,CAAE,CAAA;AAEF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,YAAY,KAAA,CAAM,MAAA;AAAA,UAClB,iBAAiB,OAAA,CAAQ,MAAA,CAAO,CAAA,CAAA,KAAK,CAAA,CAAE,OAAO,CAAA,CAAE,MAAA;AAAA,UAChD;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,qBAAqB,CAAA;AAAA,MACtD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,0BAAA;AAAA,IACA,iEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MACtD,MAAA,EAAQA,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,mCAAmC;AAAA,KAC1E;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,EAAS,QAAO,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,GAAA,CAAI,CAAA,KAAA,MAAU;AAAA,UACjC,MAAA,EAAQ,KAAA;AAAA,UACR,YAAA,EAAc,IAAA;AAAA,UACd,UAAU,kBAAA,CAAmB;AAAA,YAC3B,GAAA,EAAKW,UAAAA;AAAA,YACL,YAAA,EAAc,WAAA;AAAA,YACd,IAAA,EAAM,CAAC,OAAkB;AAAA,WAC1B;AAAA,SACH,CAAE,CAAA;AAEF,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC7C,OAAA,EAAS,kBAAA;AAAA,UACT,GAAA,EAAK,cAAA;AAAA,UACL,YAAA,EAAc,YAAA;AAAA,UACd,IAAA,EAAM,CAAC,KAAK;AAAA,SACb,CAAA;AAED,QAAA,MAAM,QAAA,GAAY,MAAA,CAAwD,GAAA,CAAI,CAAC,GAAG,CAAA,KAAM;AACtF,UAAA,IAAI,CAAC,CAAA,CAAE,OAAA,IAAW,CAAA,CAAE,eAAe,IAAA,EAAM;AACvC,YAAA,OAAO;AAAA,cACL,KAAA,EAAO,OAAO,CAAC,CAAA;AAAA,cACf,OAAA,EAAS,GAAA;AAAA,cACT,KAAA,EAAO;AAAA,aACT;AAAA,UACF;AAEA,UAAA,IAAI;AACF,YAAA,MAAM,UAAU,oBAAA,CAAqB;AAAA,cACnC,GAAA,EAAKA,UAAAA;AAAA,cACL,YAAA,EAAc,WAAA;AAAA,cACd,MAAM,CAAA,CAAE;AAAA,aACT,CAAA;AACD,YAAA,OAAO;AAAA,cACL,KAAA,EAAO,OAAO,CAAC,CAAA;AAAA,cACf,OAAA,EAAS,QAAQ,QAAA;AAAS,aAC5B;AAAA,UACF,CAAA,CAAA,MAAQ;AACN,YAAA,OAAO;AAAA,cACL,KAAA,EAAO,OAAO,CAAC,CAAA;AAAA,cACf,OAAA,EAAS,GAAA;AAAA,cACT,KAAA,EAAO;AAAA,aACT;AAAA,UACF;AAAA,QACF,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,QAAA;AAAA,UACA,aAAa,MAAA,CAAO;AAAA,SACrB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,8BAA8B,CAAA;AAAA,MAC/D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,iEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,MAAA,EAAQX,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,mCAAmC;AAAA,KAC1E;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,MAAA,EAAO,KAAM;AAC7B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,QAA0E,EAAC;AAEjF,QAAA,KAAA,MAAW,SAAS,MAAA,EAAQ;AAC1B,UAAA,KAAA,CAAM,IAAA,CAAK;AAAA,YACT,MAAA,EAAQ,KAAA;AAAA,YACR,YAAA,EAAc,IAAA;AAAA,YACd,UAAU,kBAAA,CAAmB,EAAE,KAAKW,UAAAA,EAAW,YAAA,EAAc,QAAQ;AAAA,WACtE,CAAA;AACD,UAAA,KAAA,CAAM,IAAA,CAAK;AAAA,YACT,MAAA,EAAQ,KAAA;AAAA,YACR,YAAA,EAAc,IAAA;AAAA,YACd,UAAU,kBAAA,CAAmB,EAAE,KAAKA,UAAAA,EAAW,YAAA,EAAc,UAAU;AAAA,WACxE,CAAA;AACD,UAAA,KAAA,CAAM,IAAA,CAAK;AAAA,YACT,MAAA,EAAQ,KAAA;AAAA,YACR,YAAA,EAAc,IAAA;AAAA,YACd,UAAU,kBAAA,CAAmB,EAAE,KAAKA,UAAAA,EAAW,YAAA,EAAc,YAAY;AAAA,WAC1E,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC7C,OAAA,EAAS,kBAAA;AAAA,UACT,GAAA,EAAK,cAAA;AAAA,UACL,YAAA,EAAc,YAAA;AAAA,UACd,IAAA,EAAM,CAAC,KAAK;AAAA,SACb,CAAA;AAED,QAAA,MAAM,OAAA,GAAU,MAAA;AAChB,QAAA,MAAM,UAAA,GAAa,MAAA,CAAO,GAAA,CAAI,CAAC,OAAO,CAAA,KAAM;AAC1C,UAAA,MAAM,UAAA,GAAa,OAAA,CAAQ,CAAA,GAAI,CAAC,CAAA;AAChC,UAAA,MAAM,YAAA,GAAe,OAAA,CAAQ,CAAA,GAAI,CAAA,GAAI,CAAC,CAAA;AACtC,UAAA,MAAM,cAAA,GAAiB,OAAA,CAAQ,CAAA,GAAI,CAAA,GAAI,CAAC,CAAA;AAExC,UAAA,IAAI,IAAA,GAAO,SAAA;AACX,UAAA,IAAI,MAAA,GAAS,KAAA;AACb,UAAA,IAAI,QAAA,GAAW,EAAA;AAEf,UAAA,IAAI;AACF,YAAA,IAAI,UAAA,CAAW,OAAA,IAAW,UAAA,CAAW,UAAA,KAAe,IAAA,EAAM;AACxD,cAAA,IAAA,GAAO,oBAAA,CAAqB;AAAA,gBAC1B,GAAA,EAAKA,UAAAA;AAAA,gBACL,YAAA,EAAc,MAAA;AAAA,gBACd,MAAM,UAAA,CAAW;AAAA,eAClB,CAAA;AAAA,YACH;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAAC;AAET,UAAA,IAAI;AACF,YAAA,IAAI,YAAA,CAAa,OAAA,IAAW,YAAA,CAAa,UAAA,KAAe,IAAA,EAAM;AAC5D,cAAA,MAAA,GAAS,oBAAA,CAAqB;AAAA,gBAC5B,GAAA,EAAKA,UAAAA;AAAA,gBACL,YAAA,EAAc,QAAA;AAAA,gBACd,MAAM,YAAA,CAAa;AAAA,eACpB,CAAA;AAAA,YACH;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAAC;AAET,UAAA,IAAI;AACF,YAAA,IAAI,cAAA,CAAe,OAAA,IAAW,cAAA,CAAe,UAAA,KAAe,IAAA,EAAM;AAChE,cAAA,QAAA,GAAW,OAAO,oBAAA,CAAqB;AAAA,gBACrC,GAAA,EAAKA,UAAAA;AAAA,gBACL,YAAA,EAAc,UAAA;AAAA,gBACd,MAAM,cAAA,CAAe;AAAA,eACtB,CAAC,CAAA;AAAA,YACJ;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAAC;AAET,UAAA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,IAAA,EAAM,QAAQ,QAAA,EAAS;AAAA,QAClD,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA,EAAQ,UAAA;AAAA,UACR,aAAa,MAAA,CAAO;AAAA,SACrB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,2BAAA;AAAA,IACA,kDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,SAAA,EAAWX,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,6BAA6B;AAAA,KACvE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,SAAA,EAAU,KAAM;AAChC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,KAAA,GAAQ,SAAA,CAAU,GAAA,CAAI,CAAA,IAAA,MAAS;AAAA,UACnC,MAAA,EAAQ,kBAAA;AAAA,UACR,YAAA,EAAc,IAAA;AAAA,UACd,UAAU,kBAAA,CAAmB;AAAA,YAC3B,GAAA,EAAK,cAAA;AAAA,YACL,YAAA,EAAc,eAAA;AAAA,YACd,IAAA,EAAM,CAAC,IAAe;AAAA,WACvB;AAAA,SACH,CAAE,CAAA;AAEF,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC7C,OAAA,EAAS,kBAAA;AAAA,UACT,GAAA,EAAK,cAAA;AAAA,UACL,YAAA,EAAc,YAAA;AAAA,UACd,IAAA,EAAM,CAAC,KAAK;AAAA,SACb,CAAA;AAED,QAAA,MAAM,QAAA,GAAY,MAAA,CAAwD,GAAA,CAAI,CAAC,GAAG,CAAA,KAAM;AACtF,UAAA,IAAI,CAAC,EAAE,OAAA,EAAS;AACd,YAAA,OAAO,EAAE,SAAS,SAAA,CAAU,CAAC,GAAG,OAAA,EAAS,GAAA,EAAK,OAAO,aAAA,EAAc;AAAA,UACrE;AAGA,UAAA,MAAM,OAAA,GAAU,MAAA,CAAO,CAAA,CAAE,UAAU,CAAA;AACnC,UAAA,OAAO;AAAA,YACL,OAAA,EAAS,UAAU,CAAC,CAAA;AAAA,YACpB,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,YAC1B,YAAY,MAAA,CAAO,OAAO,CAAA,GAAI,IAAA,EAAM,QAAQ,CAAC;AAAA,WAC/C;AAAA,QACF,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,QAAA;AAAA,UACA,gBAAgB,SAAA,CAAU;AAAA,SAC3B,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,+BAA+B,CAAA;AAAA,MAChE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,iBAAA,EAAmBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iDAAiD,CAAA;AAAA,MACxF,IAAA,EAAMA,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,+BAA+B;AAAA,KACpE;AAAA,IACA,OAAO,EAAE,iBAAA,EAAmB,IAAA,EAAAO,OAAK,KAAM;AACrC,MAAA,IAAI;AAEF,QAAA,MAAM,KAAA,GAAQ,iBAAA,CAAkB,KAAA,CAAM,iBAAiB,CAAA;AACvD,QAAA,IAAI,CAAC,KAAA,EAAO;AACV,UAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,4BAA4B,GAAG,oBAAoB,CAAA;AAAA,QACvF;AAEA,QAAA,MAAM,GAAG,QAAA,EAAU,UAAU,CAAA,GAAI,KAAA;AACjC,QAAA,MAAM,KAAA,GAAQ,UAAA,GAAa,UAAA,CAAW,KAAA,CAAM,GAAG,CAAA,CAAE,GAAA,CAAI,CAAA,CAAA,KAAK,CAAA,CAAE,IAAA,EAAM,CAAA,GAAI,EAAC;AAGvE,QAAA,MAAM,MAAM,CAAC;AAAA,UACX,IAAA,EAAM,QAAA;AAAA,UACN,IAAA,EAAM,UAAA;AAAA,UACN,MAAA,EAAQ,KAAA,CAAM,GAAA,CAAI,CAAC,IAAA,EAAM,CAAA,MAAO,EAAE,IAAA,EAAM,CAAA,GAAA,EAAM,CAAC,CAAA,CAAA,EAAI,IAAA,EAAK,CAAE,CAAA;AAAA,UAC1D,SAAS;AAAC,SACX,CAAA;AAGD,QAAA,MAAM,aAAA,GAAgBA,KAAAA,CAAK,GAAA,CAAI,CAAC,KAAK,CAAA,KAAM;AACzC,UAAA,MAAM,IAAA,GAAO,MAAM,CAAC,CAAA;AACpB,UAAA,IAAI,KAAK,UAAA,CAAW,MAAM,KAAK,IAAA,CAAK,UAAA,CAAW,KAAK,CAAA,EAAG;AACrD,YAAA,OAAO,OAAO,GAAG,CAAA;AAAA,UACnB;AACA,UAAA,IAAI,SAAS,MAAA,EAAQ;AACnB,YAAA,OAAO,GAAA,CAAI,aAAY,KAAM,MAAA;AAAA,UAC/B;AACA,UAAA,OAAO,GAAA;AAAA,QACT,CAAC,CAAA;AAED,QAAA,MAAM,WAAW,kBAAA,CAAmB;AAAA,UAClC,GAAA;AAAA,UACA,YAAA,EAAc,QAAA;AAAA,UACd,IAAA,EAAM;AAAA,SACP,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,iBAAA;AAAA,UACA,IAAA,EAAAA,KAAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,yDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,KAAA,EAAOP,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MAChD,MAAA,EAAQA,CAAAA,CAAE,KAAA,CAAMA,CAAAA,CAAE,MAAA,CAAO;AAAA,QACvB,KAAA,EAAOA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,eAAe,CAAA;AAAA,QAC1C,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iBAAiB;AAAA,OAC/C,CAAC,CAAA,CAAE,QAAA,CAAS,uCAAuC;AAAA,KACtD;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAO,QAAO,KAAM;AACpC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,eAAe,CAAC;AAAA,UACpB,IAAA,EAAM,WAAA;AAAA,UACN,IAAA,EAAM,UAAA;AAAA,UACN,eAAA,EAAiB,MAAA;AAAA,UACjB,MAAA,EAAQ;AAAA,YACN,EAAE,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAU;AAAA,YACjC,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA;AAAU,WACrC;AAAA,UACA,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,SACxC,CAAA;AAED,QAAA,MAAM,KAAA,GAAQ,MAAA,CAAO,GAAA,CAAI,CAAA,KAAA,MAAU;AAAA,UACjC,QAAQ,KAAA,CAAM,KAAA;AAAA,UACd,YAAA,EAAc,IAAA;AAAA,UACd,UAAU,kBAAA,CAAmB;AAAA,YAC3B,GAAA,EAAK,YAAA;AAAA,YACL,YAAA,EAAc,WAAA;AAAA,YACd,IAAA,EAAM,CAAC,KAAA,EAAkB,KAAA,CAAM,OAAkB;AAAA,WAClD;AAAA,SACH,CAAE,CAAA;AAEF,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC7C,OAAA,EAAS,kBAAA;AAAA,UACT,GAAA,EAAK,cAAA;AAAA,UACL,YAAA,EAAc,YAAA;AAAA,UACd,IAAA,EAAM,CAAC,KAAK;AAAA,SACb,CAAA;AAED,QAAA,MAAM,UAAA,GAAc,MAAA,CAAwD,GAAA,CAAI,CAAC,GAAG,CAAA,KAAM;AACxF,UAAA,IAAI,CAAC,EAAE,OAAA,EAAS;AACd,YAAA,OAAO;AAAA,cACL,KAAA,EAAO,MAAA,CAAO,CAAC,CAAA,CAAE,KAAA;AAAA,cACjB,OAAA,EAAS,MAAA,CAAO,CAAC,CAAA,CAAE,OAAA;AAAA,cACnB,SAAA,EAAW,GAAA;AAAA,cACX,KAAA,EAAO;AAAA,aACT;AAAA,UACF;AAEA,UAAA,MAAM,SAAA,GAAY,MAAA,CAAO,CAAA,CAAE,UAAU,CAAA;AACrC,UAAA,OAAO;AAAA,YACL,KAAA,EAAO,MAAA,CAAO,CAAC,CAAA,CAAE,KAAA;AAAA,YACjB,OAAA,EAAS,MAAA,CAAO,CAAC,CAAA,CAAE,OAAA;AAAA,YACnB,SAAA,EAAW,UAAU,QAAA,EAAS;AAAA,YAC9B,WAAA,EAAa,SAAA,IAAa,MAAA,CAAO,oEAAoE,CAAA,GAAI;AAAA,WAC3G;AAAA,QACF,CAAC,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,KAAA;AAAA,UACA,UAAA;AAAA,UACA,aAAa,MAAA,CAAO;AAAA,SACrB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AACF;;;ACtiBO,SAAS,yBAAyB,MAAA,EAAmB;AAC1D,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,uBAAA;AAAA,IACA,2DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,EAAE,WAAA,EAAa,2BAAA,EAA6B,UAAU,IAAA,EAAK;AAAA,MACpE,OAAA,EAAS,EAAE,WAAA,EAAa,kBAAA,EAAoB,UAAU,IAAA;AAAK,KAC7D;AAAA,IACA,CAAC,EAAE,OAAA,EAAS,OAAA,EAAQ,MAAO;AAAA,MACzB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,4CAAA,EAA+C,OAAO,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,gCAAA;AAAA;AAa5E;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,sBAAA;AAAA,IACA,8DAAA;AAAA,IACA;AAAA,MACE,KAAA,EAAO,EAAE,WAAA,EAAa,2CAAA,EAA6C,UAAU,IAAA;AAAK,KACpF;AAAA,IACA,CAAC,EAAE,KAAA,EAAM,MAAO;AAAA,MACd,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,2EAA2E,KAAK;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,gFAAA;AAAA;AASxF;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACzDO,SAAS,kBAAkB,MAAA,EAAmB;AACnD,EAAA,sBAAA,CAAuB,MAAM,CAAA;AAC7B,EAAA,wBAAA,CAAyB,MAAM,CAAA;AACjC;ACJO,SAAS,uBAAuB,MAAA,EAAmB;AAExD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,qBAAA;AAAA,IACA,sCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CACN,MAAA,EAAO,CACP,SAAS,qDAAqD;AAAA,KACnE;AAAA,IACA,CAAC,EAAE,OAAA,EAAQ,MAAO;AAAA,MAChB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,iDAAiD,OAAO,CAAA,0FAAA;AAAA;AAChE;AACF;AACF,KACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,kBAAA;AAAA,IACA,2CAAA;AAAA,IACA;AAAA,MACE,WAAA,EAAaA,CAAAA,CACV,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA;AACF,KACJ;AAAA,IACA,CAAC,EAAE,WAAA,EAAY,KAAM;AACnB,MAAA,MAAM,QAAA,GAAW,WAAA,CAAY,KAAA,CAAM,GAAG,CAAA,CAAE,IAAI,CAAC,CAAA,KAAM,CAAA,CAAE,IAAA,EAAM,CAAA;AAC3D,MAAA,OAAO;AAAA,QACL,QAAA,EAAU;AAAA,UACR;AAAA,YACE,IAAA,EAAM,MAAA;AAAA,YACN,OAAA,EAAS;AAAA,cACP,IAAA,EAAM,MAAA;AAAA,cACN,IAAA,EAAM,CAAA,sDAAA,EAAyD,QAAA,CAAS,IAAA,CAAK,IAAI,CAAC,CAAA,0HAAA;AAAA;AACpF;AACF;AACF,OACF;AAAA,IACF;AAAA,GACF;AACF;;;AC3CO,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,8CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAU,MAAe,UAAA,CAAW,OAAO,CAAA;AACjD,QAAA,MAAM,WAAA,GAAc,MAAe,cAAA,CAAe,OAAO,CAAA;AACzD,QAAA,MAAM,MAAA,GAAS,UAAU,OAAO,CAAA;AAEhC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,UAClC;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,qBAAqB,CAAA;AAAA,MACtD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,gCAAA;AAAA,IACA,EAAC;AAAA,IACD,YAAY;AACV,MAAA,IAAI;AACF,QAAA,MAAM,WAAW,oBAAA,EAAqB;AACtC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,iBAAA,EAAmB;AAAA,SACpB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,6BAA6B,CAAA;AAAA,MAC9D;AAAA,IACF;AAAA,GACF;AAyBF;;;ACtEO,SAAS,gBAAgB,MAAA,EAAmB;AACjD,EAAA,sBAAA,CAAuB,MAAM,CAAA;AAC7B,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC7B;ACAO,SAAS,iBAAiB,MAAA,EAAmB;AAElD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,6IAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAASA,CAAAA,CACN,MAAA,EAAO,CACP,SAAS,0DAA0D,CAAA;AAAA,MACtE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,YAAA,EAAc,OAAA,EAAS,SAAQ,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,WAAW,MAAe,sBAAA;AAAA,UAC9B,YAAA;AAAA,UACA,OAAO,OAAO,CAAA;AAAA,UACd;AAAA,SACF;AAEA,QAAA,OAAO,UAAA,CAAW,QAAQ,QAAQ,CAAA;AAAA,MACpC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,4BAAA;AAAA,IACA,8KAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAASA,CAAAA,CACN,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,YAAA,EAAc,OAAA,EAAS,SAAQ,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,WAAW,MAAe,uBAAA;AAAA,UAC9B,YAAA;AAAA,UACA,OAAO,OAAO,CAAA;AAAA,UACd;AAAA,SACF;AAEA,QAAA,OAAO,UAAA,CAAW,QAAQ,QAAQ,CAAA;AAAA,MACpC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,4BAA4B,CAAA;AAAA,MAC7D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,+BAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAYA,CAAAA,CACT,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF,CACC,OAAA,CAAQ,OAAA,CAAQ,GAAA,CAAI,WAAqB,CAAA;AAAA,MAC5C,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAASA,CAAAA,CACN,MAAA,EAAO,CACP,SAAS,uDAAuD,CAAA;AAAA,MACnE,SAAA,EAAWA,CAAAA,CACR,MAAA,EAAO,CACP,SAAS,iDAAiD,CAAA;AAAA,MAC7D,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,UAAA,EAAY,cAAc,OAAA,EAAS,SAAA,EAAW,SAAQ,KAAM;AACnE,MAAA,IAAI;AACF,QAAA,MAAM,SAAS,MAAe,cAAA;AAAA,UAC5B,YAAA;AAAA,UACA,SAAA;AAAA,UACA,OAAO,OAAO,CAAA;AAAA,UACd,UAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,IAAA;AAAA,UACT,QAAQ,MAAA,CAAO,MAAA;AAAA,UACf,OAAA;AAAA,UACA,QAAA,EAAU,YAAA;AAAA,UACV,SAAS,MAAA,CAAO,OAAA;AAAA,UAChB,SAAA,EAAW,SAAA;AAAA,UACX,IAAA,EAAM,OAAO,KAAA,CAAM,IAAA;AAAA,UACnB,MAAA,EAAQ,OAAO,KAAA,CAAM;AAAA,SACtB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,kBAAkB,CAAA;AAAA,MACnD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,8JAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAYA,CAAAA,CACT,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF,CACC,OAAA,CAAQ,OAAA,CAAQ,GAAA,CAAI,WAAqB,CAAA;AAAA,MAC5C,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAASA,CAAAA,CACN,MAAA,EAAO,CACP,SAAS,yDAAyD,CAAA;AAAA,MACrE,MAAA,EAAQA,CAAAA,CACL,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,SAAA,EAAWA,CAAAA,CACR,MAAA,EAAO,CACP,SAAS,2DAA2D,CAAA;AAAA,MACvE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO;AAAA,MACL,UAAA;AAAA,MACA,YAAA;AAAA,MACA,OAAA;AAAA,MACA,MAAA;AAAA,MACA,SAAA;AAAA,MACA;AAAA,KACF,KAAM;AACJ,MAAA,IAAI;AACF,QAAA,MAAM,SAAS,MAAe,eAAA;AAAA,UAC5B,YAAA;AAAA,UACA,SAAA;AAAA,UACA,OAAO,OAAO,CAAA;AAAA,UACd,MAAA;AAAA,UACA,UAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,IAAA;AAAA,UACT,QAAQ,MAAA,CAAO,MAAA;AAAA,UACf,OAAA;AAAA,UACA,QAAA,EAAU,YAAA;AAAA,UACV,SAAS,MAAA,CAAO,OAAA;AAAA,UAChB,QAAQ,MAAA,CAAO,MAAA;AAAA,UACf,SAAA,EAAW;AAAA,SACZ,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,6BAA6B,CAAA;AAAA,MAC9D;AAAA,IACF;AAAA,GACF;AACF;;;AClLO,SAAS,YAAY,MAAA,EAAmB;AAC7C,EAAA,gBAAA,CAAiB,MAAM,CAAA;AACzB;ACIA,IAAM,cAAA,GAAgG;AAAA,EACpG,CAAA,EAAG;AAAA;AAAA,IACD,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,CAAA,EAAE;AAAA,IACrF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,CAAA,EAAE;AAAA,IACrF,EAAE,MAAA,EAAQ,KAAA,EAAO,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA,EAAG;AAAA,IACrF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA,EAAG;AAAA,IACtF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA;AAAG,GACxF;AAAA,EACA,EAAA,EAAI;AAAA;AAAA,IACF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA,EAAG;AAAA,IACtF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA,EAAG;AAAA,IACtF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA,EAAG;AAAA,IACtF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA;AAAG,GACxF;AAAA,EACA,KAAA,EAAO;AAAA;AAAA,IACL,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,CAAA,EAAE;AAAA,IACrF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,CAAA,EAAE;AAAA,IACrF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA,EAAG;AAAA,IACtF,EAAE,MAAA,EAAQ,KAAA,EAAO,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA;AAAG,GACvF;AAAA,EACA,GAAA,EAAK;AAAA;AAAA,IACH,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,CAAA,EAAE;AAAA,IACrF,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,4CAAA,EAA8C,UAAU,CAAA,EAAE;AAAA,IACrF,EAAE,MAAA,EAAQ,QAAA,EAAU,OAAA,EAAS,4CAAA,EAA8C,UAAU,EAAA;AAAG;AAE5F,CAAA;AAGA,IAAMW,UAAAA,GAAY;AAAA,EAChB;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW,CAAA;AAAA,IAC7C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,QAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA,GACxC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,SAAS;AAAA;AAEzC,CAAA;AAEO,SAAS,uBAAuB,MAAA,EAAmB;AAExD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,uDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,OAAA,EAASX,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,2BAA2B;AAAA,KAC1D;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,EAAQ,KAAM;AAC9B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAG9C,QAAA,MAAM,gBAAgB,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,SAA6B,CAAA;AAGnF,QAAA,MAAM,MAAA,GAAS,cAAA,CAAe,OAAO,CAAA,IAAK,EAAC;AAC3C,QAAA,MAAM,gBAKD,EAAC;AAEN,QAAA,KAAA,MAAW,SAAS,MAAA,EAAQ;AAC1B,UAAA,IAAI;AACF,YAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,cAC9C,SAAS,KAAA,CAAM,OAAA;AAAA,cACf,GAAA,EAAKW,UAAAA;AAAA,cACL,YAAA,EAAc,WAAA;AAAA,cACd,IAAA,EAAM,CAAC,OAAkB;AAAA,aAC1B,CAAA;AAED,YAAA,IAAI,UAAU,EAAA,EAAI;AAChB,cAAA,aAAA,CAAc,IAAA,CAAK;AAAA,gBACjB,QAAQ,KAAA,CAAM,MAAA;AAAA,gBACd,SAAS,KAAA,CAAM,OAAA;AAAA,gBACf,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,gBAC1B,SAAA,EAAWT,WAAAA,CAAY,OAAA,EAAS,KAAA,CAAM,QAAQ;AAAA,eAC/C,CAAA;AAAA,YACH;AAAA,UACF,CAAA,CAAA,MAAQ;AAAA,UAER;AAAA,QACF;AAGA,QAAA,MAAM,aAAA,GAAA,CAAiB,aAAA,GAAgB,EAAA,GAAK,CAAA,GAAI,KAAK,aAAA,CAAc,MAAA;AAEnE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,OAAA;AAAA,UACA,MAAA,EAAQ;AAAA,YACN,OAAA,EAAS,cAAc,QAAA,EAAS;AAAA,YAChC,SAAA,EAAWA,WAAAA,CAAY,aAAA,EAAe,EAAE;AAAA,WAC1C;AAAA,UACA,MAAA,EAAQ,aAAA;AAAA,UACR,OAAA,EAAS;AAAA,YACP,aAAa,aAAA,CAAc,MAAA;AAAA,YAC3B,aAAA;AAAA,YACA,kBAAkB,aAAA,GAAgB;AAAA,WACpC;AAAA,UACA,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,4BAA4B,CAAA;AAAA,MAC7D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,iCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,OAAA,EAASF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB,CAAA;AAAA,MAC7C,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,wBAAwB;AAAA,KAC5D;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,EAAS,cAAa,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,CAAC,OAAA,EAAS,MAAA,EAAQ,QAAQ,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UACpD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,YAAA;AAAA,YACT,GAAA,EAAKW,UAAAA;AAAA,YACL,YAAA,EAAc,WAAA;AAAA,YACd,IAAA,EAAM,CAAC,OAAkB;AAAA,WAC1B,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,YAAA;AAAA,YACT,GAAA,EAAKA,UAAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,YAAA;AAAA,YACT,GAAA,EAAKA,UAAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf;AAAA,SACF,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA,EAAQ,OAAA;AAAA,UACR,KAAA,EAAO;AAAA,YACL,OAAA,EAAS,YAAA;AAAA,YACT,MAAA;AAAA,YACA,QAAA,EAAU,OAAO,QAAQ;AAAA,WAC3B;AAAA,UACA,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,UAC1B,SAAA,EAAWT,WAAAA,CAAY,OAAA,EAAS,MAAA,CAAO,QAAQ,CAAC;AAAA,SACjD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,0BAAA;AAAA,IACA,sCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB,CAAA;AAAA,MAC7C,QAAA,EAAUA,CAAAA,CAAE,KAAA,CAAMA,CAAAA,CAAE,MAAA,EAAQ,CAAA,CAAE,QAAA,EAAS,CAAE,QAAA,CAAS,4CAA4C;AAAA,KAChG;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAS,KAAM;AAC/B,MAAA,IAAI;AACF,QAAA,MAAM,iBAAiB,QAAA,IAAY,CAAC,UAAA,EAAY,KAAA,EAAO,YAAY,SAAS,CAAA;AAC5E,QAAA,MAAM,YAMD,EAAC;AAEN,QAAA,KAAA,MAAW,WAAW,cAAA,EAAgB;AACpC,UAAA,IAAI;AACF,YAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,YAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAC9C,YAAA,MAAM,gBAAgB,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,SAA6B,CAAA;AAGnF,YAAA,MAAM,MAAA,GAAS,cAAA,CAAe,OAAO,CAAA,IAAK,EAAC;AAC3C,YAAA,IAAI,UAAA,GAAa,CAAA;AAEjB,YAAA,KAAA,MAAW,KAAA,IAAS,MAAA,CAAO,KAAA,CAAM,CAAA,EAAG,CAAC,CAAA,EAAG;AACtC,cAAA,IAAI;AACF,gBAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,kBAC9C,SAAS,KAAA,CAAM,OAAA;AAAA,kBACf,GAAA,EAAKW,UAAAA;AAAA,kBACL,YAAA,EAAc,WAAA;AAAA,kBACd,IAAA,EAAM,CAAC,OAAkB;AAAA,iBAC1B,CAAA;AACD,gBAAA,IAAI,UAAU,EAAA,EAAI,UAAA,EAAA;AAAA,cACpB,CAAA,CAAA,MAAQ;AAAA,cAAC;AAAA,YACX;AAEA,YAAA,SAAA,CAAU,IAAA,CAAK;AAAA,cACb,OAAA;AAAA,cACA,OAAA;AAAA,cACA,aAAA,EAAeT,WAAAA,CAAY,aAAA,EAAe,EAAE,CAAA;AAAA,cAC5C,UAAA;AAAA,cACA,MAAA,EAAQ;AAAA,aACT,CAAA;AAAA,UACH,CAAA,CAAA,MAAQ;AACN,YAAA,SAAA,CAAU,IAAA,CAAK;AAAA,cACb,OAAA;AAAA,cACA,OAAA,EAAS,CAAA;AAAA,cACT,aAAA,EAAe,GAAA;AAAA,cACf,UAAA,EAAY,CAAA;AAAA,cACZ,MAAA,EAAQ;AAAA,aACT,CAAA;AAAA,UACH;AAAA,QACF;AAEA,QAAA,MAAM,eAAe,SAAA,CAAU,MAAA;AAAA,UAAO,CAAA,CAAA,KACpC,CAAA,CAAE,MAAA,KAAW,SAAA,KAAc,UAAA,CAAW,EAAE,aAAa,CAAA,GAAI,CAAA,IAAK,CAAA,CAAE,UAAA,GAAa,CAAA;AAAA,SAC/E,CAAE,MAAA;AAEF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,SAAA;AAAA,UACA,OAAA,EAAS;AAAA,YACP,eAAe,SAAA,CAAU,MAAA;AAAA,YACzB,YAAA;AAAA,YACA,gBAAA,EAAkB,UAAU,MAAA,CAAO,CAAC,KAAK,CAAA,KAAM,GAAA,GAAM,CAAA,CAAE,UAAA,EAAY,CAAC;AAAA;AACtE,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,+BAA+B,CAAA;AAAA,MAChE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,qBAAA;AAAA,IACA,iDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,OAAA,EAASF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB;AAAA,KAC/C;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,EAAQ,KAAM;AAC9B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,QAAQ,MAAM,YAAA,CAAa,mBAAA,CAAoB,EAAE,SAA6B,CAAA;AACpF,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,SAA6B,CAAA;AAE7E,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,gBAAA,EAAkB,KAAA;AAAA,UAClB,cAAA,EAAgBE,WAAAA,CAAY,OAAA,EAAS,EAAE,CAAA;AAAA,UACvC,aAAA,EAAe,QAAQ,GAAA,GAAO,WAAA,GAChB,QAAQ,GAAA,GAAM,MAAA,GACd,KAAA,GAAQ,EAAA,GAAK,UAAA,GAAa;AAAA,SACzC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gCAAA;AAAA,IACA,4CAAA;AAAA,IACA;AAAA,MACE,QAAA,EAAUF,CAAAA,CAAE,KAAA,CAAMA,CAAAA,CAAE,MAAA,CAAO;AAAA,QACzB,KAAA,EAAOA,EAAE,MAAA,EAAO;AAAA,QAChB,QAAA,EAAUA,EAAE,MAAA;AAAO,OACpB,CAAC,CAAA,CAAE,QAAA,CAAS,mCAAmC;AAAA,KAClD;AAAA,IACA,OAAO,EAAE,QAAA,EAAS,KAAM;AACtB,MAAA,IAAI;AACF,QAAA,MAAM,UAAA,GAAa,SAAS,MAAA,CAAO,CAAC,KAAK,CAAA,KAAM,GAAA,GAAM,CAAA,CAAE,QAAA,EAAU,CAAC,CAAA;AAElE,QAAA,MAAM,UAAA,GAAa,QAAA,CAAS,GAAA,CAAI,CAAA,CAAA,MAAM;AAAA,UACpC,OAAO,CAAA,CAAE,KAAA;AAAA,UACT,UAAU,CAAA,CAAE,QAAA;AAAA,UACZ,UAAA,EAAY,UAAA,GAAa,CAAA,GAAA,CAAM,CAAA,CAAE,QAAA,GAAW,aAAc,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAAI,GAAA,GAAM;AAAA,SACpF,CAAE,EAAE,IAAA,CAAK,CAAC,GAAG,CAAA,KAAM,CAAA,CAAE,QAAA,GAAW,CAAA,CAAE,QAAQ,CAAA;AAE1C,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,aAAA,EAAe,UAAA,CAAW,OAAA,CAAQ,CAAC,CAAA;AAAA,UACnC,UAAA;AAAA,UACA,eAAA,EAAiB;AAAA,YACf,UAAA,EAAY,UAAA,CAAW,CAAC,CAAA,EAAG,UAAA,IAAc,IAAA;AAAA,YACzC,gBAAgB,QAAA,CAAS,MAAA;AAAA,YACzB,iBAAA,EAAmB,QAAA,CAAS,MAAA,GAAS,CAAA,IAClC,QAAA,CAAS,CAAC,CAAA,CAAE,QAAA,GAAW,UAAA,GAAc,GAAA,GAAM,MAAA,GAAS;AAAA;AACzD,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,kCAAkC,CAAA;AAAA,MACnE;AAAA,IACF;AAAA,GACF;AACF;;;ACrUO,SAAS,yBAAyB,MAAA,EAAmB;AAC1D,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,yBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,EAAE,WAAA,EAAa,2BAAA,EAA6B,UAAU,IAAA;AAAK,KACtE;AAAA,IACA,CAAC,EAAE,OAAA,EAAQ,MAAO;AAAA,MAChB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,kDAAkD,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,YAAA,EAU7D,OAAO;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,yBAAA;AAAA;AAiBX;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,qBAAA;AAAA,IACA,iDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,EAAE,WAAA,EAAa,gBAAA,EAAkB,UAAU,IAAA,EAAK;AAAA,MACzD,gBAAA,EAAkB,EAAE,WAAA,EAAa,8DAAA,EAAgE,UAAU,IAAA;AAAK,KAClH;AAAA,IACA,CAAC,EAAE,OAAA,EAAS,gBAAA,EAAiB,MAAO;AAAA,MAClC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,gCAAA,EAAmC,OAAO,CAAA,aAAA,EAAgB,gBAAgB;;AAAA;AAAA;AAAA;AAAA;AAAA,+CAAA;AAAA;AAOlF;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACrEO,SAAS,kBAAkB,MAAA,EAAmB;AACnD,EAAA,sBAAA,CAAuB,MAAM,CAAA;AAC7B,EAAA,wBAAA,CAAyB,MAAM,CAAA;AACjC;ACEA,IAAM,wBAAA,GAA2B;AAAA,EAC/B;AAAA,IACE,IAAA,EAAM,iBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,QAAA,EAAS;AAAA,MAClC,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,QAAA,EAAS;AAAA,MACjC,EAAE,IAAA,EAAM,WAAA,EAAa,IAAA,EAAM,SAAA,EAAU;AAAA,MACrC,EAAE,IAAA,EAAM,WAAA,EAAa,IAAA,EAAM,SAAA,EAAU;AAAA,MACrC,EAAE,IAAA,EAAM,iBAAA,EAAmB,IAAA,EAAM,QAAA;AAAS;AAC5C,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,SAAS;AAAA,GACvC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,aAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,UAAU;AAAA;AAE1C,CAAA;AAGA,IAAM,eAAA,GAA2D;AAAA,EAC/D,CAAA,EAAG;AAAA;AAAA,IACD,SAAA,EAAW,4CAAA;AAAA,IACX,SAAA,EAAW,4CAAA;AAAA,IACX,UAAA,EAAY,4CAAA;AAAA,IACZ,UAAA,EAAY,4CAAA;AAAA,IACZ,SAAA,EAAW,4CAAA;AAAA,IACX,UAAA,EAAY;AAAA,GACd;AAAA,EACA,EAAA,EAAI;AAAA;AAAA,IACF,SAAA,EAAW,4CAAA;AAAA,IACX,SAAA,EAAW,4CAAA;AAAA,IACX,SAAA,EAAW,4CAAA;AAAA,IACX,UAAA,EAAY;AAAA,GACd;AAAA,EACA,GAAA,EAAK;AAAA;AAAA,IACH,WAAA,EAAa,4CAAA;AAAA,IACb,SAAA,EAAW,4CAAA;AAAA,IACX,SAAA,EAAW;AAAA,GACb;AAAA,EACA,KAAA,EAAO;AAAA;AAAA,IACL,SAAA,EAAW,4CAAA;AAAA,IACX,SAAA,EAAW,4CAAA;AAAA,IACX,UAAA,EAAY,4CAAA;AAAA,IACZ,SAAA,EAAW;AAAA;AAEf,CAAA;AAGA,IAAM,gBAAA,GAAmB;AAAA,EACvB;AAAA,IACE,IAAA,EAAM,SAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,aAAA,EAAe,IAAA,EAAM,YAAY,CAAA;AAAA,IAClD,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,iBAAA,EAAmB,IAAA,EAAM,SAAA,EAAU;AAAA,MAC3C,EAAE,IAAA,EAAM,oCAAA,EAAsC,IAAA,EAAM,WAAA;AAAY;AAClE,GACF;AAAA,EACA;AAAA,IACE,IAAA,EAAM,OAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,OAAA,EAAS;AAAA,MACP,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA,EAAU;AAAA,MACxC,EAAE,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,OAAA,EAAQ;AAAA,MAC9B,EAAE,IAAA,EAAM,kBAAA,EAAoB,IAAA,EAAM,QAAA,EAAS;AAAA,MAC3C,EAAE,IAAA,EAAM,wBAAA,EAA0B,IAAA,EAAM,QAAA,EAAS;AAAA,MACjD,EAAE,IAAA,EAAM,4BAAA,EAA8B,IAAA,EAAM,QAAA,EAAS;AAAA,MACrD,EAAE,IAAA,EAAM,aAAA,EAAe,IAAA,EAAM,OAAA,EAAQ;AAAA,MACrC,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,MAAA;AAAO;AACnC;AAEJ,CAAA;AAEO,SAAS,wBAAwB,MAAA,EAAmB;AAEzD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,qBAAA;AAAA,IACA,uCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yCAAyC;AAAA,KACrE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAK,KAAM;AAC3B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,WAAA,GAAc,eAAA,CAAgB,OAAO,CAAA,GAAI,IAAI,CAAA;AACnD,QAAA,IAAI,CAAC,WAAA,EAAa;AAChB,UAAA,OAAO,UAAA,CAAW,KAAA;AAAA,YAChB,IAAI,KAAA,CAAM,CAAA,eAAA,EAAkB,IAAI,CAAA,8BAAA,CAAgC,CAAA;AAAA,YAChE;AAAA,WACF;AAAA,QACF;AAEA,QAAA,MAAM,CAAC,SAAA,EAAW,QAAA,EAAU,WAAW,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UAC3D,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,WAAA;AAAA,YACT,GAAA,EAAK,wBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,WAAA;AAAA,YACT,GAAA,EAAK,wBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,WAAA;AAAA,YACT,GAAA,EAAK,wBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf;AAAA,SACF,CAAA;AAED,QAAA,MAAM,CAAC,OAAA,EAAS,MAAA,EAAQ,SAAA,EAAW,SAAA,EAAW,eAAe,CAAA,GAAI,SAAA;AACjE,QAAA,MAAM,KAAA,GAAQ,OAAO,MAAM,CAAA,GAAI,KAAK,GAAA,CAAI,EAAA,EAAI,MAAA,CAAO,QAAQ,CAAC,CAAA;AAC5D,QAAA,MAAM,aAAa,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,IAAI,GAAI,CAAA;AAEpD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,IAAA;AAAA,UACA,WAAA;AAAA,UACA,WAAA;AAAA,UACA,KAAA,EAAO,KAAA,CAAM,OAAA,CAAQ,MAAA,CAAO,QAAQ,CAAC,CAAA;AAAA,UACrC,QAAA,EAAU,OAAO,QAAA,EAAS;AAAA,UAC1B,QAAA,EAAU,OAAO,QAAQ,CAAA;AAAA,UACzB,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,UAC1B,SAAA,EAAW,WAAW,WAAA,EAAY;AAAA,UAClC,UAAA,EAAY,KAAK,KAAA,CAAM,IAAA,CAAK,KAAI,GAAI,GAAI,CAAA,GAAI,MAAA,CAAO,SAAS;AAAA,SAC7D,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,2BAAA;AAAA,IACA,mDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,KAAA,GAAQ,eAAA,CAAgB,OAAO,CAAA,IAAK,EAAC;AAE3C,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,KAAA,EAAO,MAAA,CAAO,OAAA,CAAQ,KAAK,CAAA,CAAE,IAAI,CAAC,CAAC,IAAA,EAAM,OAAO,CAAA,MAAO;AAAA,YACrD,IAAA;AAAA,YACA,WAAA,EAAa;AAAA,WACf,CAAE,CAAA;AAAA,UACF,MAAM,MAAA,CAAO,IAAA,CAAK,KAAK,CAAA,CAAE,MAAA,KAAW,IAChC,4CAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,+BAA+B,CAAA;AAAA,MAChE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,sDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uCAAuC;AAAA,KAC1E;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,WAAA,EAAY,KAAM;AAClC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,CAAC,SAAA,EAAW,QAAA,EAAU,WAAW,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,UAC3D,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,WAAA;AAAA,YACT,GAAA,EAAK,wBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,WAAA;AAAA,YACT,GAAA,EAAK,wBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,UACD,aAAa,YAAA,CAAa;AAAA,YACxB,OAAA,EAAS,WAAA;AAAA,YACT,GAAA,EAAK,wBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf;AAAA,SACF,CAAA;AAED,QAAA,MAAM,CAAC,OAAA,EAAS,MAAA,IAAU,SAAS,CAAA,GAAI,SAAA;AACvC,QAAA,MAAM,KAAA,GAAQ,OAAO,MAAM,CAAA,GAAI,KAAK,GAAA,CAAI,EAAA,EAAI,MAAA,CAAO,QAAQ,CAAC,CAAA;AAE5D,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,WAAA;AAAA,UACA,WAAA;AAAA,UACA,KAAA,EAAO,KAAA,CAAM,OAAA,CAAQ,MAAA,CAAO,QAAQ,CAAC,CAAA;AAAA,UACrC,QAAA,EAAU,OAAO,QAAA,EAAS;AAAA,UAC1B,QAAA,EAAU,OAAO,QAAQ,CAAA;AAAA,UACzB,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,UAC1B,SAAA,EAAW,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,CAAA,GAAI,GAAI,EAAE,WAAA;AAAY,SAC3D,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,qBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,KAAA,EAAOA,EAAE,KAAA,CAAMA,CAAAA,CAAE,QAAQ,CAAA,CAAE,SAAS,qDAAqD;AAAA,KAC3F;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,KAAA,EAAM,KAAM;AAC5B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,SAID,EAAC;AAEN,QAAA,KAAA,MAAW,QAAQ,KAAA,EAAO;AACxB,UAAA,MAAM,WAAA,GAAc,eAAA,CAAgB,OAAO,CAAA,GAAI,IAAI,CAAA;AACnD,UAAA,IAAI,CAAC,WAAA,EAAa;AAChB,YAAA,MAAA,CAAO,KAAK,EAAE,IAAA,EAAM,OAAO,IAAA,EAAM,KAAA,EAAO,sBAAsB,CAAA;AAC9D,YAAA;AAAA,UACF;AAEA,UAAA,IAAI;AACF,YAAA,MAAM,CAAC,SAAA,EAAW,QAAQ,CAAA,GAAI,MAAM,QAAQ,GAAA,CAAI;AAAA,cAC9C,aAAa,YAAA,CAAa;AAAA,gBACxB,OAAA,EAAS,WAAA;AAAA,gBACT,GAAA,EAAK,wBAAA;AAAA,gBACL,YAAA,EAAc;AAAA,eACf,CAAA;AAAA,cACD,aAAa,YAAA,CAAa;AAAA,gBACxB,OAAA,EAAS,WAAA;AAAA,gBACT,GAAA,EAAK,wBAAA;AAAA,gBACL,YAAA,EAAc;AAAA,eACf;AAAA,aACF,CAAA;AAED,YAAA,MAAM,GAAG,MAAM,CAAA,GAAI,SAAA;AACnB,YAAA,MAAM,KAAA,GAAQ,OAAO,MAAM,CAAA,GAAI,KAAK,GAAA,CAAI,EAAA,EAAI,MAAA,CAAO,QAAQ,CAAC,CAAA;AAC5D,YAAA,MAAA,CAAO,IAAA,CAAK,EAAE,IAAA,EAAM,KAAA,EAAO,KAAA,CAAM,OAAA,CAAQ,MAAA,CAAO,QAAQ,CAAC,CAAA,EAAG,KAAA,EAAO,IAAA,EAAM,CAAA;AAAA,UAC3E,SAAS,CAAA,EAAG;AACV,YAAA,MAAA,CAAO,KAAK,EAAE,IAAA,EAAM,OAAO,IAAA,EAAM,KAAA,EAAO,mBAAmB,CAAA;AAAA,UAC7D;AAAA,QACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA;AAAA,UACA,SAAA,EAAA,iBAAW,IAAI,IAAA,EAAK,EAAE,WAAA;AAAY,SACnC,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,0CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MAC1D,gBAAgBA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,kCAAkC,CAAA;AAAA,MACjF,gBAAgBA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,kCAAkC;AAAA,KACnF;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,WAAA,EAAa,iBAAiB,EAAA,EAAI,cAAA,GAAiB,IAAG,KAAM;AAC5E,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAC5C,OAAA,EAAS,WAAA;AAAA,UACT,GAAA,EAAK,gBAAA;AAAA,UACL,YAAA,EAAc;AAAA,SACf,CAAA;AAED,QAAA,MAAM,YAAA,GAAe,MAAM,CAAC,CAAA;AAC5B,QAAA,MAAM,IAAA,GAAO,MAAM,CAAC,CAAA;AAIpB,QAAA,MAAM,MAAM,EAAA,IAAM,GAAA;AAClB,QAAA,MAAM,SAAA,GAAY,MAAA,CAAO,YAAY,CAAA,GAAI,OAAO,GAAG,CAAA;AACnD,QAAA,MAAM,QAAQ,SAAA,GAAY,SAAA;AAG1B,QAAA,MAAM,gBAAgB,KAAA,GAAQ,IAAA,CAAK,GAAA,CAAI,EAAA,EAAI,iBAAiB,cAAc,CAAA;AAE1E,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,WAAA;AAAA,UACA,YAAA,EAAc,aAAa,QAAA,EAAS;AAAA,UACpC,IAAA;AAAA,UACA,mBAAA,EAAqB,cAAc,QAAA,EAAS;AAAA,UAC5C,mBAAA,EAAA,CAAsB,CAAA,GAAI,aAAA,EAAe,QAAA;AAAS,SACnD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,4BAA4B,CAAA;AAAA,MAC7D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,6CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MAC/C,QAAQA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,mDAAmD;AAAA,KAC5F;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,MAAA,GAAS,MAAK,KAAM;AAC1C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,WAAA,GAAc,eAAA,CAAgB,OAAO,CAAA,GAAI,IAAI,CAAA;AACnD,QAAA,IAAI,CAAC,WAAA,EAAa;AAChB,UAAA,OAAO,UAAA,CAAW,MAAM,IAAI,KAAA,CAAM,sBAAsB,IAAI,CAAA,CAAE,GAAG,4BAA4B,CAAA;AAAA,QAC/F;AAEA,QAAA,MAAM,SAAA,GAAY,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAChD,OAAA,EAAS,WAAA;AAAA,UACT,GAAA,EAAK,wBAAA;AAAA,UACL,YAAA,EAAc;AAAA,SACf,CAAA;AAED,QAAA,MAAM,CAAC,OAAA,EAAS,MAAA,IAAU,SAAA,EAAW,eAAe,CAAA,GAAI,SAAA;AACxD,QAAA,MAAM,cAAc,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,GAAA,KAAQ,GAAI,CAAA;AAChD,QAAA,MAAM,GAAA,GAAM,WAAA,GAAc,MAAA,CAAO,SAAS,CAAA;AAE1C,QAAA,MAAM,SAAmB,EAAC;AAE1B,QAAA,IAAI,MAAM,MAAA,EAAQ;AAChB,UAAA,MAAA,CAAO,IAAA,CAAK,CAAA,gBAAA,EAAmB,GAAG,CAAA,WAAA,EAAc,MAAM,CAAA,EAAA,CAAI,CAAA;AAAA,QAC5D;AAEA,QAAA,IAAI,UAAU,EAAA,EAAI;AAChB,UAAA,MAAA,CAAO,KAAK,2BAA2B,CAAA;AAAA,QACzC;AAEA,QAAA,IAAI,kBAAkB,OAAA,EAAS;AAC7B,UAAA,MAAA,CAAO,KAAK,wCAAwC,CAAA;AAAA,QACtD;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,IAAA;AAAA,UACA,WAAA;AAAA,UACA,OAAA,EAAS,OAAO,MAAA,KAAW,CAAA;AAAA,UAC3B,MAAA;AAAA,UACA,OAAA,EAAS;AAAA,YACP,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,YAC1B,eAAA,EAAiB,gBAAgB,QAAA,EAAS;AAAA,YAC1C,SAAA,EAAW,IAAI,IAAA,CAAK,MAAA,CAAO,SAAS,CAAA,GAAI,GAAI,EAAE,WAAA,EAAY;AAAA,YAC1D,UAAA,EAAY,GAAA;AAAA,YACZ,KAAA,EAAO,OAAO,QAAA;AAAS;AACzB,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,4BAA4B,CAAA;AAAA,MAC7D;AAAA,IACF;AAAA,GACF;AACF;;;ACpZO,SAAS,0BAA0B,MAAA,EAAmB;AAC3D,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,gBAAA;AAAA,IACA,6CAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQ,EAAE,WAAA,EAAa,uDAAA,EAAyD,UAAU,IAAA,EAAK;AAAA,MAC/F,OAAA,EAAS,EAAE,WAAA,EAAa,4BAAA,EAA8B,UAAU,IAAA;AAAK,KACvE;AAAA,IACA,CAAC,EAAE,MAAA,EAAQ,OAAA,EAAQ,MAAO;AAAA,MACxB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,2BAAA,EAA8B,MAAM,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,gBAAA;AAAA;AAuB1D;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,qBAAA;AAAA,IACA,mDAAA;AAAA,IACA;AAAA,MACE,QAAA,EAAU,EAAE,WAAA,EAAa,sCAAA,EAAwC,UAAU,IAAA,EAAK;AAAA,MAChF,MAAA,EAAQ,EAAE,WAAA,EAAa,mBAAA,EAAqB,UAAU,IAAA;AAAK,KAC7D;AAAA,IACA,CAAC,EAAE,QAAA,EAAU,MAAA,EAAO,MAAO;AAAA,MACzB,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,sCAAA,EAAyC,QAAQ,CAAA,OAAA,EAAU,MAAM,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAA;AAAA;AAQzE;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACnEO,SAAS,mBAAmB,MAAA,EAAmB;AACpD,EAAA,uBAAA,CAAwB,MAAM,CAAA;AAC9B,EAAA,yBAAA,CAA0B,MAAM,CAAA;AAClC;ACGA,IAAM,oBAAA,uBAA2B,GAAA,CAAI;AAAA;AAErC,CAAC,CAAA;AAaD,IAAM,eAAA,GAA2D;AAAA,EAC/D,CAAA,EAAG;AAAA;AAAA,IACD,YAAA,EAAc,4CAAA;AAAA,IACd,YAAA,EAAc,4CAAA;AAAA,IACd,OAAA,EAAS;AAAA,GACX;AAAA,EACA,EAAA,EAAI;AAAA;AAAA,IACF,gBAAA,EAAkB,4CAAA;AAAA,IAClB,gBAAA,EAAkB;AAAA,GACpB;AAAA,EACA,KAAA,EAAO;AAAA;AAAA,IACL,YAAA,EAAc,4CAAA;AAAA,IACd,SAAA,EAAW;AAAA;AAEf,CAAA;AAGA,IAAM,qBAAqB,QAAA,CAAS;AAAA,EAClC,yCAAA;AAAA,EACA,uCAAA;AAAA,EACA,2CAAA;AAAA,EACA,iDAAA;AAAA,EACA,qDAAA;AAAA,EACA;AACF,CAAC,CAAA;AAEM,SAAS,sBAAsB,MAAA,EAAmB;AAEvD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,2DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mCAAmC;AAAA,KACvE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,YAAA,EAAa,KAAM;AACnC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,QAAwE,EAAC;AAC/E,QAAA,MAAM,UAAmC,EAAC;AAG1C,QAAA,MAAM,OAAO,MAAM,YAAA,CAAa,QAAQ,EAAE,OAAA,EAAS,cAAyB,CAAA;AAE5E,QAAA,IAAI,CAAC,IAAA,IAAQ,IAAA,KAAS,IAAA,EAAM;AAC1B,UAAA,OAAO,WAAW,KAAA,CAAM,IAAI,KAAA,CAAM,6BAA6B,GAAG,iBAAiB,CAAA;AAAA,QACrF;AAEA,QAAA,OAAA,CAAQ,OAAA,GAAU,IAAA;AAClB,QAAA,OAAA,CAAQ,WAAW,IAAA,CAAK,MAAA;AAGxB,QAAA,IAAI;AACF,UAAA,MAAM,KAAA,GAAQ,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,YAC5C,OAAA,EAAS,YAAA;AAAA,YACT,GAAA,EAAK,kBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AACD,UAAA,OAAA,CAAQ,KAAA,GAAQ,KAAA;AAEhB,UAAA,IAAI,UAAU,4CAAA,EAA8C;AAC1D,YAAA,KAAA,CAAM,IAAA,CAAK;AAAA,cACT,IAAA,EAAM,gBAAA;AAAA,cACN,QAAA,EAAU,QAAA;AAAA,cACV,WAAA,EAAa,0BAA0B,KAAK,CAAA;AAAA,aAC7C,CAAA;AAAA,UACH;AAAA,QACF,CAAA,CAAA,MAAQ;AACN,UAAA,OAAA,CAAQ,KAAA,GAAQ,gCAAA;AAAA,QAClB;AAGA,QAAA,IAAI;AACF,UAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,YAC7C,OAAA,EAAS,YAAA;AAAA,YACT,GAAA,EAAK,kBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AACD,UAAA,IAAI,MAAA,EAAQ;AACV,YAAA,KAAA,CAAM,IAAA,CAAK;AAAA,cACT,IAAA,EAAM,UAAA;AAAA,cACN,QAAA,EAAU,MAAA;AAAA,cACV,WAAA,EAAa;AAAA,aACd,CAAA;AAAA,UACH;AACA,UAAA,OAAA,CAAQ,QAAA,GAAW,IAAA;AAAA,QACrB,CAAA,CAAA,MAAQ;AACN,UAAA,OAAA,CAAQ,QAAA,GAAW,KAAA;AAAA,QACrB;AAGA,QAAA,IAAI;AACF,UAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,YAC7C,OAAA,EAAS,YAAA;AAAA,YACT,GAAA,EAAK,kBAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AACD,UAAA,OAAA,CAAQ,MAAA,GAAS,OAAO,MAAM,CAAA;AAC9B,UAAA,IAAI,MAAA,CAAO,MAAM,CAAA,GAAI,EAAA,EAAI;AACvB,YAAA,KAAA,CAAM,IAAA,CAAK;AAAA,cACT,IAAA,EAAM,UAAA;AAAA,cACN,QAAA,EAAU,MAAA;AAAA,cACV,WAAA,EAAa,0BAA0B,MAAM,CAAA,CAAA;AAAA,aAC9C,CAAA;AAAA,UACH;AAAA,QACF,CAAA,CAAA,MAAQ;AAAA,QAER;AAGA,QAAA,MAAM,SAAA,GAAY,KAAA,CAAM,MAAA,CAAO,CAAC,OAAO,IAAA,KAAS;AAC9C,UAAA,IAAI,IAAA,CAAK,QAAA,KAAa,MAAA,EAAQ,OAAO,KAAA,GAAQ,EAAA;AAC7C,UAAA,IAAI,IAAA,CAAK,QAAA,KAAa,QAAA,EAAU,OAAO,KAAA,GAAQ,EAAA;AAC/C,UAAA,OAAO,KAAA,GAAQ,CAAA;AAAA,QACjB,GAAG,CAAC,CAAA;AAEJ,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,YAAA;AAAA,UACA,SAAA,EAAW,IAAA,CAAK,GAAA,CAAI,SAAA,EAAW,GAAG,CAAA;AAAA,UAClC,WAAW,SAAA,IAAa,EAAA,GAAK,MAAA,GAAS,SAAA,IAAa,KAAK,QAAA,GAAW,KAAA;AAAA,UACnE,KAAA;AAAA,UACA,OAAA;AAAA,UACA,gBAAgB,SAAA,IAAa,EAAA,GACzB,+CAAA,GACA,SAAA,IAAa,KACb,oCAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,2EAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,aAAA,EAAeA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MAC5D,cAAA,EAAgBA,CAAAA,CAAE,KAAA,CAAMA,CAAAA,CAAE,MAAA,EAAQ,CAAA,CAAE,QAAA,EAAS,CAAE,QAAA,CAAS,0BAA0B;AAAA,KACpF;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,aAAA,EAAe,gBAAe,KAAM;AACpD,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,QAAA,GAAW,eAAA,CAAgB,OAAO,CAAA,IAAK,EAAC;AAC9C,QAAA,MAAM,iBAMD,EAAC;AAGN,QAAA,IAAI,CAAC,cAAA,IAAkB,cAAA,CAAe,MAAA,KAAW,CAAA,EAAG;AAClD,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,aAAA;AAAA,YACA,OAAA,EAAS,qDAAA;AAAA,YACT,cAAA,EAAgB,MAAA,CAAO,OAAA,CAAQ,QAAQ,EAAE,GAAA,CAAI,CAAC,CAAC,IAAA,EAAM,IAAI,CAAA,MAAO,EAAE,IAAA,EAAM,OAAA,EAAS,MAAK,CAAE;AAAA,WACzF,CAAA;AAAA,QACH;AAEA,QAAA,KAAA,MAAW,SAAS,cAAA,EAAgB;AAClC,UAAA,KAAA,MAAW,CAAC,WAAA,EAAa,WAAW,KAAK,MAAA,CAAO,OAAA,CAAQ,QAAQ,CAAA,EAAG;AACjE,YAAA,IAAI;AACF,cAAA,MAAM,SAAA,GAAY,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,gBAChD,OAAA,EAAS,KAAA;AAAA,gBACT,GAAA,EAAK,kBAAA;AAAA,gBACL,YAAA,EAAc,WAAA;AAAA,gBACd,IAAA,EAAM,CAAC,aAAA,EAA0B,WAAW;AAAA,eAC7C,CAAA;AAED,cAAA,IAAI,YAAY,EAAA,EAAI;AAClB,gBAAA,MAAM,WAAA,GAAc,SAAA,IAAa,MAAA,CAAO,oEAAoE,CAAA,GAAI,EAAA;AAEhH,gBAAA,cAAA,CAAe,IAAA,CAAK;AAAA,kBAClB,KAAA;AAAA,kBACA,OAAA,EAAS,WAAA;AAAA,kBACT,WAAA;AAAA,kBACA,SAAA,EAAW,UAAU,QAAA,EAAS;AAAA,kBAC9B,IAAA,EAAM,cAAc,WAAA,GAAc;AAAA,iBACnC,CAAA;AAAA,cACH;AAAA,YACF,CAAA,CAAA,MAAQ;AAAA,YAER;AAAA,UACF;AAAA,QACF;AAEA,QAAA,MAAM,iBAAiB,cAAA,CAAe,MAAA,CAAO,OAAK,CAAA,CAAE,IAAA,KAAS,WAAW,CAAA,CAAE,MAAA;AAE1E,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,aAAA;AAAA,UACA,gBAAgB,cAAA,CAAe,MAAA;AAAA,UAC/B,kBAAA,EAAoB,cAAA;AAAA,UACpB,WAAW,cAAA,GAAiB,CAAA,GAAI,MAAA,GAAS,cAAA,GAAiB,IAAI,QAAA,GAAW,KAAA;AAAA,UACzE,SAAA,EAAW,cAAA;AAAA,UACX,cAAA,EAAgB,cAAA,GAAiB,CAAA,GAC7B,oEAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,iBAAA;AAAA,IACA,mEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,4BAA4B;AAAA,KACnE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAgB,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,OAAO,MAAM,YAAA,CAAa,QAAQ,EAAE,OAAA,EAAS,iBAA4B,CAAA;AAE/E,QAAA,IAAI,CAAC,IAAA,IAAQ,IAAA,KAAS,IAAA,EAAM;AAC1B,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,eAAA;AAAA,YACA,OAAA,EAAS,KAAA;AAAA,YACT,UAAA,EAAY,KAAA;AAAA,YACZ,IAAA,EAAM;AAAA,WACP,CAAA;AAAA,QACH;AAGA,QAAA,MAAM,OAAA,GAAU,IAAA,CAAK,QAAA,CAAS,oBAAoB,CAAA;AAAA,QACnC,IAAA,CAAK,SAAS,sBAAsB,CAAA;AAEnD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,OAAA,EAAS,IAAA;AAAA,UACT,UAAA,EAAY,IAAA;AAAA,UACZ,UAAU,IAAA,CAAK,MAAA;AAAA,UACf,OAAA;AAAA,UACA,IAAA,EAAM,UACF,iEAAA,GACA,kEAAA;AAAA,UACJ,WAAA,EAAa,gCAAgC,eAAe,CAAA,KAAA;AAAA,SAC7D,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,uEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gBAAgB,CAAA;AAAA,MAC1C,EAAA,EAAIA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MACjD,OAAOA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,cAAc,CAAA;AAAA,MACpD,MAAMA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,wBAAwB;AAAA,KAC/D;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,MAAM,EAAA,EAAI,KAAA,EAAO,MAAK,KAAM;AAC5C,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,MAAA,GAAS,MAAM,YAAA,CAAa,IAAA,CAAK;AAAA,UACrC,OAAA,EAAS,IAAA;AAAA,UACT,EAAA;AAAA,UACA,KAAA,EAAO,KAAA,GAAQ,MAAA,CAAO,KAAK,CAAA,GAAI,EAAA;AAAA,UAC/B;AAAA,SACD,CAAA;AAGD,QAAA,IAAI,WAAA,GAA6B,IAAA;AACjC,QAAA,IAAI;AACF,UAAA,WAAA,GAAc,MAAM,aAAa,WAAA,CAAY;AAAA,YAC3C,OAAA,EAAS,IAAA;AAAA,YACT,EAAA;AAAA,YACA,KAAA,EAAO,KAAA,GAAQ,MAAA,CAAO,KAAK,CAAA,GAAI,EAAA;AAAA,YAC/B;AAAA,WACD,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAER;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,UAAA,EAAY,SAAA;AAAA,UACZ,MAAA,EAAQ,OAAO,IAAA,IAAQ,IAAA;AAAA,UACvB,WAAA,EAAa,WAAA,EAAa,QAAA,EAAS,IAAK,mBAAA;AAAA,UACxC,UAAU,EAAC;AAAA,UACX,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAY;AAEnB,QAAA,IAAI,YAAA,GAAe,eAAA;AACnB,QAAA,IAAI,MAAM,OAAA,EAAS;AACjB,UAAA,YAAA,GAAe,KAAA,CAAM,OAAA;AAAA,QACvB;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,UAAA,EAAY,QAAA;AAAA,UACZ,KAAA,EAAO,YAAA;AAAA,UACP,QAAA,EAAU,CAAC,0BAA0B,CAAA;AAAA,UACrC,IAAA,EAAM,KAAA;AAAA,UACN,cAAA,EAAgB;AAAA,SACjB,CAAA;AAAA,MACH;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,oBAAA;AAAA,IACA,6DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB;AAAA,KACjD;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,EAAQ,KAAM;AAC9B,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAE5C,QAAA,MAAM,OAAO,MAAM,YAAA,CAAa,OAAA,CAAQ,EAAE,SAA6B,CAAA;AACvE,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,UAAA,CAAW,EAAE,SAA6B,CAAA;AAC7E,QAAA,MAAM,QAAQ,MAAM,YAAA,CAAa,mBAAA,CAAoB,EAAE,SAA6B,CAAA;AAEpF,QAAA,MAAMM,WAAAA,GAAa,IAAA,IAAQ,IAAA,KAAS,IAAA,IAAQ,KAAK,MAAA,GAAS,CAAA;AAE1D,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,IAAA,EAAMA,cAAa,UAAA,GAAa,KAAA;AAAA,UAChC,OAAA,EAAS,QAAQ,QAAA,EAAS;AAAA,UAC1B,KAAA;AAAA,UACA,QAAA,EAAUA,WAAAA,GAAa,IAAA,CAAK,MAAA,GAAS,CAAA;AAAA,UACrC,WAAA,EAAa,oBAAA,CAAqB,GAAA,CAAI,OAAA,CAAQ,aAAa;AAAA,SAC5D,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,0DAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAMN,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8BAA8B,CAAA;AAAA,MACxD,KAAKA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,yCAAyC;AAAA,KAC/E;AAAA,IACA,OAAO,EAAE,IAAA,EAAM,GAAA,EAAI,KAAM;AACvB,MAAA,IAAI;AAEF,QAAA,MAAM,QAAA,GAAW,IAAA,CAAK,KAAA,CAAM,CAAA,EAAG,EAAE,CAAA;AAGjC,QAAA,MAAM,eAAA,GAA0C;AAAA,UAC9C,YAAA,EAAc,2BAAA;AAAA,UACd,YAAA,EAAc,0BAAA;AAAA,UACd,YAAA,EAAc,uCAAA;AAAA,UACd,YAAA,EAAc,qEAAA;AAAA,UACd,YAAA,EAAc,0DAAA;AAAA,UACd,YAAA,EAAc,kEAAA;AAAA,UACd,YAAA,EAAc,mBAAA;AAAA,UACd,YAAA,EAAc,sBAAA;AAAA,UACd,YAAA,EAAc,mBAAA;AAAA,UACd,YAAA,EAAc;AAAA,SAChB;AAEA,QAAA,MAAM,aAAA,GAAgB,gBAAgB,QAAQ,CAAA;AAE9C,QAAA,IAAI,GAAA,EAAK;AACP,UAAA,IAAI;AACF,YAAA,MAAM,SAAA,GAAY,IAAA,CAAK,KAAA,CAAM,GAAG,CAAA;AAChC,YAAA,MAAM,UAAU,kBAAA,CAAmB;AAAA,cACjC,GAAA,EAAK,SAAA;AAAA,cACL;AAAA,aACD,CAAA;AACD,YAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,cACxB,QAAA;AAAA,cACA,cAAc,OAAA,CAAQ,YAAA;AAAA,cACtB,MAAM,OAAA,CAAQ,IAAA;AAAA,cACd,OAAA,EAAS;AAAA,aACV,CAAA;AAAA,UACH,CAAA,CAAA,MAAQ;AAAA,UAER;AAAA,QACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,QAAA;AAAA,UACA,eAAe,aAAA,IAAiB,kBAAA;AAAA,UAChC,OAAA,EAAS,CAAC,CAAC,aAAA;AAAA,UACX,YAAY,IAAA,CAAK,MAAA;AAAA,UACjB,IAAA,EAAM,aAAA,GACF,CAAA,qBAAA,EAAwB,aAAa,CAAA,KAAA,CAAA,GACrC;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AACF;;;AC1bO,SAAS,wBAAwB,MAAA,EAAmB;AACzD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,gBAAA;AAAA,IACA,+DAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiB,EAAE,WAAA,EAAa,2BAAA,EAA6B,UAAU,IAAA,EAAK;AAAA,MAC5E,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,eAAA,EAAiB,OAAA,EAAQ,MAAO;AAAA,MACjC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,mDAAA,EAAsD,eAAe,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,cAAA,EAWrF,eAAe;AAAA,aAAA,EAChB,OAAO;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,sCAAA;AAAA;AA8BZ;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,wBAAA;AAAA,IACA,oEAAA;AAAA,IACA;AAAA,MACE,aAAA,EAAe,EAAE,WAAA,EAAa,0BAAA,EAA4B,UAAU,IAAA,EAAK;AAAA,MACzE,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,aAAA,EAAe,OAAA,EAAQ,MAAO;AAAA,MAC/B,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,oCAAA,EAAuC,aAAa,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,YAAA,EAUtE,aAAa;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA,uBAAA;AAAA;AAWjB;AACF;AACF,KACF;AAAA,GACF;AACF;;;ACnGO,SAAS,iBAAiB,MAAA,EAAmB;AAClD,EAAA,qBAAA,CAAsB,MAAM,CAAA;AAC5B,EAAA,uBAAA,CAAwB,MAAM,CAAA;AAChC;ACUA,IAAM,oBAAA,GAAuBA,EAAE,MAAA,CAAO;AAAA,EACpC,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EAC1B,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EAC7B,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EAC7B,iBAAA,EAAmBA,CAAAA,CAAE,MAAA,EAAO,CAAE,QAAA,EAAS;AAAA,EACvC,IAAA,EAAMA,CAAAA,CAAE,MAAA,EAAO,CAAE,QAAA;AACnB,CAAC,CAAA;AAEM,SAAS,wBAAwB,MAAA,EAAmB;AAEzD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,8CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iBAAiB,CAAA;AAAA,MAC9C,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,UAAA,EAAW,KAAM;AACjC,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AACrD,QAAA,MAAM,YAAY,MAAM,OAAA,CAAQ,WAAA,CAAY,EAAE,SAAS,CAAA;AACvD,QAAA,MAAM,WAAA,GAAc,YAAY,OAAO,CAAA;AAEvC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,QAAQ,OAAA,CAAQ,OAAA;AAAA,UAChB,SAAA;AAAA,UACA,WAAA;AAAA,UACA,QAAA,EAAU;AAAA,SACX,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,iBAAiB,CAAA;AAAA,MAClD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,0BAAA;AAAA,IACA,0CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASL,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAC/C,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MACpD,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB;AAAA,KACxD;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,SAAA,EAAW,SAAQ,KAAM;AACzC,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAU,MAAM,aAAA,CAAc;AAAA,UAClC,OAAA;AAAA,UACA,SAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,MAAM,gBAAA,GAAmB,MAAM,qBAAA,CAAsB;AAAA,UACnD,OAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,cAAA,EAAgB,OAAA;AAAA,UAChB,eAAA,EAAiB,gBAAA;AAAA,UACjB,OAAA;AAAA,UACA,KAAA,EAAO,gBAAA,CAAiB,WAAA,EAAY,KAAM,QAAQ,WAAA;AAAY,SAC/D,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,6BAA6B,CAAA;AAAA,MAC9D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,iBAAA;AAAA,IACA,+BAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQ,oBAAA,CAAqB,QAAA,CAAS,gBAAgB,CAAA;AAAA,MACtD,OAAOA,CAAAA,CAAE,MAAA,CAAOA,CAAAA,CAAE,KAAA,CAAMA,EAAE,MAAA,CAAO;AAAA,QAC/B,IAAA,EAAMA,EAAE,MAAA,EAAO;AAAA,QACf,IAAA,EAAMA,EAAE,MAAA;AAAO,OAChB,CAAC,CAAC,CAAA,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAChC,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mBAAmB,CAAA;AAAA,MACpD,OAAA,EAASA,EAAE,MAAA,CAAOA,CAAAA,CAAE,SAAS,CAAA,CAAE,SAAS,iBAAiB,CAAA;AAAA,MACzD,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,MAAA,EAAQ,OAAO,WAAA,EAAa,OAAA,EAAS,YAAW,KAAM;AAC7D,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AAErD,QAAA,MAAM,SAAA,GAAY,MAAM,OAAA,CAAQ,aAAA,CAAc;AAAA,UAC5C,MAAA;AAAA,UACA,KAAA;AAAA,UACA,WAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,MAAM,OAAO,aAAA,CAAc;AAAA,UACzB,MAAA;AAAA,UACA,KAAA;AAAA,UACA,WAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA;AAAA,UACA,WAAA;AAAA,UACA,OAAA;AAAA,UACA,QAAQ,OAAA,CAAQ,OAAA;AAAA,UAChB,SAAA;AAAA,UACA,aAAA,EAAe,IAAA;AAAA,UACf,QAAA,EAAU;AAAA,SACX,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,6BAAA;AAAA,IACA,wCAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQ,oBAAA,CAAqB,QAAA,CAAS,gBAAgB,CAAA;AAAA,MACtD,OAAOL,CAAAA,CAAE,MAAA,CAAOA,CAAAA,CAAE,KAAA,CAAMA,EAAE,MAAA,CAAO;AAAA,QAC/B,IAAA,EAAMA,EAAE,MAAA,EAAO;AAAA,QACf,IAAA,EAAMA,EAAE,MAAA;AAAO,OAChB,CAAC,CAAC,CAAA,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAChC,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mBAAmB,CAAA;AAAA,MACpD,OAAA,EAASA,EAAE,MAAA,CAAOA,CAAAA,CAAE,SAAS,CAAA,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAC1D,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MACpD,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB;AAAA,KACxD;AAAA,IACA,OAAO,EAAE,MAAA,EAAQ,KAAA,EAAO,aAAa,OAAA,EAAS,SAAA,EAAW,SAAQ,KAAM;AACrE,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAU,MAAM,eAAA,CAAgB;AAAA,UACpC,MAAA;AAAA,UACA,KAAA;AAAA,UACA,WAAA;AAAA,UACA,OAAA;AAAA,UACA,SAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,MAAM,gBAAA,GAAmB,MAAM,uBAAA,CAAwB;AAAA,UACrD,MAAA;AAAA,UACA,KAAA;AAAA,UACA,WAAA;AAAA,UACA,OAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,cAAA,EAAgB,OAAA;AAAA,UAChB,eAAA,EAAiB,gBAAA;AAAA,UACjB,OAAA;AAAA,UACA,KAAA,EAAO,gBAAA,CAAiB,WAAA,EAAY,KAAM,QAAQ,WAAA;AAAY,SAC/D,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,gCAAgC,CAAA;AAAA,MACjE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,qCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iBAAiB;AAAA,KAChD;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,IAAA,GAAO,YAAY,OAAO,CAAA;AAChC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,IAAA;AAAA,UACA,QAAA,EAAU;AAAA,SACX,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,iBAAiB,CAAA;AAAA,MAClD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,yBAAA;AAAA,IACA,iEAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MACvD,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iCAAiC,CAAA;AAAA,MAChE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,4BAA4B,CAAA;AAAA,MACzD,KAAA,EAAOA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,4BAA4B,CAAA;AAAA,MACvD,KAAA,EAAOA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MACxD,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kCAAkC,CAAA;AAAA,MAChE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,UAAU,CAAA;AAAA,MACvC,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,YAAA,EAAc,SAAA,EAAW,OAAA,EAAS,OAAO,KAAA,EAAO,QAAA,EAAU,OAAA,EAAS,UAAA,EAAW,KAAM;AAC3F,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AAErD,QAAA,MAAM,MAAA,GAAS;AAAA,UACb,IAAA,EAAM,SAAA;AAAA,UACN,OAAA,EAAS,GAAA;AAAA,UACT,OAAA;AAAA,UACA,iBAAA,EAAmB;AAAA,SACrB;AAEA,QAAA,MAAM,KAAA,GAAQ;AAAA,UACZ,MAAA,EAAQ;AAAA,YACN,EAAE,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAU;AAAA,YACjC,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAU;AAAA,YACnC,EAAE,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAU;AAAA,YACjC,EAAE,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAU;AAAA,YACjC,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA;AAAU;AACtC,SACF;AAEA,QAAA,MAAM,OAAA,GAAU;AAAA,UACd,OAAO,OAAA,CAAQ,OAAA;AAAA,UACf,OAAA;AAAA,UACA,KAAA,EAAO,OAAO,KAAK,CAAA;AAAA,UACnB,KAAA,EAAO,OAAO,KAAK,CAAA;AAAA,UACnB,QAAA,EAAU,OAAO,QAAQ;AAAA,SAC3B;AAEA,QAAA,MAAM,SAAA,GAAY,MAAM,OAAA,CAAQ,aAAA,CAAc;AAAA,UAC5C,MAAA;AAAA,UACA,KAAA;AAAA,UACA,WAAA,EAAa,QAAA;AAAA,UACb;AAAA,SACD,CAAA;AAGD,QAAA,MAAM,CAAA,GAAI,SAAA,CAAU,KAAA,CAAM,CAAA,EAAG,EAAE,CAAA;AAC/B,QAAA,MAAM,IAAI,CAAA,EAAA,EAAK,SAAA,CAAU,KAAA,CAAM,EAAA,EAAI,GAAG,CAAC,CAAA,CAAA;AACvC,QAAA,MAAM,IAAI,QAAA,CAAS,SAAA,CAAU,MAAM,GAAA,EAAK,GAAG,GAAG,EAAE,CAAA;AAEhD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAO,OAAA,CAAQ,OAAA;AAAA,UACf,OAAA;AAAA,UACA,KAAA;AAAA,UACA,KAAA;AAAA,UACA,QAAA;AAAA,UACA,SAAA;AAAA,UACA,UAAA,EAAY,EAAE,CAAA,EAAG,CAAA,EAAG,CAAA,EAAE;AAAA,UACtB,QAAA,EAAU;AAAA,SACX,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,6CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASL,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kBAAkB,CAAA;AAAA,MAC/C,SAAA,EAAWA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,WAAW;AAAA,KAC5C;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,SAAA,EAAU,KAAM;AAChC,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAU,MAAM,qBAAA,CAAsB;AAAA,UAC1C,OAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,SAAA;AAAA,UACA,gBAAA,EAAkB;AAAA,SACnB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,mBAAmB,CAAA;AAAA,MACpD;AAAA,IACF;AAAA,GACF;AACF;;;ACxSO,SAAS,0BAA0B,MAAA,EAAmB;AAC3D,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,yBAAA;AAAA,IACA,4DAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAc,EAAE,WAAA,EAAa,wBAAA,EAA0B,UAAU,IAAA,EAAK;AAAA,MACtE,OAAA,EAAS,EAAE,WAAA,EAAa,oBAAA,EAAsB,UAAU,IAAA,EAAK;AAAA,MAC7D,MAAA,EAAQ,EAAE,WAAA,EAAa,mBAAA,EAAqB,UAAU,IAAA;AAAK,KAC7D;AAAA,IACA,CAAC,EAAE,YAAA,EAAc,OAAA,EAAS,QAAO,MAAO;AAAA,MACtC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,MAAM,CAAA,sCAAA,EAAyC,MAAM,CAAA,UAAA,EAAa,YAAY,eAAe,OAAO,CAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,2DAAA;AAAA;AAWtG;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,+BAAA;AAAA,IACA,mEAAA;AAAA,IACA;AAAA,MACE,SAAA,EAAW,EAAE,WAAA,EAAa,qBAAA,EAAuB,UAAU,IAAA,EAAK;AAAA,MAChE,OAAA,EAAS,EAAE,WAAA,EAAa,kBAAA,EAAoB,UAAU,IAAA,EAAK;AAAA,MAC3D,cAAA,EAAgB,EAAE,WAAA,EAAa,yBAAA,EAA2B,UAAU,IAAA;AAAK,KAC3E;AAAA,IACA,CAAC,EAAE,SAAA,EAAW,OAAA,EAAS,gBAAe,MAAO;AAAA,MAC3C,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA;AAAA,WAAA,EACL,SAAS;AAAA,SAAA,EACX,OAAO;AAAA,iBAAA,EACC,cAAc;;AAAA;AAAA;AAAA;AAAA,2BAAA;AAAA;AAMvB;AACF;AACF,KACF;AAAA,GACF;AACF;;;AC1DO,SAAS,mBAAmB,MAAA,EAAmB;AACpD,EAAA,uBAAA,CAAwB,MAAM,CAAA;AAC9B,EAAA,yBAAA,CAA0B,MAAM,CAAA;AAClC;ACIA,IAAM,WAAA,GAAc;AAAA,EAClB;AAAA,IACE,IAAA,EAAM,OAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,QAAQ,CAAC,EAAE,MAAM,QAAA,EAAU,IAAA,EAAM,WAAW,CAAA;AAAA,IAC5C,SAAS;AAAC,GACZ;AAAA,EACA;AAAA,IACE,IAAA,EAAM,SAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,QAAQ,CAAC,EAAE,MAAM,QAAA,EAAU,IAAA,EAAM,WAAW,CAAA;AAAA,IAC5C,SAAS;AAAC,GACZ;AAAA,EACA;AAAA,IACE,IAAA,EAAM,UAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,QAAQ,EAAC;AAAA,IACT,SAAS;AAAC,GACZ;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,QAAQ,EAAC;AAAA,IACT,SAAS;AAAC,GACZ;AAAA,EACA;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,QAAQ,EAAC;AAAA,IACT,SAAS;AAAC,GACZ;AAAA,EACA;AAAA,IACE,IAAA,EAAM,QAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW,CAAA;AAAA,IAC7C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,WAAW,CAAA;AAAA,IAC7C,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,aAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,YAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,gBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA,GACzC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,cAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,eAAA,EAAiB,MAAA;AAAA,IACjB,QAAQ,EAAC;AAAA,IACT,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA;AAE3C,CAAA;AAGA,IAAM,iBAAA,GAA6D;AAAA,EACjE,CAAA,EAAG;AAAA;AAAA,IACD,YAAA,EAAc,4CAAA;AAAA,IACd,aAAA,EAAe;AAAA,GACjB;AAAA,EACA,EAAA,EAAI;AAAA;AAAA,IACF,aAAA,EAAe;AAAA,GACjB;AAAA,EACA,KAAA,EAAO;AAAA;AAAA,IACL,aAAA,EAAe;AAAA;AAEnB,CAAA;AAEO,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,iDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B,CAAA;AAAA,MAC/D,WAAA,EAAaA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uBAAuB;AAAA,KAC1D;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,aAAY,KAAM;AACnD,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,IAAI,aAAA,GAAgB,EAAA;AACpB,QAAA,IAAI;AACF,UAAA,aAAA,GAAgB,MAAM,aAAa,YAAA,CAAa;AAAA,YAC9C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,WAAA;AAAA,YACd,IAAA,EAAM,CAAC,WAAsB;AAAA,WAC9B,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAGT,QAAA,IAAI,cAAA,GAAiB,EAAA;AACrB,QAAA,IAAI;AACF,UAAA,cAAA,GAAiB,MAAM,aAAa,YAAA,CAAa;AAAA,YAC/C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,QAAA;AAAA,YACd,IAAA,EAAM,CAAC,WAAsB;AAAA,WAC9B,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAGT,QAAA,IAAI,WAAA,GAAc,EAAA;AAClB,QAAA,IAAI;AACF,UAAA,WAAA,GAAc,MAAM,aAAa,YAAA,CAAa;AAAA,YAC5C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAGT,QAAA,IAAI,YAAA,GAAe,IAAA;AACnB,QAAA,IAAI;AACF,UAAA,YAAA,GAAe,MAAM,aAAa,YAAA,CAAa;AAAA,YAC7C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAGT,QAAA,IAAI,YAAA,GAAe,IAAA;AACnB,QAAA,IAAI;AACF,UAAA,YAAA,GAAe,MAAM,aAAa,YAAA,CAAa;AAAA,YAC7C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAET,QAAA,MAAM,WAAA,GAAc,WAAA,GAAc,EAAA,GAAA,CAC7B,MAAA,CAAO,aAAa,CAAA,GAAI,MAAA,CAAO,WAAW,CAAA,GAAI,GAAA,EAAK,OAAA,CAAQ,CAAC,CAAA,GAC7D,GAAA;AAEJ,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,WAAA;AAAA,UACA,QAAA,EAAU;AAAA,YACR,aAAA,EAAe,cAAc,QAAA,EAAS;AAAA,YACtC,eAAA,EAAiBE,WAAAA,CAAY,aAAA,EAAe,EAAE,CAAA;AAAA,YAC9C,cAAA,EAAgB,eAAe,QAAA,EAAS;AAAA,YACxC,gBAAA,EAAkBA,WAAAA,CAAY,cAAA,EAAgB,EAAE;AAAA,WAClD;AAAA,UACA,IAAA,EAAM;AAAA,YACJ,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,YAClC,oBAAA,EAAsBA,WAAAA,CAAY,WAAA,EAAa,EAAE,CAAA;AAAA,YACjD,gBAAA,EAAkB;AAAA,WACpB;AAAA,UACA,MAAA,EAAQ;AAAA,YACN,YAAA;AAAA,YACA;AAAA;AACF,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,oCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B,CAAA;AAAA,MAC/D,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B,CAAA;AAAA,MACtD,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,MAAA,EAAQ,YAAW,KAAM;AAC1D,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AACrD,QAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,UAAA,EAAmB,OAAO,CAAA;AAC/D,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,MAAM,aAAa,gBAAA,CAAiB;AAAA,UAClC,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,WAAA;AAAA,UACL,YAAA,EAAc,OAAA;AAAA,UACd,IAAA,EAAM,CAAC,MAAA,CAAO,MAAM,CAAC,CAAA;AAAA,UACrB;AAAA,SACD,CAAA;AAED,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,UAC5C,OAAA,EAAS,eAAA;AAAA,UACT,GAAA,EAAK,WAAA;AAAA,UACL,YAAA,EAAc,OAAA;AAAA,UACd,IAAA,EAAM,CAAC,MAAA,CAAO,MAAM,CAAC,CAAA;AAAA,UACrB;AAAA,SACD,CAAA;AAED,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,yBAAA,CAA0B,EAAE,MAAM,CAAA;AAErE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA,EAAQ,OAAA;AAAA,UACR,eAAA;AAAA,UACA,MAAA;AAAA,UACA,eAAA,EAAiBH,WAAAA,CAAY,MAAA,CAAO,MAAM,GAAG,EAAE,CAAA;AAAA,UAC/C,eAAA,EAAiB,IAAA;AAAA,UACjB,MAAA,EAAQ,OAAA,CAAQ,MAAA,KAAW,SAAA,GAAY,SAAA,GAAY,QAAA;AAAA,UACnD,WAAA,EAAa,OAAA,CAAQ,WAAA,CAAY,QAAA;AAAS,SAC3C,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,gBAAgB,CAAA;AAAA,MACjD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,iDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B,CAAA;AAAA,MAC/D,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,4BAA4B,CAAA;AAAA,MACxD,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,MAAA,EAAQ,YAAW,KAAM;AAC1D,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AACrD,QAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,UAAA,EAAmB,OAAO,CAAA;AAC/D,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,IAAI,IAAA;AACJ,QAAA,IAAI;AACF,UAAA,MAAM,aAAa,gBAAA,CAAiB;AAAA,YAClC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,SAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAA,CAAO,MAAM,CAAC,CAAA;AAAA,YACrB;AAAA,WACD,CAAA;AAED,UAAA,IAAA,GAAO,MAAM,aAAa,aAAA,CAAc;AAAA,YACtC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,SAAA;AAAA,YACd,IAAA,EAAM,CAAC,MAAA,CAAO,MAAM,CAAC,CAAA;AAAA,YACrB;AAAA,WACD,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAEN,UAAA,IAAA,GAAO,MAAM,aAAa,aAAA,CAAc;AAAA,YACtC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,UAAA;AAAA,YACd;AAAA,WACD,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,yBAAA,CAA0B,EAAE,MAAM,CAAA;AAErE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA,EAAQ,SAAA;AAAA,UACR,eAAA;AAAA,UACA,MAAA;AAAA,UACA,eAAA,EAAiB,IAAA;AAAA,UACjB,MAAA,EAAQ,OAAA,CAAQ,MAAA,KAAW,SAAA,GAAY,SAAA,GAAY;AAAA,SACpD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,kBAAkB,CAAA;AAAA,MACnD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,+BAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBL,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B,CAAA;AAAA,MAC/D,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAiB,YAAW,KAAM;AAClD,MAAA,IAAI;AACF,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AACrD,QAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,UAAA,EAAmB,OAAO,CAAA;AAC/D,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,IAAI,cAAA,GAAiB,EAAA;AACrB,QAAA,IAAI;AACF,UAAA,cAAA,GAAiB,MAAM,aAAa,YAAA,CAAa;AAAA,YAC/C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,QAAA;AAAA,YACd,IAAA,EAAM,CAAC,OAAA,CAAQ,OAAO;AAAA,WACvB,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAET,QAAA,IAAI,mBAAmB,EAAA,EAAI;AACzB,UAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,YACxB,OAAA;AAAA,YACA,MAAA,EAAQ,eAAA;AAAA,YACR,eAAA;AAAA,YACA,cAAA,EAAgB,GAAA;AAAA,YAChB,OAAA,EAAS;AAAA,WACV,CAAA;AAAA,QACH;AAGA,QAAA,IAAI,IAAA;AACJ,QAAA,IAAI;AACF,UAAA,IAAA,GAAO,MAAM,aAAa,aAAA,CAAc;AAAA,YACtC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,cAAA;AAAA,YACd;AAAA,WACD,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AACN,UAAA,IAAA,GAAO,MAAM,aAAa,aAAA,CAAc;AAAA,YACtC,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc,WAAA;AAAA,YACd;AAAA,WACD,CAAA;AAAA,QACH;AAEA,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,yBAAA,CAA0B,EAAE,MAAM,CAAA;AAErE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,MAAA,EAAQ,eAAA;AAAA,UACR,eAAA;AAAA,UACA,cAAA,EAAgB,eAAe,QAAA,EAAS;AAAA,UACxC,gBAAA,EAAkBH,WAAAA,CAAY,cAAA,EAAgB,EAAE,CAAA;AAAA,UAChD,eAAA,EAAiB,IAAA;AAAA,UACjB,MAAA,EAAQ,OAAA,CAAQ,MAAA,KAAW,SAAA,GAAY,SAAA,GAAY;AAAA,SACpD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,kBAAkB,CAAA;AAAA,MACnD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,iBAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,eAAA,EAAiBF,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,0BAA0B;AAAA,KACjE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,eAAA,EAAgB,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAG5C,QAAA,IAAI,UAAA,GAAa,EAAA;AACjB,QAAA,IAAI;AACF,UAAA,UAAA,GAAa,MAAM,aAAa,YAAA,CAAa;AAAA,YAC3C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAGT,QAAA,IAAI,WAAA,GAAc,EAAA;AAClB,QAAA,IAAI;AACF,UAAA,WAAA,GAAc,MAAM,aAAa,YAAA,CAAa;AAAA,YAC5C,OAAA,EAAS,eAAA;AAAA,YACT,GAAA,EAAK,WAAA;AAAA,YACL,YAAA,EAAc;AAAA,WACf,CAAA;AAAA,QACH,CAAA,CAAA,MAAQ;AAAA,QAAC;AAIT,QAAA,MAAM,cAAA,GAAiB,IAAA,GAAO,GAAA,GAAM,GAAA,GAAM,GAAA;AAC1C,QAAA,IAAI,GAAA,GAAM,GAAA;AAEV,QAAA,IAAI,WAAA,GAAc,EAAA,IAAM,UAAA,GAAa,EAAA,EAAI;AACvC,UAAA,MAAM,gBAAgB,UAAA,GAAa,cAAA;AACnC,UAAA,GAAA,GAAA,CAAQ,MAAA,CAAO,aAAa,CAAA,GAAI,MAAA,CAAO,WAAW,CAAA,GAAK,GAAA,EAAK,QAAQ,CAAC,CAAA;AAAA,QACvE;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,eAAA;AAAA,UACA,UAAA,EAAY,WAAW,QAAA,EAAS;AAAA,UAChC,mBAAA,EAAqBE,WAAAA,CAAY,UAAA,EAAY,EAAE,CAAA;AAAA,UAC/C,WAAA,EAAa,YAAY,QAAA,EAAS;AAAA,UAClC,YAAA,EAAc,GAAG,GAAG,CAAA,CAAA,CAAA;AAAA,UACpB,IAAA,EAAM;AAAA,SACP,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,yBAAyB,CAAA;AAAA,MAC1D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,oDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAU,MAAM,YAAA,CAAa,UAAA,EAAW;AAE9C,QAAA,MAAM,SAAA,GAAY,iBAAA,CAAkB,OAAO,CAAA,IAAK,EAAC;AAEjD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,OAAA;AAAA,UACA,SAAA,EAAW,MAAA,CAAO,OAAA,CAAQ,SAAS,CAAA,CAAE,IAAI,CAAC,CAAC,IAAA,EAAM,OAAO,CAAA,MAAO;AAAA,YAC7D,IAAA;AAAA,YACA;AAAA,WACF,CAAE,CAAA;AAAA,UACF,IAAA,EAAM,SAAA,CAAU,MAAA,KAAW,CAAA,GACvB,8CAAA,GACA;AAAA,SACL,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AACF;;;ACtdO,SAAS,uBAAuB,MAAA,EAAmB;AACxD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,6BAAA;AAAA,IACA,qDAAA;AAAA,IACA;AAAA,MACE,eAAA,EAAiB,EAAE,WAAA,EAAa,0BAAA,EAA4B,UAAU,IAAA,EAAK;AAAA,MAC3E,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,eAAA,EAAiB,OAAA,EAAQ,MAAO;AAAA,MACjC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,mCAAA,EAAsC,eAAe,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA,cAAA,EAUrE,eAAe;AAAA,aAAA,EAChB,OAAO;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA,yCAAA;AAAA;AAoBZ;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,2BAAA;AAAA,IACA,kDAAA;AAAA,IACA;AAAA,MACE,aAAA,EAAe,EAAE,WAAA,EAAa,gBAAA,EAAkB,UAAU,IAAA,EAAK;AAAA,MAC/D,OAAA,EAAS,EAAE,WAAA,EAAa,SAAA,EAAW,UAAU,IAAA;AAAK,KACpD;AAAA,IACA,CAAC,EAAE,aAAA,EAAe,OAAA,EAAQ,MAAO;AAAA,MAC/B,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,mCAAA,EAAsC,aAAa,CAAA,IAAA,EAAO,OAAO,CAAA;;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAA;AAAA;AAYzE;AACF;AACF,KACF;AAAA,GACF;AACF;;;AC/EO,SAAS,gBAAgB,MAAA,EAAmB;AACjD,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC3B,EAAA,sBAAA,CAAuB,MAAM,CAAA;AAC/B;ACUA,IAAM,WAAA,GAAuD;AAAA,EAC3D,GAAA,EAAK;AAAA,IACH,WAAA,EAAa,4CAAA;AAAA,IACb,OAAA,EAAS;AAAA,GACX;AAAA,EACA,QAAA,EAAU;AAAA,IACR,OAAA,EAAS,4CAAA;AAAA,IACT,SAAA,EAAW;AAAA,GACb;AAAA,EACA,QAAA,EAAU;AAAA,IACR,OAAA,EAAS,4CAAA;AAAA,IACT,SAAA,EAAW,4CAAA;AAAA,IACX,OAAA,EAAS;AAAA,GACX;AAAA,EACA,OAAA,EAAS;AAAA,IACP,OAAA,EAAS,4CAAA;AAAA,IACT,SAAA,EAAW;AAAA,GACb;AAAA,EACA,IAAA,EAAM;AAAA,IACJ,OAAA,EAAS,4CAAA;AAAA,IACT,SAAA,EAAW;AAAA;AAEf,CAAA;AAGA,IAAMS,UAAAA,GAAY;AAAA,EAChB;AAAA,IACE,IAAA,EAAM,SAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA,EAAU;AAAA,MACnC,EAAE,IAAA,EAAM,QAAA,EAAU,IAAA,EAAM,SAAA;AAAU,KACpC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,QAAQ;AAAA,GACtC;AAAA,EACA;AAAA,IACE,IAAA,EAAM,WAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,OAAA,EAAS,IAAA,EAAM,SAAA,EAAU;AAAA,MACjC,EAAE,IAAA,EAAM,SAAA,EAAW,IAAA,EAAM,SAAA;AAAU,KACrC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,EAAA,EAAI,IAAA,EAAM,WAAW;AAAA;AAE3C,CAAA;AAGA,IAAM,qBAAA,GAAwB;AAAA,EAC5B;AAAA,IACE,IAAA,EAAM,eAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA,EAAU;AAAA,MACpC,EAAE,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,WAAA;AAAY,KACpC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,aAAa;AAAA,GAClD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,0BAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA,EAAU;AAAA,MACpC,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA,EAAU;AAAA,MACxC,EAAE,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,WAAA,EAAY;AAAA,MAClC,EAAE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,SAAA,EAAU;AAAA,MAC9B,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA;AAAU,KACtC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,aAAa;AAAA,GAClD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,uBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA,EAAU;AAAA,MACxC,EAAE,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,WAAA,EAAY;AAAA,MAClC,EAAE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,SAAA,EAAU;AAAA,MAC9B,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA;AAAU,KACtC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,aAAa;AAAA,GAClD;AAAA,EACA;AAAA,IACE,IAAA,EAAM,uBAAA;AAAA,IACN,IAAA,EAAM,UAAA;AAAA,IACN,MAAA,EAAQ;AAAA,MACN,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA,EAAU;AAAA,MACpC,EAAE,IAAA,EAAM,cAAA,EAAgB,IAAA,EAAM,SAAA,EAAU;AAAA,MACxC,EAAE,IAAA,EAAM,MAAA,EAAQ,IAAA,EAAM,WAAA,EAAY;AAAA,MAClC,EAAE,IAAA,EAAM,IAAA,EAAM,IAAA,EAAM,SAAA,EAAU;AAAA,MAC9B,EAAE,IAAA,EAAM,UAAA,EAAY,IAAA,EAAM,SAAA;AAAU,KACtC;AAAA,IACA,SAAS,CAAC,EAAE,MAAM,SAAA,EAAW,IAAA,EAAM,aAAa;AAAA;AAEpD,CAAA;AAEO,SAAS,kBAAkB,MAAA,EAAmB;AAEnD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,0FAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASX,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8BAA8B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8CAA8C,CAAA;AAAA,MAC5E,OAAA,EAAS,mBAAA;AAAA,MACT,KAAKA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,2FAA2F;AAAA,KACjI;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,UAAU,QAAA,EAAU,OAAA,EAAS,KAAI,KAAM;AACvD,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,QAAA,MAAM,OAAA,GAAU,MAAM,MAAA,CAAO,UAAA,EAAW;AAGxC,QAAA,MAAM,cAAA,GAAiB,WAAA,CAAY,OAAO,CAAA,IAAK,WAAA,CAAY,QAAA;AAC3D,QAAA,MAAM,aAAA,GAAgB,GAAA,GAAM,cAAA,CAAe,GAAA,CAAI,WAAA,EAAa,CAAA,GAAI,MAAA,CAAO,MAAA,CAAO,cAAc,CAAA,CAAE,CAAC,CAAA;AAE/F,QAAA,IAAI,CAAC,aAAA,EAAe;AAClB,UAAA,OAAO,UAAA,CAAW,KAAA,CAAM,IAAI,KAAA,CAAM,CAAA,oBAAA,EAAuB,GAAA,IAAO,SAAS,CAAA,IAAA,EAAO,OAAO,CAAA,CAAE,CAAA,EAAG,oBAAoB,CAAA;AAAA,QAClH;AAGA,QAAA,MAAM,IAAA,GAAO,CAAC,OAAA,EAAoB,QAAmB,CAAA;AAErD,QAAA,MAAM,OAAA,GAAU,MAAM,MAAA,CAAO,YAAA,CAAa;AAAA,UACxC,OAAA,EAAS,aAAA;AAAA,UACT,GAAA,EAAK,qBAAA;AAAA,UACL,YAAA,EAAc,eAAA;AAAA,UACd,IAAA,EAAM,CAAC,MAAA,CAAO,QAAQ,GAAG,IAAI;AAAA,SAC9B,CAAA;AAED,QAAA,MAAM,SAAA,GAAY,OAAA,CAAQ,OAAA,CAAQ,MAAA,GAAS,CAAC,CAAA;AAG5C,QAAA,MAAM,WAAA,GAAc,MAAA;AAEpB,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,SAAA,EAAW,UAAU,QAAA,EAAS;AAAA,UAC9B,MAAA,EAAQ,aAAA;AAAA,UACR,KAAK,GAAA,IAAO,SAAA;AAAA,UACZ,OAAA;AAAA,UACA,OAAA;AAAA,UACA,WAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,+BAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8BAA8B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8CAA8C,CAAA;AAAA,MAC5E,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,iEAAiE,CAAA;AAAA,MACnG,OAAA,EAAS,mBAAA;AAAA,MACT,UAAA,EAAY,eAAA;AAAA,MACZ,KAAKA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,qBAAqB,CAAA;AAAA,MACzD,UAAUA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,uEAAuE;AAAA,KAClH;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,QAAA,EAAU,cAAc,OAAA,EAAS,UAAA,EAAY,GAAA,EAAK,QAAA,EAAS,KAAM;AAC3F,MAAA,IAAI;AACF,QAAA,MAAM,YAAA,GAAe,eAAA,CAAgB,UAAA,EAAmB,OAAO,CAAA;AAC/D,QAAA,MAAM,YAAA,GAAe,gBAAgB,OAAO,CAAA;AAC5C,QAAA,MAAM,OAAA,GAAUK,oBAAoB,UAAiB,CAAA;AAErD,QAAA,MAAM,cAAA,GAAiB,WAAA,CAAY,OAAO,CAAA,IAAK,WAAA,CAAY,QAAA;AAC3D,QAAA,MAAM,aAAA,GAAgB,GAAA,GAAM,cAAA,CAAe,GAAA,CAAI,WAAA,EAAa,CAAA,GAAI,MAAA,CAAO,MAAA,CAAO,cAAc,CAAA,CAAE,CAAC,CAAA;AAE/F,QAAA,IAAI,CAAC,aAAA,EAAe;AAClB,UAAA,OAAO,UAAA,CAAW,KAAA,CAAM,IAAI,KAAA,CAAM,CAAA,oBAAA,EAAuB,GAAA,IAAO,SAAS,CAAA,IAAA,EAAO,OAAO,CAAA,CAAE,CAAA,EAAG,gBAAgB,CAAA;AAAA,QAC9G;AAEA,QAAA,MAAM,IAAA,GAAO,CAAC,OAAA,EAAoB,QAAmB,CAAA;AACrD,QAAA,MAAM,UAAA,GAAa,MAAA,CAAO,IAAA,CAAK,KAAA,CAAM,IAAA,CAAK,KAAI,GAAI,GAAI,CAAA,IAAK,QAAA,IAAY,IAAA,CAAK,CAAA;AAG5E,QAAA,MAAM,SAAA,GAAY,MAAM,YAAA,CAAa,YAAA,CAAa;AAAA,UAChD,OAAA,EAAS,OAAA;AAAA,UACT,GAAA,EAAKM,UAAAA;AAAA,UACL,YAAA,EAAc,WAAA;AAAA,UACd,IAAA,EAAM,CAAC,OAAA,CAAQ,OAAA,EAAS,aAAa;AAAA,SACtC,CAAA;AAED,QAAA,IAAI,SAAA,GAAY,MAAA,CAAO,QAAQ,CAAA,EAAG;AAEhC,UAAA,MAAM,WAAA,GAAc,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,YACnD,OAAA,EAAS,OAAA;AAAA,YACT,GAAA,EAAKA,UAAAA;AAAA,YACL,YAAA,EAAc,SAAA;AAAA,YACd,IAAA,EAAM,CAAC,aAAA,EAAe,MAAA,CAAO,QAAQ,CAAC,CAAA;AAAA,YACtC;AAAA,WACD,CAAA;AACD,UAAA,MAAM,YAAA,CAAa,yBAAA,CAA0B,EAAE,IAAA,EAAM,aAAa,CAAA;AAAA,QACpE;AAGA,QAAA,MAAM,IAAA,GAAO,MAAM,YAAA,CAAa,aAAA,CAAc;AAAA,UAC5C,OAAA,EAAS,aAAA;AAAA,UACT,GAAA,EAAK,qBAAA;AAAA,UACL,YAAA,EAAc,0BAAA;AAAA,UACd,IAAA,EAAM;AAAA,YACJ,OAAO,QAAQ,CAAA;AAAA,YACf,OAAO,YAAY,CAAA;AAAA,YACnB,IAAA;AAAA,YACA,OAAA,CAAQ,OAAA;AAAA,YACR;AAAA,WACF;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,MAAM,UAAU,MAAM,YAAA,CAAa,yBAAA,CAA0B,EAAE,MAAM,CAAA;AAErE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,IAAA;AAAA,UACT,eAAA,EAAiB,IAAA;AAAA,UACjB,WAAA,EAAa,OAAA,CAAQ,WAAA,CAAY,QAAA,EAAS;AAAA,UAC1C,OAAA,EAAS,OAAA,CAAQ,OAAA,CAAQ,QAAA,EAAS;AAAA,UAClC,OAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,YAAA;AAAA,UACA,MAAA,EAAQ;AAAA,SACT,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,gBAAgB,CAAA;AAAA,MACjD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,qEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASX,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8BAA8B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8CAA8C,CAAA;AAAA,MAC5E,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,QAAA,EAAU,SAAQ,KAAM;AAClD,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,QAAA,MAAM,cAAA,GAAiB,WAAA,CAAY,OAAO,CAAA,IAAK,WAAA,CAAY,QAAA;AAE3D,QAAA,MAAM,SAAqE,EAAC;AAC5E,QAAA,MAAM,IAAA,GAAO,CAAC,OAAA,EAAoB,QAAmB,CAAA;AAGrD,QAAA,KAAA,MAAW,CAAC,OAAA,EAAS,aAAa,KAAK,MAAA,CAAO,OAAA,CAAQ,cAAc,CAAA,EAAG;AACrE,UAAA,IAAI;AACF,YAAA,MAAM,OAAA,GAAU,MAAM,MAAA,CAAO,YAAA,CAAa;AAAA,cACxC,OAAA,EAAS,aAAA;AAAA,cACT,GAAA,EAAK,qBAAA;AAAA,cACL,YAAA,EAAc,eAAA;AAAA,cACd,IAAA,EAAM,CAAC,MAAA,CAAO,QAAQ,GAAG,IAAI;AAAA,aAC9B,CAAA;AAED,YAAA,MAAA,CAAO,IAAA,CAAK;AAAA,cACV,GAAA,EAAK,OAAA;AAAA,cACL,WAAW,OAAA,CAAQ,OAAA,CAAQ,MAAA,GAAS,CAAC,EAAE,QAAA,EAAS;AAAA,cAChD,MAAA,EAAQ;AAAA,aACT,CAAA;AAAA,UACH,CAAA,CAAA,MAAQ;AAAA,UAER;AAAA,QACF;AAGA,QAAA,MAAA,CAAO,IAAA,CAAK,CAAC,CAAA,EAAG,CAAA,KAAM,MAAA,CAAO,CAAA,CAAE,SAAS,CAAA,GAAI,MAAA,CAAO,CAAA,CAAE,SAAS,CAAA,GAAI,IAAI,CAAA,CAAE,CAAA;AAExE,QAAA,MAAM,SAAA,GAAY,OAAO,CAAC,CAAA;AAE1B,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,SAAA;AAAA,UACA,SAAA,EAAW,MAAA;AAAA,UACX;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,oBAAoB,CAAA;AAAA,MACrD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,uDAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,qBAAqB,CAAA;AAAA,MACjD,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,sBAAsB,CAAA;AAAA,MAClD,OAAA,EAAS,mBAAA;AAAA,MACT,KAAKA,CAAAA,CAAE,MAAA,GAAS,QAAA,EAAS,CAAE,SAAS,cAAc;AAAA,KACpD;AAAA,IACA,OAAO,EAAE,MAAA,EAAQ,MAAA,EAAQ,OAAA,EAAS,KAAI,KAAM;AAC1C,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AAItC,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,MAAA;AAAA,UACA,MAAA;AAAA,UACA,OAAA;AAAA,UACA,KAAK,GAAA,IAAO,SAAA;AAAA,UACZ,OAAA,EAAS;AAAA,SACV,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,uBAAuB,CAAA;AAAA,MACxD;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,kBAAA;AAAA,IACA,mDAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,8BAA8B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MAC3D,QAAA,EAAUA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,gCAAgC,CAAA;AAAA,MAC9D,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,QAAA,EAAU,SAAQ,KAAM;AAClD,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAS,gBAAgB,OAAO,CAAA;AACtC,QAAA,MAAM,cAAA,GAAiB,WAAA,CAAY,OAAO,CAAA,IAAK,WAAA,CAAY,QAAA;AAC3D,QAAA,MAAM,aAAA,GAAgB,MAAA,CAAO,MAAA,CAAO,cAAc,EAAE,CAAC,CAAA;AAErD,QAAA,MAAM,IAAA,GAAO,CAAC,OAAA,EAAoB,QAAmB,CAAA;AAGrD,QAAA,MAAM,WAAA,GAAc,MAAA,CAAO,QAAQ,CAAA,GAAI,OAAO,GAAI,CAAA;AAClD,QAAA,MAAM,YAAA,GAAe,MAAM,MAAA,CAAO,YAAA,CAAa;AAAA,UAC7C,OAAA,EAAS,aAAA;AAAA,UACT,GAAA,EAAK,qBAAA;AAAA,UACL,YAAA,EAAc,eAAA;AAAA,UACd,IAAA,EAAM,CAAC,WAAA,EAAa,IAAI;AAAA,SACzB,CAAA;AAGD,QAAA,MAAM,WAAA,GAAc,MAAM,MAAA,CAAO,YAAA,CAAa;AAAA,UAC5C,OAAA,EAAS,aAAA;AAAA,UACT,GAAA,EAAK,qBAAA;AAAA,UACL,YAAA,EAAc,eAAA;AAAA,UACd,IAAA,EAAM,CAAC,MAAA,CAAO,QAAQ,GAAG,IAAI;AAAA,SAC9B,CAAA;AAED,QAAA,MAAM,gBAAgB,MAAA,CAAO,YAAA,CAAa,CAAC,CAAC,CAAA,GAAI,OAAO,WAAW,CAAA;AAClE,QAAA,MAAM,cAAc,MAAA,CAAO,WAAA,CAAY,CAAC,CAAC,CAAA,GAAI,OAAO,QAAQ,CAAA;AAC5D,QAAA,MAAM,WAAA,GAAA,CAAgB,aAAA,GAAgB,WAAA,IAAe,aAAA,GAAiB,GAAA;AAEtE,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,QAAA;AAAA,UACA,QAAA;AAAA,UACA,cAAA,EAAgB,WAAA,CAAY,CAAC,CAAA,CAAE,QAAA,EAAS;AAAA,UACxC,WAAA,EAAa,CAAA,EAAG,WAAA,CAAY,OAAA,CAAQ,CAAC,CAAC,CAAA,CAAA,CAAA;AAAA,UACtC,cAAA,EAAgB,WAAA;AAAA,UAChB,OAAA,EAAS,WAAA,GAAc,CAAA,GAAI,4CAAA,GAA+C;AAAA,SAC3E,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,oBAAA;AAAA,IACA,+CAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAQ,KAAM;AACrB,MAAA,IAAI;AACF,QAAA,MAAM,cAAA,GAAiB,WAAA,CAAY,OAAO,CAAA,IAAK,EAAC;AAChD,QAAA,MAAM,OAAA,GAAU,MAAA,CAAO,OAAA,CAAQ,cAAc,CAAA,CAAE,IAAI,CAAC,CAAC,IAAA,EAAM,OAAO,CAAA,MAAO;AAAA,UACvE,IAAA;AAAA,UACA,MAAA,EAAQ;AAAA,SACV,CAAE,CAAA;AAEF,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,aAAA,EAAe,OAAA;AAAA,UACf,OAAO,OAAA,CAAQ;AAAA,SAChB,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,wBAAwB,CAAA;AAAA,MACzD;AAAA,IACF;AAAA,GACF;AACF;;;AChaO,SAAS,oBAAoB,MAAA,EAAmB;AACrD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,cAAA;AAAA,IACA,4DAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,EAAE,WAAA,EAAa,eAAA,EAAiB,UAAU,IAAA,EAAK;AAAA,MACxD,QAAA,EAAU,EAAE,WAAA,EAAa,cAAA,EAAgB,UAAU,IAAA,EAAK;AAAA,MACxD,MAAA,EAAQ,EAAE,WAAA,EAAa,gBAAA,EAAkB,UAAU,IAAA,EAAK;AAAA,MACxD,OAAA,EAAS,EAAE,WAAA,EAAa,oBAAA,EAAsB,UAAU,KAAA;AAAM,KAChE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,MAAA,EAAQ,SAAQ,MAAO;AAAA,MACjD,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA;AAAA,WAAA,EACL,OAAO;AAAA,UAAA,EACR,QAAQ,CAAA;AAAA,UAAA,EACR,MAAM;AAAA,WAAA,EACL,WAAW,UAAU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4DAAA;AAAA;AAQxB;AACF;AACF,KACF;AAAA,GACF;AAEA,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,qBAAA;AAAA,IACA,uEAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,EAAE,WAAA,EAAa,eAAA,EAAiB,UAAU,IAAA,EAAK;AAAA,MACxD,QAAA,EAAU,EAAE,WAAA,EAAa,cAAA,EAAgB,UAAU,IAAA,EAAK;AAAA,MACxD,MAAA,EAAQ,EAAE,WAAA,EAAa,sBAAA,EAAwB,UAAU,IAAA;AAAK,KAChE;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,QAAA,EAAU,QAAO,MAAO;AAAA,MACxC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA;AAAA,WAAA,EACL,OAAO;AAAA,UAAA,EACR,QAAQ;AAAA,gBAAA,EACF,MAAM;;AAAA;AAAA;AAAA;AAAA;AAAA,sCAAA;AAAA;AAOd;AACF;AACF,KACF;AAAA,GACF;AACF;;;AC5DO,SAAS,aAAa,MAAA,EAAmB;AAC9C,EAAA,iBAAA,CAAkB,MAAM,CAAA;AACxB,EAAA,mBAAA,CAAoB,MAAM,CAAA;AAC5B;ACHO,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,eAAA;AAAA,IACA,+BAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,mCAAmC,CAAA;AAAA,MACrE,OAAA,EAAS,aAAA;AAAA,MACT,SAAA,EAAWA,CAAAA,CACR,MAAA,EAAO,CACP,UAAS,CACT,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,SAASA,CAAAA,CACN,MAAA,GACA,QAAA,EAAS,CACT,SAAS,sCAAsC;AAAA,KACpD;AAAA,IACA,CAAC,EAAE,YAAA,EAAc,SAAA,GAAY,QAAQ,OAAA,EAAS,OAAA,GAAU,OAAM,KAAM;AAClE,MAAA,IAAI,UAAA,GAAa,EAAA;AAEjB,MAAA,IAAI,SAAA,KAAc,OAAA,IAAW,SAAA,KAAc,MAAA,EAAQ;AACjD,QAAA,UAAA,GAAa,CAAA,0CAAA,EAA6C,YAAY,CAAA,QAAA,EAAW,OAAO,CAAA,0KAAA,CAAA;AAAA,MAC1F,CAAA,MAAA,IAAA,CAAY,SAAA,KAAc,QAAA,IAAY,SAAA,KAAc,UAAU,OAAA,EAAS;AACrE,QAAA,UAAA,GAAa,CAAA,qCAAA,EAAwC,OAAO,CAAA,gCAAA,EAAmC,YAAY,WAAW,OAAO,CAAA,mKAAA,CAAA;AAAA,MAC/H,CAAA,MAAA,IAAW,SAAA,KAAc,KAAA,IAAS,SAAA,KAAc,QAAA,EAAU;AACxD,QAAA,UAAA,GAAa,CAAA,6CAAA,EAAgD,YAAY,CAAA,QAAA,EAAW,OAAO,CAAA,+KAAA,CAAA;AAAA,MAC7F;AAEA,MAAA,OAAO;AAAA,QACL,QAAA,EAAU;AAAA,UACR;AAAA,YACE,IAAA,EAAM,MAAA;AAAA,YACN,OAAA,EAAS;AAAA,cACP,IAAA,EAAM,MAAA;AAAA,cACN,IAAA,EAAM;AAAA;AACR;AACF;AACF,OACF;AAAA,IACF;AAAA,GACF;AACF;ACvCO,SAAS,mBAAmB,MAAA,EAAmB;AAEpD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,sBAAA;AAAA,IACA,6BAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAcA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kCAAkC,CAAA;AAAA,MACpE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,YAAA,EAAa,KAAM;AACnC,MAAA,IAAI;AACF,QAAA,MAAM,YAAY,MAAe,iBAAA;AAAA,UAC/B,YAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,UAAA,CAAW,QAAQ,SAAS,CAAA;AAAA,MACrC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,oBAAA;AAAA,IACA,yCAAA;AAAA,IACA;AAAA,MACE,OAAA,EAAS,mBAAA;AAAA,MACT,SAASA,CAAAA,CACN,MAAA,GACA,QAAA,EAAS,CACT,SAAS,kCAAkC,CAAA;AAAA,MAC9C,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,OAAA,EAAS,YAAW,KAAM;AAC1C,MAAA,IAAI;AACF,QAAA,MAAM,SAAS,MAAe,gBAAA;AAAA,UAC5B,OAAA,IAAWK,mBAAAA,CAAoB,UAAiB,CAAA,CAAE,OAAA;AAAA,UAClD;AAAA,SACF;AAEA,QAAA,OAAO,UAAA,CAAW,QAAQ,MAAM,CAAA;AAAA,MAClC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,+BAA+B,CAAA;AAAA,MAChE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,mBAAA;AAAA,IACA,wCAAA;AAAA,IACA;AAAA,MACE,YAAA,EAAcL,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kCAAkC,CAAA;AAAA,MACpE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,kCAAkC,CAAA;AAAA,MAC/D,OAAA,EAAS,mBAAA;AAAA,MACT,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,YAAA,EAAc,OAAA,EAAS,YAAW,KAAM;AACxD,MAAA,IAAI;AACF,QAAA,MAAM,MAAM,MAAe,eAAA;AAAA,UACzB,YAAA;AAAA,UACA,OAAA,IAAWK,mBAAAA,CAAoB,UAAiB,CAAA,CAAE,OAAA;AAAA,UAClD;AAAA,SACF;AAEA,QAAA,OAAO,UAAA,CAAW,QAAQ,GAAG,CAAA;AAAA,MAC/B,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,8BAA8B,CAAA;AAAA,MAC/D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,oBAAA;AAAA,IACA,0BAAA;AAAA,IACA;AAAA,MACE,IAAA,EAAML,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uBAAuB,CAAA;AAAA,MACjD,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,yBAAyB,CAAA;AAAA,MACrD,OAAA,EAAS,mBAAA;AAAA,MACT,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,OAAA,EAAS,IAAA,EAAM,MAAA,EAAQ,YAAW,KAAM;AAC/C,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAS,MAAe,gBAAA,CAAiB;AAAA,UAC7C,IAAA;AAAA,UACA,MAAA;AAAA,UACA,UAAA;AAAA,UACA;AAAA,SACD,CAAA;AAED,QAAA,OAAO,UAAA,CAAW,QAAQ,MAAM,CAAA;AAAA,MAClC,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,sBAAsB,CAAA;AAAA,MACvD;AAAA,IACF;AAAA,GACF;AACF;;;ACvGO,SAAS,eAAe,MAAA,EAAmB;AAChD,EAAA,kBAAA,CAAmB,MAAM,CAAA;AACzB,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC7B;ACHO,SAAS,2BAA2B,MAAA,EAAmB;AAE5D,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,qBAAA;AAAA,IACA,gCAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MACzD,OAAA,EAAS;AAAA,KACX;AAAA,IACA,CAAC,EAAE,MAAA,EAAQ,OAAA,GAAU,OAAM,MAAO;AAAA,MAChC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,2BAAA,EAA8B,MAAM,CAAA,QAAA,EAAW,OAAO,CAAA,8LAAA;AAAA;AAC9D;AACF;AACF,KACF;AAAA,GACF;AACF;AClBO,SAAS,yBAAyB,MAAA,EAAmB;AAE1D,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,iBAAA;AAAA,IACA,uHAAA;AAAA,IACA;AAAA,MACE,MAAA,EAAQA,CAAAA,CACL,MAAA,EAAO,CACP,SAAS,qDAAqD,CAAA;AAAA,MACjE,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,MAAA,EAAQ,OAAA,EAAQ,KAAM;AAC7B,MAAA,IAAI;AACF,QAAA,MAAM,EAAA,GAAK,MAAe,cAAA,CAAe,MAAA,EAAgB,OAAO,CAAA;AAChE,QAAA,OAAO,UAAA,CAAW,QAAQ,EAAE,CAAA;AAAA,MAC9B,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,CAAA,qBAAA,EAAwB,MAAM,CAAA,CAAE,CAAA;AAAA,MACjE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,cAAA;AAAA,IACA,yCAAA;AAAA,IACA;AAAA,MACE,EAAA,EAAIA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,uBAAuB,CAAA;AAAA,MAC/C,OAAOA,CAAAA,CACJ,MAAA,GACA,QAAA,EAAS,CACT,SAAS,kDAAkD,CAAA;AAAA,MAC9D,MAAMA,CAAAA,CACH,MAAA,GACA,QAAA,EAAS,CACT,SAAS,sCAAsC,CAAA;AAAA,MAClD,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,EAAA,EAAI,KAAA,EAAO,IAAA,EAAM,SAAQ,KAAM;AACtC,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,GAAc,EAAE,EAAA,EAAkB;AAExC,QAAA,IAAI,KAAA,EAAO;AACT,UAAA,MAAA,CAAO,KAAA,GAAiB,KAAA,CAAQ,UAAA,CAAW,KAAK,CAAA;AAAA,QAClD;AAEA,QAAA,IAAI,IAAA,EAAM;AACR,UAAA,MAAA,CAAO,IAAA,GAAO,IAAA;AAAA,QAChB;AAEA,QAAA,MAAM,GAAA,GAAM,MAAe,WAAA,CAAY,MAAA,EAAQ,OAAO,CAAA;AAEtD,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA;AAAA,UACA,YAAA,EAAc,IAAI,QAAA;AAAS,SAC5B,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,gBAAgB,CAAA;AAAA,MACjD;AAAA,IACF;AAAA,GACF;AACF;;;AC/DO,SAAS,qBAAqB,MAAA,EAAmB;AACtD,EAAA,wBAAA,CAAyB,MAAM,CAAA;AAC/B,EAAA,0BAAA,CAA2B,MAAM,CAAA;AACnC;ACHO,SAAS,qBAAqB,MAAA,EAAmB;AAEtD,EAAA,MAAA,CAAO,MAAA;AAAA,IACL,iBAAA;AAAA,IACA,wBAAA;AAAA,IACA;AAAA,MACE,OAAA,EAASA,CAAAA,CAAE,MAAA,EAAO,CAAE,SAAS,6BAA6B,CAAA;AAAA,MAC1D,OAAA,EAAS;AAAA,KACX;AAAA,IACA,CAAC,EAAE,OAAA,EAAS,OAAA,GAAU,OAAM,MAAO;AAAA,MACjC,QAAA,EAAU;AAAA,QACR;AAAA,UACE,IAAA,EAAM,MAAA;AAAA,UACN,OAAA,EAAS;AAAA,YACP,IAAA,EAAM,MAAA;AAAA,YACN,IAAA,EAAM,CAAA,2BAAA,EAA8B,OAAO,CAAA,QAAA,EAAW,OAAO,CAAA,oHAAA;AAAA;AAC/D;AACF;AACF,KACF;AAAA,GACF;AACF;AClBO,SAAS,oBAAoB,MAAA,EAAmB;AAErD,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,8BAAA;AAAA,IACA,gDAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAY;AAAA,KACd;AAAA,IACA,OAAO,EAAE,UAAA,EAAW,KAAM;AACxB,MAAA,IAAI;AAEF,QAAA,MAAM,eAAe,UAAA,CAAW,UAAA,CAAW,IAAI,CAAA,GAC1C,UAAA,GACA,KAAK,UAAU,CAAA,CAAA;AAEpB,QAAA,MAAM,OAAA,GAAmB,yBAAyB,YAAY,CAAA;AAE9D,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,mCAAmC,CAAA;AAAA,MACpE;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,uBAAA;AAAA,IACA,8DAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAY,eAAA;AAAA,MACZ,SAAA,EAAWA,CAAAA,CACR,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,MAAA,EAAQA,CAAAA,CACL,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,UAAA,EAAY,SAAA,EAAW,MAAA,EAAQ,SAAQ,KAAM;AACpD,MAAA,IAAI;AACF,QAAA,MAAM,OAAO,MAAe,WAAA;AAAA,UAC1B,UAAA;AAAA,UACA,SAAA;AAAA,UACA,MAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,IAAA;AAAA,UACT,MAAA,EAAQ,IAAA;AAAA,UACR,SAAA;AAAA,UACA,MAAA;AAAA,UACA;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,2BAA2B,CAAA;AAAA,MAC5D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,wBAAA;AAAA,IACA,uJAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAY,eAAA;AAAA,MACZ,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,cAAA,EAAgBA,CAAAA,CACb,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,MAAA,EAAQA,CAAAA,CACL,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,UAAA,EAAY,cAAc,cAAA,EAAgB,MAAA,EAAQ,SAAQ,KAAM;AACvE,MAAA,IAAI;AACF,QAAA,MAAM,SAAS,MAAe,YAAA;AAAA,UAC5B,YAAA;AAAA,UACA,cAAA;AAAA,UACA,MAAA;AAAA,UACA,UAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,IAAA;AAAA,UACT,QAAQ,MAAA,CAAO,MAAA;AAAA,UACf,YAAA;AAAA,UACA,cAAA;AAAA,UACA,MAAA,EAAQ,OAAO,MAAA,CAAO,SAAA;AAAA,UACtB,MAAA,EAAQ,OAAO,KAAA,CAAM,MAAA;AAAA,UACrB;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,0BAA0B,CAAA;AAAA,MAC3D;AAAA,IACF;AAAA,GACF;AAGA,EAAA,MAAA,CAAO,IAAA;AAAA,IACL,gBAAA;AAAA,IACA,qCAAA;AAAA,IACA;AAAA,MACE,UAAA,EAAY,eAAA;AAAA,MACZ,YAAA,EAAcA,CAAAA,CACX,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,SAAA,EAAWA,CAAAA,CACR,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,MAAA,EAAQA,CAAAA,CACL,MAAA,EAAO,CACP,QAAA;AAAA,QACC;AAAA,OACF;AAAA,MACF,OAAA,EAAS;AAAA,KACX;AAAA,IACA,OAAO,EAAE,UAAA,EAAY,cAAc,SAAA,EAAW,MAAA,EAAQ,SAAQ,KAAM;AAClE,MAAA,IAAI;AACF,QAAA,MAAM,SAAS,MAAe,aAAA;AAAA,UAC5B,YAAA;AAAA,UACA,SAAA;AAAA,UACA,MAAA;AAAA,UACA,UAAA;AAAA,UACA;AAAA,SACF;AAEA,QAAA,OAAO,WAAW,OAAA,CAAQ;AAAA,UACxB,OAAA,EAAS,IAAA;AAAA,UACT,QAAQ,MAAA,CAAO,MAAA;AAAA,UACf,YAAA;AAAA,UACA,SAAA;AAAA,UACA,MAAA,EAAQ,OAAO,MAAA,CAAO,SAAA;AAAA,UACtB,MAAA,EAAQ,OAAO,KAAA,CAAM,MAAA;AAAA,UACrB;AAAA,SACD,CAAA;AAAA,MACH,SAAS,KAAA,EAAO;AACd,QAAA,OAAO,UAAA,CAAW,KAAA,CAAM,KAAA,EAAO,qBAAqB,CAAA;AAAA,MACtD;AAAA,IACF;AAAA,GACF;AACF;;;ACpKO,SAAS,eAAe,MAAA,EAAmB;AAChD,EAAA,mBAAA,CAAoB,MAAM,CAAA;AAC1B,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC7B;;;ACeO,SAAS,YAAY,MAAA,EAAmB;AAE7C,EAAA,eAAA,CAAgB,MAAM,CAAA;AACtB,EAAA,cAAA,CAAe,MAAM,CAAA;AACrB,EAAA,oBAAA,CAAqB,MAAM,CAAA;AAC3B,EAAA,iBAAA,CAAkB,MAAM,CAAA;AACxB,EAAA,cAAA,CAAe,MAAM,CAAA;AACrB,EAAA,cAAA,CAAe,MAAM,CAAA;AACrB,EAAA,WAAA,CAAY,MAAM,CAAA;AAGlB,EAAA,YAAA,CAAa,MAAM,CAAA;AACnB,EAAA,cAAA,CAAe,MAAM,CAAA;AACrB,EAAA,eAAA,CAAgB,MAAM,CAAA;AACtB,EAAA,eAAA,CAAgB,MAAM,CAAA;AACtB,EAAA,kBAAA,CAAmB,MAAM,CAAA;AAGzB,EAAA,WAAA,CAAY,MAAM,CAAA;AAClB,EAAA,cAAA,CAAe,MAAM,CAAA;AACrB,EAAA,iBAAA,CAAkB,MAAM,CAAA;AACxB,EAAA,kBAAA,CAAmB,MAAM,CAAA;AACzB,EAAA,eAAA,CAAgB,MAAM,CAAA;AACtB,EAAA,gBAAA,CAAiB,MAAM,CAAA;AACvB,EAAA,iBAAA,CAAkB,MAAM,CAAA;AACxB,EAAA,kBAAA,CAAmB,MAAM,CAAA;AAC3B;;;AC3CO,IAAM,cAAc,MAAM;AAC/B,EAAA,IAAI;AAEF,IAAA,MAAM,MAAA,GAAS,IAAI,SAAA,CAAU;AAAA,MAC3B,IAAA,EAAM,sBAAA;AAAA,MACN,OAAA,EAAS,OAAA;AAAA,MACT,WAAA,EAAa;AAAA,KACd,CAAA;AAGD,IAAA,WAAA,CAAY,MAAM,CAAA;AAClB,IAAA,OAAO,MAAA;AAAA,EACT,SAAS,KAAA,EAAO;AACd,IAAA,cAAA,CAAO,KAAA,CAAM,gCAAgC,KAAK,CAAA;AAClD,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AACF,CAAA;;;ACZO,IAAM,iBAAiB,YAAY;AACxC,EAAA,IAAI;AACF,IAAA,MAAM,MAAM,OAAA,EAAQ;AACpB,IAAA,MAAM,SAAS,WAAA,EAAY;AAC3B,IAAA,GAAA,CAAI,GAAA,CAAI,MAAM,CAAA;AAGd,IAAA,cAAA,CAAO,IAAA,CAAK,CAAA,oCAAA,EAAuC,cAAA,CAAO,QAAA,EAAU,CAAA,CAAE,CAAA;AAItE,IAAA,MAAM,aAA0D,EAAC;AAEjE,IAAA,GAAA,CAAI,GAAA,CAAI,MAAA,EAAQ,OAAO,CAAA,EAAY,GAAA,KAAkB;AACnD,MAAA,MAAM,SAAA,GAAY,IAAI,kBAAA,CAAmB,WAAA,EAAa,GAAG,CAAA;AACzD,MAAA,UAAA,CAAW,SAAA,CAAU,SAAS,CAAA,GAAI,SAAA;AAClC,MAAA,cAAA,CAAO,KAAK,gCAAA,EAAkC;AAAA,QAC5C,WAAW,SAAA,CAAU;AAAA,OACtB,CAAA;AAED,MAAA,GAAA,CAAI,EAAA,CAAG,SAAS,MAAM;AACpB,QAAA,cAAA,CAAO,KAAK,uBAAA,EAAyB,EAAE,SAAA,EAAW,SAAA,CAAU,WAAW,CAAA;AACvE,QAAA,OAAO,UAAA,CAAW,UAAU,SAAS,CAAA;AAAA,MACvC,CAAC,CAAA;AAED,MAAA,IAAI;AACF,QAAA,MAAM,MAAA,CAAO,QAAQ,SAAS,CAAA;AAAA,MAChC,SAAS,KAAA,EAAO;AACd,QAAA,cAAA,CAAO,MAAM,4BAAA,EAA8B;AAAA,UACzC,WAAW,SAAA,CAAU,SAAA;AAAA,UACrB;AAAA,SACD,CAAA;AAAA,MACH;AAAA,IACF,CAAC,CAAA;AAED,IAAA,GAAA,CAAI,IAAA,CAAK,WAAA,EAAa,OAAO,GAAA,EAAc,GAAA,KAAkB;AAC3D,MAAA,MAAM,SAAA,GAAY,IAAI,KAAA,CAAM,SAAA;AAC5B,MAAA,MAAM,SAAA,GAAY,WAAW,SAAS,CAAA;AAEtC,MAAA,IAAI,SAAA,EAAW;AACb,QAAA,cAAA,CAAO,MAAM,kBAAA,EAAoB,EAAE,WAAW,IAAA,EAAM,GAAA,CAAI,MAAM,CAAA;AAC9D,QAAA,IAAI;AACF,UAAA,MAAM,SAAA,CAAU,iBAAA,CAAkB,GAAA,EAAK,GAAA,EAAK,IAAI,IAAI,CAAA;AAAA,QACtD,SAAS,KAAA,EAAO;AACd,UAAA,cAAA,CAAO,KAAA,CAAM,wBAAA,EAA0B,EAAE,SAAA,EAAW,OAAO,CAAA;AAC3D,UAAA,GAAA,CAAI,MAAA,CAAO,GAAG,CAAA,CAAE,IAAA,CAAK,uBAAuB,CAAA;AAAA,QAC9C;AAAA,MACF,CAAA,MAAO;AACL,QAAA,cAAA,CAAO,IAAA,CAAK,gCAAA,EAAkC,EAAE,SAAA,EAAW,CAAA;AAC3D,QAAA,GAAA,CAAI,MAAA,CAAO,GAAG,CAAA,CAAE,IAAA,CAAK,kCAAkC,CAAA;AAAA,MACzD;AAAA,IACF,CAAC,CAAA;AAED,IAAA,MAAM,IAAA,GAAO,OAAA,CAAQ,GAAA,CAAI,IAAA,IAAQ,IAAA;AACjC,IAAA,GAAA,CAAI,MAAA,CAAO,MAAM,MAAM;AACrB,MAAA,cAAA,CAAO,IAAA;AAAA,QACL,sDAAsD,IAAI,CAAA;AAAA,OAC5D;AAAA,IACF,CAAC,CAAA;AACD,IAAA,OAAO,MAAA;AAAA,EACT,SAAS,KAAA,EAAO;AACd,IAAA,cAAA,CAAO,KAAA,CAAM,uCAAuC,KAAK,CAAA;AAAA,EAC3D;AACF,CAAA;ACjEO,IAAM,mBAAmB,YAAY;AAC1C,EAAA,IAAI;AACF,IAAA,MAAM,SAAS,WAAA,EAAY;AAC3B,IAAA,MAAM,SAAA,GAAY,IAAI,oBAAA,EAAqB;AAE3C,IAAA,cAAA,CAAO,MAAM,uCAAuC,CAAA;AAEpD,IAAA,SAAA,CAAU,SAAA,GAAY,CAAC,OAAA,KAAY;AACjC,MAAA,cAAA,CAAO,KAAA,CAAM,qBAAqB,OAAO,CAAA;AAAA,IAC3C,CAAA;AACA,IAAA,SAAA,CAAU,UAAU,MAAM;AACxB,MAAA,cAAA,CAAO,MAAM,qBAAqB,CAAA;AAAA,IACpC,CAAA;AACA,IAAA,SAAA,CAAU,OAAA,GAAU,CAAC,KAAA,KAAU;AAC7B,MAAA,cAAA,CAAO,KAAA,CAAM,uBAAuB,KAAK,CAAA;AAAA,IAC3C,CAAA;AAEA,IAAA,MAAM,MAAA,CAAO,QAAQ,SAAS,CAAA;AAC9B,IAAA,OAAO,MAAA;AAAA,EACT,SAAS,KAAA,EAAO;AACd,IAAA,cAAA,CAAO,KAAA,CAAM,yCAAyC,KAAK,CAAA;AAAA,EAC7D;AACF,CAAA;;;ACvBA,IAAM,IAAA,GAAO,OAAA,CAAQ,IAAA,CAAK,KAAA,CAAM,CAAC,CAAA;AACjC,IAAM,UAAU,IAAA,CAAK,QAAA,CAAS,OAAO,CAAA,IAAK,IAAA,CAAK,SAAS,IAAI,CAAA;AAE5D,eAAe,IAAA,GAAO;AACpB,EAAA,IAAI,MAAA;AACJ,EAAA,IAAI,OAAA,EAAS;AACX,IAAA,MAAA,GAAS,MAAM,cAAA,EAAe;AAAA,EAChC,CAAA,MAAO;AACL,IAAA,MAAA,GAAS,MAAM,gBAAA,EAAiB;AAAA,EAClC;AAEA,EAAA,IAAI,CAAC,MAAA,EAAQ;AACX,IAAA,cAAA,CAAO,MAAM,wBAAwB,CAAA;AACrC,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB;AAEA,EAAA,MAAM,iBAAiB,YAAY;AACjC,IAAA,MAAM,OAAO,KAAA,EAAM;AACnB,IAAA,OAAA,CAAQ,KAAK,CAAC,CAAA;AAAA,EAChB,CAAA;AAEA,EAAA,OAAA,CAAQ,EAAA,CAAG,UAAU,cAAc,CAAA;AACnC,EAAA,OAAA,CAAQ,EAAA,CAAG,WAAW,cAAc,CAAA;AACtC;AAEA,IAAA,EAAK","file":"index.js","sourcesContent":["import * as util from \"node:util\"\n\nenum LogLevel {\n  DEBUG = 0,\n  INFO = 1,\n  WARN = 2,\n  ERROR = 3\n}\n\ntype LogLevelStrings = keyof typeof LogLevel\n\nclass Logger {\n  private static currentLevel: LogLevel = Logger.getLogLevelFromEnv()\n\n  private static getLogLevelFromEnv(): LogLevel {\n    const envLevel = (\n      process.env.LOG_LEVEL || \"INFO\"\n    ).toUpperCase() as LogLevelStrings\n    return LogLevel[envLevel] ?? LogLevel.INFO\n  }\n\n  private static shouldLog(level: LogLevel): boolean {\n    return level >= this.currentLevel\n  }\n\n  private static formatMessage(\n    level: LogLevelStrings,\n    message: string,\n    meta?: any\n  ): string {\n    const timestamp = new Date().toISOString()\n    const metaStr = meta\n      ? \" \" + util.inspect(meta, { depth: 5, colors: true })\n      : \"\"\n    return `[${timestamp}] ${level}: ${message}${metaStr}`\n  }\n\n  static setLogLevel(level: LogLevelStrings) {\n    this.currentLevel = LogLevel[level]\n  }\n\n  static debug(message: string, meta?: any) {\n    if (this.shouldLog(LogLevel.DEBUG)) {\n      console.debug(this.formatMessage(\"DEBUG\", message, meta))\n    }\n  }\n\n  static info(message: string, meta?: any) {\n    if (this.shouldLog(LogLevel.INFO)) {\n      console.info(this.formatMessage(\"INFO\", message, meta))\n    }\n  }\n\n  static warn(message: string, meta?: any) {\n    if (this.shouldLog(LogLevel.WARN)) {\n      console.warn(this.formatMessage(\"WARN\", message, meta))\n    }\n  }\n\n  static error(message: string, meta?: any) {\n    if (this.shouldLog(LogLevel.ERROR)) {\n      console.error(this.formatMessage(\"ERROR\", message, meta))\n    }\n  }\n\n  static getLevel(): LogLevelStrings {\n    return LogLevel[this.currentLevel] as LogLevelStrings\n  }\n}\n\nexport default Logger\n","import { z } from \"zod\"\n\nexport const defaultNetworkParam = z\n  .string()\n  .describe(\n    \"Network name (e.g. 'bsc', 'opbnb', 'ethereum', 'base', etc.) or chain ID. Supports others main popular networks. Defaults to BSC mainnet.\"\n  )\n  .default(\"bsc\")\n\nexport const networkSchema = z\n  .string()\n  .describe(\n    \"Network name (e.g. 'bsc', 'opbnb', 'ethereum', 'base', etc.) or chain ID. Supports others main popular networks. Defaults to BSC mainnet.\"\n  )\n  .optional()\n\nexport const privateKeyParam = z\n  .string()\n  .describe(\n    \"Private key in hex format (with or without 0x prefix). SECURITY: This is used only for address derivation and is not stored. The private key will not be logged or displayed in chat history.\"\n  )\n  .default(process.env.PRIVATE_KEY as string)\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { z } from \"zod\"\n\nimport { networkSchema } from \"../common/types.js\"\n\nexport function registerBlockPrompts(server: McpServer) {\n  // Basic block explorer prompt\n  server.prompt(\n    \"analyze_block\",\n    \"Analyze a block and provide detailed information about its contents\",\n    {\n      blockNumber: z\n        .string()\n        .optional()\n        .describe(\n          \"Block number to explore. If not provided, latest block will be used.\"\n        ),\n      network: networkSchema\n    },\n    ({ blockNumber, network = \"bsc\" }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: blockNumber\n              ? `Please analyze block #${blockNumber} on the ${network} network and provide information about its key metrics, transactions, and significance.`\n              : `Please analyze the latest block on the ${network} network and provide information about its key metrics, transactions, and significance.`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { type Chain } from \"viem\"\nimport {\n  arbitrum,\n  arbitrumSepolia,\n  base,\n  baseSepolia,\n  // Mainnets\n  bsc,\n  bscTestnet,\n  iotex,\n  iotexTestnet,\n  mainnet,\n  opBNB,\n  opBNBTestnet,\n  optimism,\n  optimismSepolia,\n  polygon,\n  polygonAmoy,\n  // Testnets\n  sepolia\n} from \"viem/chains\"\n\n// Default configuration values\nexport const DEFAULT_RPC_URL = \"https://eth.llamarpc.com\"\nexport const DEFAULT_CHAIN_ID = 1\n\n// Map chain IDs to chains\nexport const chainMap: Record<number, Chain> = {\n  // Mainnets\n  1: mainnet,\n  10: optimism,\n  42161: arbitrum,\n  8453: base,\n  137: polygon,\n  56: bsc,\n  204: opBNB,\n  4689: iotex,\n  // Testnets\n  11155111: sepolia,\n  11155420: optimismSepolia,\n  421614: arbitrumSepolia,\n  84532: baseSepolia,\n  80002: polygonAmoy,\n  97: bscTestnet,\n  5611: opBNBTestnet,\n  4690: iotexTestnet\n}\n\n// Map network names to chain IDs for easier reference\nexport const networkNameMap: Record<string, number> = {\n  // Mainnets\n  ethereum: 1,\n  mainnet: 1,\n  eth: 1,\n  optimism: 10,\n  op: 10,\n  arbitrum: 42161,\n  arb: 42161,\n  base: 8453,\n  polygon: 137,\n  matic: 137,\n  binance: 56,\n  bsc: 56,\n  opbnb: 204,\n  iotex: 4689,\n\n  // Testnets\n  sepolia: 11155111,\n  \"optimism-sepolia\": 11155420,\n  optimismsepolia: 11155420,\n  \"arbitrum-sepolia\": 421614,\n  arbitrumsepolia: 421614,\n  \"base-sepolia\": 84532,\n  basesepolia: 84532,\n  \"polygon-amoy\": 80002,\n  polygonamoy: 80002,\n  \"bsc-testnet\": 97,\n  bsctestnet: 97,\n  \"opbnb-testnet\": 5611,\n  opbnbtestnet: 5611,\n  \"iotex-testnet\": 4690,\n  iotextestnet: 4690\n}\n\n// Map chain IDs to RPC URLs\nexport const rpcUrlMap: Record<number, string> = {\n  // Mainnets\n  1: \"https://eth.llamarpc.com\",\n  10: \"https://mainnet.optimism.io\",\n  42161: \"https://arb1.arbitrum.io/rpc\",\n  8453: \"https://mainnet.base.org\",\n  137: \"https://polygon-rpc.com\",\n  56: \"https://bsc-dataseed.binance.org\",\n  204: \"https://opbnb-mainnet-rpc.bnbchain.org\",\n  4689: \"https://babel-api.mainnet.iotex.io\",\n  // Testnets\n  11155111: \"https://eth-sepolia.g.alchemy.com/v2/demo\",\n  11155420: \"https://sepolia.optimism.io\",\n  421614: \"https://sepolia-rollup.arbitrum.io/rpc\",\n  84532: \"https://sepolia.base.org\",\n  80002: \"https://polygon-amoy.infura.io\",\n  97: \"https://data-seed-prebsc-1-s1.binance.org:8545\",\n  5611: \"https://opbnb-testnet-rpc.bnbchain.org\",\n  4690: \"https://babel-api.testnet.iotex.io\"\n}\n\n/**\n * Resolves a chain identifier (number or string) to a chain ID\n * @param chainIdentifier Chain ID (number) or network name (string)\n * @returns The resolved chain ID\n */\nexport function resolveChainId(chainIdentifier: number | string): number {\n  if (typeof chainIdentifier === \"number\") {\n    return chainIdentifier\n  }\n\n  // Convert to lowercase for case-insensitive matching\n  const networkName = chainIdentifier.toLowerCase()\n\n  // Check if the network name is in our map\n  if (networkName in networkNameMap) {\n    return networkNameMap[networkName] as number\n  }\n\n  // Try parsing as a number\n  const parsedId = parseInt(networkName)\n  if (!isNaN(parsedId)) {\n    return parsedId\n  }\n\n  // Default to mainnet if not found\n  return DEFAULT_CHAIN_ID\n}\n\n/**\n * Returns the chain configuration for the specified chain ID or network name\n * @param chainIdentifier Chain ID (number) or network name (string)\n * @returns The chain configuration\n * @throws Error if the network is not supported (when string is provided)\n */\nexport function getChain(\n  chainIdentifier: number | string = DEFAULT_CHAIN_ID\n): Chain {\n  if (typeof chainIdentifier === \"string\") {\n    const networkName = chainIdentifier.toLowerCase()\n    // Try to get from direct network name mapping first\n    if (networkNameMap[networkName]) {\n      return chainMap[networkNameMap[networkName]] || mainnet\n    }\n\n    // If not found, throw an error\n    throw new Error(`Unsupported network: ${chainIdentifier}`)\n  }\n\n  // If it's a number, return the chain from chainMap\n  return chainMap[chainIdentifier] || mainnet\n}\n\n/**\n * Gets the appropriate RPC URL for the specified chain ID or network name\n * @param chainIdentifier Chain ID (number) or network name (string)\n * @returns The RPC URL for the specified chain\n */\nexport function getRpcUrl(\n  chainIdentifier: number | string = DEFAULT_CHAIN_ID\n): string {\n  const chainId =\n    typeof chainIdentifier === \"string\"\n      ? resolveChainId(chainIdentifier)\n      : chainIdentifier\n\n  return rpcUrlMap[chainId] || DEFAULT_RPC_URL\n}\n\n/**\n * Get a list of supported networks\n * @returns Array of supported network names (excluding short aliases)\n */\nexport function getSupportedNetworks(): string[] {\n  return Object.keys(networkNameMap)\n    .filter((name) => name.length > 2) // Filter out short aliases\n    .sort()\n}\n","import {\n  createPublicClient,\n  createWalletClient,\n  http,\n  type Address,\n  type Hex,\n  type PublicClient,\n  type WalletClient\n} from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\n\nimport { getChain, getRpcUrl } from \"../chains.js\"\n\n// Cache for clients to avoid recreating them for each request\nconst clientCache = new Map<string, PublicClient>()\n\n/**\n * Get a public client for a specific network\n */\nexport function getPublicClient(network = \"ethereum\"): PublicClient {\n  const cacheKey = String(network)\n\n  // Return cached client if available\n  if (clientCache.has(cacheKey)) {\n    return clientCache.get(cacheKey)!\n  }\n\n  // Create a new client\n  const chain = getChain(network)\n  const rpcUrl = getRpcUrl(network)\n\n  const client = createPublicClient({\n    chain,\n    transport: http(rpcUrl)\n  })\n\n  // Cache the client\n  clientCache.set(cacheKey, client)\n\n  return client\n}\n\n/**\n * Create a wallet client for a specific network and private key\n */\nexport function getWalletClient(\n  privateKey: Hex,\n  network = \"ethereum\"\n): WalletClient {\n  const chain = getChain(network)\n  const rpcUrl = getRpcUrl(network)\n  const account = privateKeyToAccount(privateKey)\n\n  return createWalletClient({\n    account,\n    chain,\n    transport: http(rpcUrl)\n  })\n}\n\n/**\n * Get an Ethereum address from a private key\n * @param privateKey The private key in hex format (with or without 0x prefix)\n * @returns The Ethereum address derived from the private key\n */\nexport function getAddressFromPrivateKey(privateKey: Hex): Address {\n  const account = privateKeyToAccount(privateKey)\n  return account.address\n}\n","export const ERC20_ABI = [\n  {\n    inputs: [\n      {\n        internalType: \"string\",\n        name: \"_name\",\n        type: \"string\"\n      },\n      {\n        internalType: \"string\",\n        name: \"_symbol\",\n        type: \"string\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"_totalSupply\",\n        type: \"uint256\"\n      }\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"constructor\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"allowance\",\n        type: \"uint256\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"needed\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"ERC20InsufficientAllowance\",\n    type: \"error\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"sender\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"balance\",\n        type: \"uint256\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"needed\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"ERC20InsufficientBalance\",\n    type: \"error\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"approver\",\n        type: \"address\"\n      }\n    ],\n    name: \"ERC20InvalidApprover\",\n    type: \"error\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"receiver\",\n        type: \"address\"\n      }\n    ],\n    name: \"ERC20InvalidReceiver\",\n    type: \"error\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"sender\",\n        type: \"address\"\n      }\n    ],\n    name: \"ERC20InvalidSender\",\n    type: \"error\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\"\n      }\n    ],\n    name: \"ERC20InvalidSpender\",\n    type: \"error\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\"\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"Approval\",\n    type: \"event\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"Transfer\",\n    type: \"event\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\"\n      },\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\"\n      }\n    ],\n    name: \"allowance\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"spender\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"approve\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\"\n      }\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\"\n      }\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"decimals\",\n    outputs: [\n      {\n        internalType: \"uint8\",\n        name: \"\",\n        type: \"uint8\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"name\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"symbol\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"transfer\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\"\n      }\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\"\n      },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"transferFrom\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\"\n      }\n    ],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  }\n] as const\n\n/**\n * ERC20 bytecode generated from Solidity v0.8.20\n// SPDX-License-Identifier: GPL-3.0\npragma solidity ^0.8.20;\n\nimport \"@openzeppelin/contracts/token/ERC20/ERC20.sol\";\n\ncontract BEP20Token is ERC20 {\n    constructor(\n        string memory _name,\n        string memory _symbol,\n        uint256 _totalSupply\n    ) ERC20(_name, _symbol) {\n        _mint(msg.sender, _totalSupply * 10 ** decimals());\n    }\n}\n*/\nexport const ERC20_BYTECODE =\n  \"0x608060405234801561000f575f5ffd5b506040516118df3803806118df833981810160405281019061003191906104b7565b828281600390816100429190610746565b5080600490816100529190610746565b5050506100893361006761009160201b60201c565b600a610073919061097d565b8361007e91906109c7565b61009960201b60201c565b505050610af0565b5f6012905090565b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610109575f6040517fec442f050000000000000000000000000000000000000000000000000000000081526004016101009190610a47565b60405180910390fd5b61011a5f838361011e60201b60201c565b5050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff160361016e578060025f8282546101629190610a60565b9250508190555061023c565b5f5f5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050818110156101f7578381836040517fe450d38c0000000000000000000000000000000000000000000000000000000081526004016101ee93929190610aa2565b60405180910390fd5b8181035f5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610283578060025f82825403925050819055506102cd565b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef8360405161032a9190610ad7565b60405180910390a3505050565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b61039682610350565b810181811067ffffffffffffffff821117156103b5576103b4610360565b5b80604052505050565b5f6103c7610337565b90506103d3828261038d565b919050565b5f67ffffffffffffffff8211156103f2576103f1610360565b5b6103fb82610350565b9050602081019050919050565b8281835e5f83830152505050565b5f610428610423846103d8565b6103be565b9050828152602081018484840111156104445761044361034c565b5b61044f848285610408565b509392505050565b5f82601f83011261046b5761046a610348565b5b815161047b848260208601610416565b91505092915050565b5f819050919050565b61049681610484565b81146104a0575f5ffd5b50565b5f815190506104b18161048d565b92915050565b5f5f5f606084860312156104ce576104cd610340565b5b5f84015167ffffffffffffffff8111156104eb576104ea610344565b5b6104f786828701610457565b935050602084015167ffffffffffffffff81111561051857610517610344565b5b61052486828701610457565b9250506040610535868287016104a3565b9150509250925092565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061058d57607f821691505b6020821081036105a05761059f610549565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026106027fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff826105c7565b61060c86836105c7565b95508019841693508086168417925050509392505050565b5f819050919050565b5f61064761064261063d84610484565b610624565b610484565b9050919050565b5f819050919050565b6106608361062d565b61067461066c8261064e565b8484546105d3565b825550505050565b5f5f905090565b61068b61067c565b610696818484610657565b505050565b5b818110156106b9576106ae5f82610683565b60018101905061069c565b5050565b601f8211156106fe576106cf816105a6565b6106d8846105b8565b810160208510156106e7578190505b6106fb6106f3856105b8565b83018261069b565b50505b505050565b5f82821c905092915050565b5f61071e5f1984600802610703565b1980831691505092915050565b5f610736838361070f565b9150826002028217905092915050565b61074f8261053f565b67ffffffffffffffff81111561076857610767610360565b5b6107728254610576565b61077d8282856106bd565b5f60209050601f8311600181146107ae575f841561079c578287015190505b6107a6858261072b565b86555061080d565b601f1984166107bc866105a6565b5f5b828110156107e3578489015182556001820191506020850194506020810190506107be565b8683101561080057848901516107fc601f89168261070f565b8355505b6001600288020188555050505b505050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f8160011c9050919050565b5f5f8291508390505b60018511156108975780860481111561087357610872610815565b5b60018516156108825780820291505b808102905061089085610842565b9450610857565b94509492505050565b5f826108af576001905061096a565b816108bc575f905061096a565b81600181146108d257600281146108dc5761090b565b600191505061096a565b60ff8411156108ee576108ed610815565b5b8360020a91508482111561090557610904610815565b5b5061096a565b5060208310610133831016604e8410600b84101617156109405782820a90508381111561093b5761093a610815565b5b61096a565b61094d848484600161084e565b9250905081840481111561096457610963610815565b5b81810290505b9392505050565b5f60ff82169050919050565b5f61098782610484565b915061099283610971565b92506109bf7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff84846108a0565b905092915050565b5f6109d182610484565b91506109dc83610484565b92508282026109ea81610484565b91508282048414831517610a0157610a00610815565b5b5092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610a3182610a08565b9050919050565b610a4181610a27565b82525050565b5f602082019050610a5a5f830184610a38565b92915050565b5f610a6a82610484565b9150610a7583610484565b9250828201905080821115610a8d57610a8c610815565b5b92915050565b610a9c81610484565b82525050565b5f606082019050610ab55f830186610a38565b610ac26020830185610a93565b610acf6040830184610a93565b949350505050565b5f602082019050610aea5f830184610a93565b92915050565b610de280610afd5f395ff3fe608060405234801561000f575f5ffd5b5060043610610091575f3560e01c8063313ce56711610064578063313ce5671461013157806370a082311461014f57806395d89b411461017f578063a9059cbb1461019d578063dd62ed3e146101cd57610091565b806306fdde0314610095578063095ea7b3146100b357806318160ddd146100e357806323b872dd14610101575b5f5ffd5b61009d6101fd565b6040516100aa9190610a5b565b60405180910390f35b6100cd60048036038101906100c89190610b0c565b61028d565b6040516100da9190610b64565b60405180910390f35b6100eb6102af565b6040516100f89190610b8c565b60405180910390f35b61011b60048036038101906101169190610ba5565b6102b8565b6040516101289190610b64565b60405180910390f35b6101396102e6565b6040516101469190610c10565b60405180910390f35b61016960048036038101906101649190610c29565b6102ee565b6040516101769190610b8c565b60405180910390f35b610187610333565b6040516101949190610a5b565b60405180910390f35b6101b760048036038101906101b29190610b0c565b6103c3565b6040516101c49190610b64565b60405180910390f35b6101e760048036038101906101e29190610c54565b6103e5565b6040516101f49190610b8c565b60405180910390f35b60606003805461020c90610cbf565b80601f016020809104026020016040519081016040528092919081815260200182805461023890610cbf565b80156102835780601f1061025a57610100808354040283529160200191610283565b820191905f5260205f20905b81548152906001019060200180831161026657829003601f168201915b5050505050905090565b5f5f610297610467565b90506102a481858561046e565b600191505092915050565b5f600254905090565b5f5f6102c2610467565b90506102cf858285610480565b6102da858585610513565b60019150509392505050565b5f6012905090565b5f5f5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050919050565b60606004805461034290610cbf565b80601f016020809104026020016040519081016040528092919081815260200182805461036e90610cbf565b80156103b95780601f10610390576101008083540402835291602001916103b9565b820191905f5260205f20905b81548152906001019060200180831161039c57829003601f168201915b5050505050905090565b5f5f6103cd610467565b90506103da818585610513565b600191505092915050565b5f60015f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905092915050565b5f33905090565b61047b8383836001610603565b505050565b5f61048b84846103e5565b90507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff81101561050d57818110156104fe578281836040517ffb8f41b20000000000000000000000000000000000000000000000000000000081526004016104f593929190610cfe565b60405180910390fd5b61050c84848484035f610603565b5b50505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610583575f6040517f96c6fd1e00000000000000000000000000000000000000000000000000000000815260040161057a9190610d33565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff16036105f3575f6040517fec442f050000000000000000000000000000000000000000000000000000000081526004016105ea9190610d33565b60405180910390fd5b6105fe8383836107d2565b505050565b5f73ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff1603610673575f6040517fe602df0500000000000000000000000000000000000000000000000000000000815260040161066a9190610d33565b60405180910390fd5b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff16036106e3575f6040517f94280d620000000000000000000000000000000000000000000000000000000081526004016106da9190610d33565b60405180910390fd5b8160015f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f208190555080156107cc578273ffffffffffffffffffffffffffffffffffffffff168473ffffffffffffffffffffffffffffffffffffffff167f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925846040516107c39190610b8c565b60405180910390a35b50505050565b5f73ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff1603610822578060025f8282546108169190610d79565b925050819055506108f0565b5f5f5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20549050818110156108ab578381836040517fe450d38c0000000000000000000000000000000000000000000000000000000081526004016108a293929190610cfe565b60405180910390fd5b8181035f5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2081905550505b5f73ffffffffffffffffffffffffffffffffffffffff168273ffffffffffffffffffffffffffffffffffffffff1603610937578060025f8282540392505081905550610981565b805f5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f82825401925050819055505b8173ffffffffffffffffffffffffffffffffffffffff168373ffffffffffffffffffffffffffffffffffffffff167fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef836040516109de9190610b8c565b60405180910390a3505050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f610a2d826109eb565b610a3781856109f5565b9350610a47818560208601610a05565b610a5081610a13565b840191505092915050565b5f6020820190508181035f830152610a738184610a23565b905092915050565b5f5ffd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f610aa882610a7f565b9050919050565b610ab881610a9e565b8114610ac2575f5ffd5b50565b5f81359050610ad381610aaf565b92915050565b5f819050919050565b610aeb81610ad9565b8114610af5575f5ffd5b50565b5f81359050610b0681610ae2565b92915050565b5f5f60408385031215610b2257610b21610a7b565b5b5f610b2f85828601610ac5565b9250506020610b4085828601610af8565b9150509250929050565b5f8115159050919050565b610b5e81610b4a565b82525050565b5f602082019050610b775f830184610b55565b92915050565b610b8681610ad9565b82525050565b5f602082019050610b9f5f830184610b7d565b92915050565b5f5f5f60608486031215610bbc57610bbb610a7b565b5b5f610bc986828701610ac5565b9350506020610bda86828701610ac5565b9250506040610beb86828701610af8565b9150509250925092565b5f60ff82169050919050565b610c0a81610bf5565b82525050565b5f602082019050610c235f830184610c01565b92915050565b5f60208284031215610c3e57610c3d610a7b565b5b5f610c4b84828501610ac5565b91505092915050565b5f5f60408385031215610c6a57610c69610a7b565b5b5f610c7785828601610ac5565b9250506020610c8885828601610ac5565b9150509250929050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680610cd657607f821691505b602082108103610ce957610ce8610c92565b5b50919050565b610cf881610a9e565b82525050565b5f606082019050610d115f830186610cef565b610d1e6020830185610b7d565b610d2b6040830184610b7d565b949350505050565b5f602082019050610d465f830184610cef565b92915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f610d8382610ad9565b9150610d8e83610ad9565b9250828201905080821115610da657610da5610d4c565b5b9291505056fea2646970667358221220eb8d49e37900170cfd6b967605cf1eb67ac6a321ef83cb2ca3a403058f0b090b64736f6c634300081e0033\"\n","import { type Address } from \"viem\"\nimport { normalize } from \"viem/ens\"\n\nimport { getPublicClient } from \"./clients.js\"\n\n/**\n * Resolves an ENS name to an Ethereum address or returns the original address if it's already valid\n * @param addressOrEns An Ethereum address or ENS name\n * @param network The network to use for ENS resolution (defaults to Ethereum mainnet)\n * @returns The resolved Ethereum address\n */\nexport async function resolveAddress(\n  addressOrEns: string,\n  network = \"ethereum\"\n): Promise<Address> {\n  // If it's already a valid Ethereum address (0x followed by 40 hex chars), return it\n  if (/^0x[a-fA-F0-9]{40}$/.test(addressOrEns)) {\n    return addressOrEns as Address\n  }\n\n  // If it looks like an ENS name (contains a dot), try to resolve it\n  if (addressOrEns.includes(\".\")) {\n    try {\n      // Normalize the ENS name first\n      const normalizedEns = normalize(addressOrEns)\n\n      // Get the public client for the network\n      const publicClient = getPublicClient(network)\n\n      // Resolve the ENS name to an address\n      const address = await publicClient.getEnsAddress({\n        name: normalizedEns\n      })\n\n      if (!address) {\n        throw new Error(\n          `ENS name ${addressOrEns} could not be resolved to an address`\n        )\n      }\n\n      return address\n    } catch (error: any) {\n      throw new Error(\n        `Failed to resolve ENS name ${addressOrEns}: ${error.message}`\n      )\n    }\n  }\n\n  // If it's neither a valid address nor an ENS name, throw an error\n  throw new Error(`Invalid address or ENS name: ${addressOrEns}`)\n}\n","import { formatEther, formatUnits, getContract, type Address } from \"viem\"\n\nimport { ERC20_ABI } from \"./abi/erc20.js\"\nimport { getPublicClient } from \"./clients.js\"\nimport { resolveAddress } from \"./ens.js\"\n\n/**\n * Get the ETH balance for an address\n * @param addressOrEns Ethereum address or ENS name\n * @param network Network name or chain ID\n * @returns Balance in wei and ether\n */\nexport async function getNativeBalance(\n  addressOrEns: string,\n  network = \"bsc\"\n): Promise<{\n  raw: bigint\n  formatted: string\n  network: string\n  symbol: string\n  decimals: number\n}> {\n  // Resolve ENS name to address if needed\n  const address = await resolveAddress(addressOrEns, network)\n\n  const client = getPublicClient(network)\n  const balance = await client.getBalance({ address })\n  const nativeCurrency = client.chain?.nativeCurrency\n\n  return {\n    raw: balance,\n    formatted: formatEther(balance),\n    network,\n    symbol: nativeCurrency?.symbol ?? \"Unknown\",\n    decimals: nativeCurrency?.decimals ?? 18\n  }\n}\n\n/**\n * Get the balance of an ERC20 token for an address\n * @param tokenAddressOrEns Token contract address or ENS name\n * @param ownerAddressOrEns Owner address or ENS name\n * @param network Network name or chain ID\n * @returns Token balance with formatting information\n */\nexport async function getERC20Balance(\n  tokenAddressOrEns: string,\n  ownerAddressOrEns: string,\n  network = \"ethereum\"\n): Promise<{\n  raw: bigint\n  formatted: string\n  symbol: string\n  decimals: number\n  network: string\n  tokenAddress: Address\n  ownerAddress: Address\n}> {\n  // Resolve ENS names to addresses if needed\n  const tokenAddress = await resolveAddress(tokenAddressOrEns, network)\n  const ownerAddress = await resolveAddress(ownerAddressOrEns, network)\n\n  const publicClient = getPublicClient(network)\n\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC20_ABI,\n    client: publicClient\n  })\n\n  const [balance, symbol, decimals] = await Promise.all([\n    contract.read.balanceOf([ownerAddress]) as Promise<bigint>,\n    contract.read.symbol() as Promise<string>,\n    contract.read.decimals() as Promise<number>\n  ])\n\n  return {\n    raw: balance,\n    formatted: formatUnits(balance, decimals),\n    symbol,\n    decimals,\n    network,\n    tokenAddress,\n    ownerAddress\n  }\n}\n","export const ERC721_ABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"approved\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"Approval\",\n    type: \"event\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"owner\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      },\n      { indexed: false, internalType: \"bool\", name: \"approved\", type: \"bool\" }\n    ],\n    name: \"ApprovalForAll\",\n    type: \"event\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"address\", name: \"from\", type: \"address\" },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"Transfer\",\n    type: \"event\"\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"to\", type: \"address\" },\n      {\n        internalType: \"uint256\",\n        name: \"tokenId\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"approve\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [\n      {\n        name: \"\",\n        type: \"uint256\"\n      }\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [{ internalType: \"address\", name: \"owner\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ internalType: \"uint256\", name: \"balance\", type: \"uint256\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }],\n    name: \"getApproved\",\n    outputs: [{ internalType: \"address\", name: \"operator\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"owner\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      }\n    ],\n    name: \"isApprovedForAll\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"name\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }],\n    name: \"ownerOf\",\n    outputs: [{ internalType: \"address\", name: \"owner\", type: \"address\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"from\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      { internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }\n    ],\n    name: \"safeTransferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"from\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      { internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\"\n      }\n    ],\n    name: \"safeTransferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"operator\", type: \"address\" },\n      {\n        internalType: \"bool\",\n        name: \"_approved\",\n        type: \"bool\"\n      }\n    ],\n    name: \"setApprovalForAll\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [{ internalType: \"bytes4\", name: \"interfaceId\", type: \"bytes4\" }],\n    name: \"supportsInterface\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"symbol\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [{ internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }],\n    name: \"tokenURI\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      { internalType: \"address\", name: \"from\", type: \"address\" },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      { internalType: \"uint256\", name: \"tokenId\", type: \"uint256\" }\n    ],\n    name: \"transferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  }\n] as const\n","export const ERC1155_ABI = [\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      },\n      {\n        indexed: false,\n        internalType: \"bool\",\n        name: \"approved\",\n        type: \"bool\"\n      }\n    ],\n    name: \"ApprovalForAll\",\n    type: \"event\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        indexed: false,\n        internalType: \"uint256[]\",\n        name: \"ids\",\n        type: \"uint256[]\"\n      },\n      {\n        indexed: false,\n        internalType: \"uint256[]\",\n        name: \"values\",\n        type: \"uint256[]\"\n      }\n    ],\n    name: \"TransferBatch\",\n    type: \"event\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\"\n      },\n      {\n        indexed: true,\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"id\",\n        type: \"uint256\"\n      },\n      {\n        indexed: false,\n        internalType: \"uint256\",\n        name: \"value\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"TransferSingle\",\n    type: \"event\"\n  },\n  {\n    anonymous: false,\n    inputs: [\n      {\n        indexed: false,\n        internalType: \"string\",\n        name: \"value\",\n        type: \"string\"\n      },\n      {\n        indexed: true,\n        internalType: \"uint256\",\n        name: \"id\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"URI\",\n    type: \"event\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"id\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"balanceOf\",\n    outputs: [\n      {\n        internalType: \"uint256\",\n        name: \"\",\n        type: \"uint256\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [],\n    name: \"name\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address[]\",\n        name: \"accounts\",\n        type: \"address[]\"\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"ids\",\n        type: \"uint256[]\"\n      }\n    ],\n    name: \"balanceOfBatch\",\n    outputs: [\n      {\n        internalType: \"uint256[]\",\n        name: \"\",\n        type: \"uint256[]\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"account\",\n        type: \"address\"\n      },\n      {\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      }\n    ],\n    name: \"isApprovedForAll\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\"\n      },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"ids\",\n        type: \"uint256[]\"\n      },\n      {\n        internalType: \"uint256[]\",\n        name: \"amounts\",\n        type: \"uint256[]\"\n      },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\"\n      }\n    ],\n    name: \"safeBatchTransferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"from\",\n        type: \"address\"\n      },\n      {\n        internalType: \"address\",\n        name: \"to\",\n        type: \"address\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"id\",\n        type: \"uint256\"\n      },\n      {\n        internalType: \"uint256\",\n        name: \"amount\",\n        type: \"uint256\"\n      },\n      {\n        internalType: \"bytes\",\n        name: \"data\",\n        type: \"bytes\"\n      }\n    ],\n    name: \"safeTransferFrom\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"address\",\n        name: \"operator\",\n        type: \"address\"\n      },\n      {\n        internalType: \"bool\",\n        name: \"approved\",\n        type: \"bool\"\n      }\n    ],\n    name: \"setApprovalForAll\",\n    outputs: [],\n    stateMutability: \"nonpayable\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"bytes4\",\n        name: \"interfaceId\",\n        type: \"bytes4\"\n      }\n    ],\n    name: \"supportsInterface\",\n    outputs: [\n      {\n        internalType: \"bool\",\n        name: \"\",\n        type: \"bool\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  },\n  {\n    inputs: [\n      {\n        internalType: \"uint256\",\n        name: \"id\",\n        type: \"uint256\"\n      }\n    ],\n    name: \"uri\",\n    outputs: [\n      {\n        internalType: \"string\",\n        name: \"\",\n        type: \"string\"\n      }\n    ],\n    stateMutability: \"view\",\n    type: \"function\"\n  }\n] as const\n","import {\n  getContract,\n  parseEther,\n  parseUnits,\n  type Address,\n  type Hash,\n  type Hex\n} from \"viem\"\n\nimport { ERC20_ABI } from \"./abi/erc20.js\"\nimport { ERC721_ABI } from \"./abi/erc721.js\"\nimport { ERC1155_ABI } from \"./abi/erc1155.js\"\nimport { getPublicClient, getWalletClient } from \"./clients.js\"\nimport { resolveAddress } from \"./ens.js\"\n\n/**\n * Transfer ETH to an address\n * @param privateKey Sender's private key\n * @param toAddressOrEns Recipient address or ENS name\n * @param amount Amount to send in ETH\n * @param network Network name or chain ID\n * @returns Transaction hash\n */\nexport async function transferETH(\n  privateKey: string | Hex,\n  toAddressOrEns: string,\n  amount: string, // in ether\n  network = \"ethereum\"\n): Promise<Hash> {\n  // Resolve ENS name to address if needed\n  const toAddress = await resolveAddress(toAddressOrEns, network)\n\n  // Ensure the private key has 0x prefix\n  const formattedKey =\n    typeof privateKey === \"string\" && !privateKey.startsWith(\"0x\")\n      ? (`0x${privateKey}` as Hex)\n      : (privateKey as Hex)\n\n  const client = getWalletClient(formattedKey, network)\n  const amountWei = parseEther(amount)\n\n  return client.sendTransaction({\n    to: toAddress,\n    value: amountWei,\n    account: client.account!,\n    chain: client.chain\n  })\n}\n\n/**\n * Transfer ERC20 tokens to an address\n * @param tokenAddressOrEns Token contract address or ENS name\n * @param toAddressOrEns Recipient address or ENS name\n * @param amount Amount to send (in token units)\n * @param privateKey Sender's private key\n * @param network Network name or chain ID\n * @returns Transaction details\n */\nexport async function transferERC20(\n  tokenAddressOrEns: string,\n  toAddressOrEns: string,\n  amount: string,\n  privateKey: string | `0x${string}`,\n  network: string = \"ethereum\"\n): Promise<{\n  txHash: Hash\n  amount: {\n    raw: bigint\n    formatted: string\n  }\n  token: {\n    symbol: string\n    decimals: number\n  }\n}> {\n  // Resolve ENS names to addresses if needed\n  const tokenAddress = (await resolveAddress(\n    tokenAddressOrEns,\n    network\n  )) as Address\n  const toAddress = (await resolveAddress(toAddressOrEns, network)) as Address\n\n  // Ensure the private key has 0x prefix\n  const formattedKey =\n    typeof privateKey === \"string\" && !privateKey.startsWith(\"0x\")\n      ? (`0x${privateKey}` as `0x${string}`)\n      : (privateKey as `0x${string}`)\n\n  // Get token details\n  const publicClient = getPublicClient(network)\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC20_ABI,\n    client: publicClient\n  })\n\n  // Get token decimals and symbol\n  const decimals = (await contract.read.decimals()) as number\n  const symbol = (await contract.read.symbol()) as string\n\n  // Parse the amount with the correct number of decimals\n  const rawAmount = parseUnits(amount, decimals)\n\n  // Create wallet client for sending the transaction\n  const walletClient = getWalletClient(formattedKey, network)\n\n  // Send the transaction\n  const hash = await walletClient.writeContract({\n    address: tokenAddress,\n    abi: ERC20_ABI,\n    functionName: \"transfer\",\n    args: [toAddress, rawAmount],\n    account: walletClient.account!,\n    chain: walletClient.chain\n  })\n\n  return {\n    txHash: hash,\n    amount: {\n      raw: rawAmount,\n      formatted: amount\n    },\n    token: {\n      symbol,\n      decimals\n    }\n  }\n}\n\n/**\n * Approve ERC20 token spending\n * @param tokenAddressOrEns Token contract address or ENS name\n * @param spenderAddressOrEns Spender address or ENS name\n * @param amount Amount to approve (in token units)\n * @param privateKey Owner's private key\n * @param network Network name or chain ID\n * @returns Transaction details\n */\nexport async function approveERC20(\n  tokenAddressOrEns: string,\n  spenderAddressOrEns: string,\n  amount: string,\n  privateKey: string | `0x${string}`,\n  network: string = \"ethereum\"\n): Promise<{\n  txHash: Hash\n  amount: {\n    raw: bigint\n    formatted: string\n  }\n  token: {\n    symbol: string\n    decimals: number\n  }\n}> {\n  // Resolve ENS names to addresses if needed\n  const tokenAddress = (await resolveAddress(\n    tokenAddressOrEns,\n    network\n  )) as Address\n  const spenderAddress = (await resolveAddress(\n    spenderAddressOrEns,\n    network\n  )) as Address\n\n  // Ensure the private key has 0x prefix\n  const formattedKey =\n    typeof privateKey === \"string\" && !privateKey.startsWith(\"0x\")\n      ? (`0x${privateKey}` as `0x${string}`)\n      : (privateKey as `0x${string}`)\n\n  // Get token details\n  const publicClient = getPublicClient(network)\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC20_ABI,\n    client: publicClient\n  })\n\n  // Get token decimals and symbol\n  const decimals = (await contract.read.decimals()) as number\n  const symbol = (await contract.read.symbol()) as string\n\n  // Parse the amount with the correct number of decimals\n  const rawAmount = parseUnits(amount, decimals)\n\n  // Create wallet client for sending the transaction\n  const walletClient = getWalletClient(formattedKey, network)\n\n  // Send the transaction\n  const hash = await walletClient.writeContract({\n    address: tokenAddress,\n    abi: ERC20_ABI,\n    functionName: \"approve\",\n    args: [spenderAddress, rawAmount],\n    account: walletClient.account!,\n    chain: walletClient.chain\n  })\n\n  return {\n    txHash: hash,\n    amount: {\n      raw: rawAmount,\n      formatted: amount\n    },\n    token: {\n      symbol,\n      decimals\n    }\n  }\n}\n\n/**\n * Transfer an NFT to an address\n * @param tokenAddressOrEns NFT contract address or ENS name\n * @param toAddressOrEns Recipient address or ENS name\n * @param tokenId Token ID to transfer\n * @param privateKey Owner's private key\n * @param network Network name or chain ID\n * @returns Transaction details\n */\nexport async function transferERC721(\n  tokenAddressOrEns: string,\n  toAddressOrEns: string,\n  tokenId: bigint,\n  privateKey: string | `0x${string}`,\n  network: string = \"ethereum\"\n): Promise<{\n  txHash: Hash\n  tokenId: string\n  token: {\n    name: string\n    symbol: string\n  }\n}> {\n  // Resolve ENS names to addresses if needed\n  const tokenAddress = (await resolveAddress(\n    tokenAddressOrEns,\n    network\n  )) as Address\n  const toAddress = (await resolveAddress(toAddressOrEns, network)) as Address\n\n  // Ensure the private key has 0x prefix\n  const formattedKey =\n    typeof privateKey === \"string\" && !privateKey.startsWith(\"0x\")\n      ? (`0x${privateKey}` as `0x${string}`)\n      : (privateKey as `0x${string}`)\n\n  // Get token details\n  const publicClient = getPublicClient(network)\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC721_ABI,\n    client: publicClient\n  })\n\n  // Get token name and symbol\n  const name = (await contract.read.name()) as string\n  const symbol = (await contract.read.symbol()) as string\n\n  // Create wallet client for sending the transaction\n  const walletClient = getWalletClient(formattedKey, network)\n\n  // Send the transaction\n  const hash = await walletClient.writeContract({\n    address: tokenAddress,\n    abi: ERC721_ABI,\n    functionName: \"transferFrom\",\n    args: [walletClient.account!.address, toAddress, tokenId],\n    account: walletClient.account!,\n    chain: walletClient.chain\n  })\n\n  return {\n    txHash: hash,\n    tokenId: tokenId.toString(),\n    token: {\n      name,\n      symbol\n    }\n  }\n}\n\n/**\n * Transfer ERC1155 tokens to an address\n * @param tokenAddressOrEns Token contract address or ENS name\n * @param toAddressOrEns Recipient address or ENS name\n * @param tokenId Token ID to transfer\n * @param amount Amount of tokens to transfer\n * @param privateKey Owner's private key\n * @param network Network name or chain ID\n * @returns Transaction details\n */\nexport async function transferERC1155(\n  tokenAddressOrEns: string,\n  toAddressOrEns: string,\n  tokenId: bigint,\n  amount: string,\n  privateKey: string | `0x${string}`,\n  network: string = \"ethereum\"\n): Promise<{\n  txHash: Hash\n  tokenId: string\n  amount: string\n}> {\n  // Resolve ENS names to addresses if needed\n  const tokenAddress = (await resolveAddress(\n    tokenAddressOrEns,\n    network\n  )) as Address\n  const toAddress = (await resolveAddress(toAddressOrEns, network)) as Address\n\n  // Ensure the private key has 0x prefix\n  const formattedKey =\n    typeof privateKey === \"string\" && !privateKey.startsWith(\"0x\")\n      ? (`0x${privateKey}` as `0x${string}`)\n      : (privateKey as `0x${string}`)\n\n  // Create wallet client for sending the transaction\n  const walletClient = getWalletClient(formattedKey, network)\n\n  // Send the transaction\n  const hash = await walletClient.writeContract({\n    address: tokenAddress,\n    abi: ERC1155_ABI,\n    functionName: \"safeTransferFrom\",\n    args: [\n      walletClient.account!.address,\n      toAddress,\n      tokenId,\n      BigInt(amount),\n      \"0x\" as `0x${string}`\n    ],\n    account: walletClient.account!,\n    chain: walletClient.chain\n  })\n\n  return {\n    txHash: hash,\n    tokenId: tokenId.toString(),\n    amount\n  }\n}\n","import { type Block, type Hash } from \"viem\"\n\nimport { getPublicClient } from \"./clients.js\"\n\n/**\n * Get the current block number for a specific network\n */\nexport async function getBlockNumber(network = \"ethereum\"): Promise<bigint> {\n  const client = getPublicClient(network)\n  return await client.getBlockNumber()\n}\n\n/**\n * Get a block by number for a specific network\n */\nexport async function getBlockByNumber(\n  blockNumber: number,\n  network = \"ethereum\"\n): Promise<Block> {\n  const client = getPublicClient(network)\n  return await client.getBlock({ blockNumber: BigInt(blockNumber) })\n}\n\n/**\n * Get a block by hash for a specific network\n */\nexport async function getBlockByHash(\n  blockHash: Hash,\n  network = \"ethereum\"\n): Promise<Block> {\n  const client = getPublicClient(network)\n  return await client.getBlock({ blockHash })\n}\n\n/**\n * Get the latest block for a specific network\n */\nexport async function getLatestBlock(network = \"ethereum\"): Promise<Block> {\n  const client = getPublicClient(network)\n  return await client.getBlock()\n}\n","import {\n  type Address,\n  type EstimateGasParameters,\n  type Hash,\n  type TransactionReceipt\n} from \"viem\"\n\nimport { getPublicClient } from \"./clients.js\"\n\n/**\n * Get a transaction by hash for a specific network\n */\nexport async function getTransaction(hash: Hash, network = \"ethereum\") {\n  const client = getPublicClient(network)\n  return await client.getTransaction({ hash })\n}\n\n/**\n * Get a transaction receipt by hash for a specific network\n */\nexport async function getTransactionReceipt(\n  hash: Hash,\n  network = \"ethereum\"\n): Promise<TransactionReceipt> {\n  const client = getPublicClient(network)\n  return await client.getTransactionReceipt({ hash })\n}\n\n/**\n * Get the transaction count for an address for a specific network\n */\nexport async function getTransactionCount(\n  address: Address,\n  network = \"ethereum\"\n): Promise<number> {\n  const client = getPublicClient(network)\n  const count = await client.getTransactionCount({ address })\n  return Number(count)\n}\n\n/**\n * Estimate gas for a transaction for a specific network\n */\nexport async function estimateGas(\n  params: EstimateGasParameters,\n  network = \"ethereum\"\n): Promise<bigint> {\n  const client = getPublicClient(network)\n  return await client.estimateGas(params)\n}\n\n/**\n * Get the chain ID for a specific network\n */\nexport async function getChainId(network = \"ethereum\"): Promise<number> {\n  const client = getPublicClient(network)\n  const chainId = await client.getChainId()\n  return Number(chainId)\n}\n","import {\n  type GetLogsParameters,\n  type Hash,\n  type Hex,\n  type Log,\n  type ReadContractParameters\n} from \"viem\"\n\nimport { getPublicClient, getWalletClient } from \"./clients.js\"\nimport { resolveAddress } from \"./ens.js\"\n\n/**\n * Read from a contract for a specific network\n */\nexport async function readContract(\n  params: ReadContractParameters,\n  network = \"ethereum\"\n) {\n  const client = getPublicClient(network)\n  return await client.readContract(params)\n}\n\n/**\n * Write to a contract for a specific network\n */\nexport async function writeContract(\n  privateKey: Hex,\n  params: Record<string, any>,\n  network = \"ethereum\"\n): Promise<Hash> {\n  const client = getWalletClient(privateKey, network)\n  return await client.writeContract(params as any)\n}\n\n/**\n * Get logs for a specific network\n */\nexport async function getLogs(\n  params: GetLogsParameters,\n  network = \"ethereum\"\n): Promise<Log[]> {\n  const client = getPublicClient(network)\n  return await client.getLogs(params)\n}\n\n/**\n * Check if an address is a contract\n * @param addressOrEns Address or ENS name to check\n * @param network Network name or chain ID\n * @returns True if the address is a contract, false if it's an EOA\n */\nexport async function isContract(\n  addressOrEns: string,\n  network = \"ethereum\"\n): Promise<boolean> {\n  // Resolve ENS name to address if needed\n  const address = await resolveAddress(addressOrEns, network)\n\n  const client = getPublicClient(network)\n  const code = await client.getCode({ address })\n  return code !== undefined && code !== \"0x\"\n}\n","import { formatUnits, getContract, parseUnits, type Address } from \"viem\"\n\nimport Logger from \"@/utils/logger.js\"\nimport { ERC20_ABI, ERC20_BYTECODE } from \"./abi/erc20.js\"\nimport { ERC721_ABI } from \"./abi/erc721.js\"\nimport { ERC1155_ABI } from \"./abi/erc1155.js\"\nimport { getPublicClient, getWalletClient } from \"./clients.js\"\nimport { isContract } from \"./contracts.js\"\n\n/**\n * Get ERC20 token information\n */\nexport async function getERC20TokenInfo(\n  tokenAddress: Address,\n  network: string = \"ethereum\"\n): Promise<{\n  name: string\n  symbol: string\n  decimals: number\n  totalSupply: bigint\n  formattedTotalSupply: string\n}> {\n  const publicClient = getPublicClient(network)\n  const isContractAddr = await isContract(tokenAddress, network)\n  if (!isContractAddr) {\n    throw new Error(\"Token address is not a contract\")\n  }\n\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC20_ABI,\n    client: publicClient\n  })\n\n  const [name, symbol, decimals, totalSupply] = await Promise.all([\n    contract.read.name() as Promise<string>,\n    contract.read.symbol() as Promise<string>,\n    contract.read.decimals() as Promise<number>,\n    contract.read.totalSupply() as Promise<bigint>\n  ])\n\n  return {\n    name,\n    symbol,\n    decimals,\n    totalSupply,\n    formattedTotalSupply: formatUnits(totalSupply, decimals)\n  }\n}\n\n/**\n * Get ERC721 token metadata\n */\nexport async function getERC721TokenMetadata(\n  tokenAddress: Address,\n  tokenId: bigint,\n  network: string = \"ethereum\"\n): Promise<{\n  id: bigint\n  name: string\n  symbol: string\n  tokenURI: string\n  owner: Address\n  totalSupply: bigint\n  network: string\n  contractAddress: Address\n}> {\n  const publicClient = getPublicClient(network)\n  const isContractAddr = await isContract(tokenAddress, network)\n  if (!isContractAddr) {\n    throw new Error(\"Token address is not a contract\")\n  }\n\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC721_ABI,\n    client: publicClient\n  })\n\n  const [name, symbol, tokenURI, owner, totalSupply] = await Promise.all([\n    contract.read.name() as Promise<string>,\n    contract.read.symbol() as Promise<string>,\n    contract.read.tokenURI([tokenId]) as Promise<string>,\n    contract.read.ownerOf([tokenId]) as Promise<Address>,\n    contract.read.totalSupply() as Promise<bigint>\n  ])\n\n  return {\n    id: tokenId,\n    name,\n    symbol,\n    tokenURI,\n    owner,\n    totalSupply,\n    network,\n    contractAddress: tokenAddress\n  }\n}\n\n/**\n * Get ERC1155 token URI\n */\nexport async function getERC1155TokenMetadata(\n  tokenAddress: Address,\n  tokenId: bigint,\n  network: string = \"ethereum\"\n): Promise<{\n  id: bigint\n  name: string\n  tokenURI: string\n  network: string\n  contractAddress: Address\n}> {\n  const publicClient = getPublicClient(network)\n  const isContractAddr = await isContract(tokenAddress, network)\n  if (!isContractAddr) {\n    throw new Error(\"Token address is not a contract\")\n  }\n\n  const contract = getContract({\n    address: tokenAddress,\n    abi: ERC1155_ABI,\n    client: publicClient\n  })\n\n  const [name, uri] = await Promise.all([\n    contract.read.name() as Promise<string>,\n    contract.read.uri([tokenId]) as Promise<string>\n  ])\n\n  return {\n    id: tokenId,\n    name,\n    tokenURI: uri,\n    network,\n    contractAddress: tokenAddress\n  }\n}\n\n/**\n * Create a new ERC20 token\n * @param name The name of the token\n * @param symbol The symbol/ticker of the token\n * @param privateKey The private key of the deployer account\n * @param network The network to deploy on (default: \"bsc\")\n * @param totalSupply The total supply of tokens to mint (default: \"1000000000\")\n * @returns {Promise<{hash: string, name: string, symbol: string, owner: string, totalSupply: bigint}>} The transaction hash, token details and owner address\n */\nexport const createERC20Token = async ({\n  name,\n  symbol,\n  privateKey,\n  totalSupply = \"1000000000\", // default 1 billion\n  network = \"bsc\"\n}: {\n  name: string\n  symbol: string\n  privateKey: `0x${string}`\n  network: string\n  totalSupply?: string\n}) => {\n  const client = getWalletClient(privateKey, network)\n  const supply = BigInt(totalSupply)\n  const hash = await client.deployContract({\n    abi: ERC20_ABI,\n    bytecode: ERC20_BYTECODE,\n    args: [name, symbol, supply],\n    account: client.account!,\n    chain: client.chain\n  })\n\n  Logger.info(`Deployed new ERC20 token (${name} - ${symbol}): ${hash}`)\n  return {\n    hash,\n    name,\n    symbol,\n    totalSupply: supply,\n    owner: client.account!.address\n  }\n}\n","import { formatEther, parseEther } from \"viem\"\n\n/**\n * Utility functions for formatting and parsing values\n */\nexport const utils = {\n  // Convert ether to wei\n  parseEther,\n\n  // Convert wei to ether\n  formatEther,\n\n  // Format a bigint to a string\n  formatBigInt: (value: bigint): string => value.toString(),\n\n  // Format an object to JSON with bigint handling\n  formatJson: (obj: unknown): string =>\n    JSON.stringify(\n      obj,\n      (_, value) => (typeof value === \"bigint\" ? value.toString() : value),\n      2\n    ),\n\n  // Format a number with commas\n  formatNumber: (value: number | string): string => {\n    return Number(value).toLocaleString()\n  },\n\n  // Convert a hex string to a number\n  hexToNumber: (hex: string): number => {\n    return parseInt(hex, 16)\n  },\n\n  // Convert a number to a hex string\n  numberToHex: (num: number): string => {\n    return \"0x\" + num.toString(16)\n  }\n}\n","/**\n * Custom replacer function for JSON.stringify that handles BigInt\n * @param _key The current key being processed\n * @param value The value to process\n * @returns The processed value\n */\nconst bigIntReplacer = (_key: string, value: any) => {\n  // Handle BigInt specifically\n  if (typeof value === \"bigint\") {\n    return value.toString()\n  }\n  // Return other values as-is\n  return value\n}\n\n/**\n * Safely stringify any JSON value, including those with BigInt\n * @param value The value to stringify\n * @param space Number of spaces to use for indentation (optional)\n * @returns A JSON string representation of the value\n */\nexport const safeStringify = (value: any, space?: number): string => {\n  try {\n    return JSON.stringify(value, bigIntReplacer, space)\n  } catch (error) {\n    // If there's still an error, return a fallback string\n    console.error(\"Error in safeStringify:\", error)\n    return JSON.stringify({ error: \"Unable to stringify value\" })\n  }\n}\n\n/**\n * Safely parse a JSON string\n * @param text The JSON string to parse\n * @returns The parsed value\n */\nexport const safeParse = (text: string): any => {\n  try {\n    return JSON.parse(text)\n  } catch (error) {\n    console.error(\"Error in safeParse:\", error)\n    return null\n  }\n}\n\nexport const mcpToolRes = {\n  // Unified error handling\n  error: (error: unknown, operation: string) => {\n    return {\n      content: [\n        {\n          type: \"text\" as const,\n          text: `Error ${operation}: ${error instanceof Error ? error.message : String(error)}`\n        }\n      ]\n    }\n  },\n  // Unified response formatting\n  success: (data: unknown) => {\n    return {\n      content: [\n        {\n          type: \"text\" as const,\n          text: safeStringify(data, 2)\n        }\n      ]\n    }\n  }\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Hash } from \"viem\"\nimport { z } from \"zod\"\n\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\nimport { defaultNetworkParam } from \"../common/types\"\n\nexport function registerBlockTools(server: McpServer) {\n  // Get block by hash for a specific network\n  server.tool(\n    \"get_block_by_hash\",\n    \"Get a block by hash\",\n    {\n      blockHash: z.string().describe(\"The block hash to look up\"),\n      network: defaultNetworkParam\n    },\n    async ({ network, blockHash }) => {\n      try {\n        const block = await services.getBlockByHash(blockHash as Hash, network)\n        return mcpToolRes.success(block)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching block by hash\")\n      }\n    }\n  )\n\n  // Get block by number for a specific network\n  server.tool(\n    \"get_block_by_number\",\n    \"Get a block by number\",\n    {\n      blockNumber: z.string().describe(\"The block number to look up\"),\n      network: defaultNetworkParam\n    },\n    async ({ network, blockNumber }) => {\n      try {\n        const block = await services.getBlockByNumber(\n          parseInt(blockNumber),\n          network\n        )\n        return mcpToolRes.success(block)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching block by number\")\n      }\n    }\n  )\n\n  // Get latest block for a specific network\n  server.tool(\n    \"get_latest_block\",\n    \"Get the latest block\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const block = await services.getLatestBlock(network)\n        return mcpToolRes.success(block)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching latest block\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerBlockPrompts } from \"./prompts.js\"\nimport { registerBlockTools } from \"./tools.js\"\n\nexport function registerBlocks(server: McpServer) {\n  registerBlockPrompts(server)\n  registerBlockTools(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\nimport { z } from \"zod\"\n\nimport { getPublicClient, getWalletClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam, privateKeyParam } from \"../common/types.js\"\n\n// Bridge protocol configurations\nconst BRIDGE_CONFIGS: Record<string, {\n  name: string\n  supportedChains: number[]\n  estimateTime: string\n  contractAddresses: Record<number, Address>\n}> = {\n  stargate: {\n    name: \"Stargate\",\n    supportedChains: [1, 56, 137, 42161, 10, 8453, 43114],\n    estimateTime: \"10-30 minutes\",\n    contractAddresses: {\n      1: \"0x8731d54E9D02c286767d56ac03e8037C07e01e98\",\n      56: \"0x4a364f8c717cAAD9A442737Eb7b8A55cc6cf18D8\",\n      137: \"0x45A01E4e04F14f7A4a6702c74187c5F6222033cd\",\n      42161: \"0x53Bf833A5d6c4ddA888F69c22C88C9f356a41614\",\n      10: \"0xB0D502E938ed5f4df2E681fE6E419ff29631d62b\"\n    }\n  },\n  layerzero: {\n    name: \"LayerZero\",\n    supportedChains: [1, 56, 137, 42161, 10, 8453, 43114, 250],\n    estimateTime: \"5-20 minutes\",\n    contractAddresses: {\n      1: \"0x66A71Dcef29A0fFBDBE3c6a460a3B5BC225Cd675\",\n      56: \"0x3c2269811836af69497E5F486A85D7316753cf62\",\n      137: \"0x3c2269811836af69497E5F486A85D7316753cf62\",\n      42161: \"0x3c2269811836af69497E5F486A85D7316753cf62\"\n    }\n  },\n  wormhole: {\n    name: \"Wormhole\",\n    supportedChains: [1, 56, 137, 42161, 10, 43114, 250],\n    estimateTime: \"15-30 minutes\",\n    contractAddresses: {\n      1: \"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B\",\n      56: \"0x98f3c9e6E3fAce36bAAd05FE09d375Ef1464288B\",\n      137: \"0x7A4B5a56256163F07b2C80A7cA55aBE66c4ec4d7\"\n    }\n  },\n  across: {\n    name: \"Across\",\n    supportedChains: [1, 137, 42161, 10, 8453],\n    estimateTime: \"2-10 minutes\",\n    contractAddresses: {\n      1: \"0x5c7BCd6E7De5423a257D81B442095A1a6ced35C5\",\n      137: \"0x9295ee1d8C5b022Be115A2AD3c30C72E34e7F096\",\n      42161: \"0xe35e9842fceaCA96570B734083f4a58e8F7C5f2A\"\n    }\n  }\n}\n\n// Chain ID to name mapping\nconst CHAIN_NAMES: Record<number, string> = {\n  1: \"ethereum\",\n  56: \"bsc\",\n  137: \"polygon\",\n  42161: \"arbitrum\",\n  10: \"optimism\",\n  8453: \"base\",\n  43114: \"avalanche\",\n  250: \"fantom\"\n}\n\n// Standard bridge interface ABI (simplified)\nconst BRIDGE_ABI = [\n  {\n    name: \"swap\",\n    type: \"function\",\n    inputs: [\n      { name: \"_dstChainId\", type: \"uint16\" },\n      { name: \"_srcPoolId\", type: \"uint256\" },\n      { name: \"_dstPoolId\", type: \"uint256\" },\n      { name: \"_refundAddress\", type: \"address\" },\n      { name: \"_amountLD\", type: \"uint256\" },\n      { name: \"_minAmountLD\", type: \"uint256\" },\n      { name: \"_lzTxParams\", type: \"tuple\" },\n      { name: \"_to\", type: \"bytes\" },\n      { name: \"_payload\", type: \"bytes\" }\n    ],\n    outputs: []\n  },\n  {\n    name: \"quoteLayerZeroFee\",\n    type: \"function\",\n    inputs: [\n      { name: \"_dstChainId\", type: \"uint16\" },\n      { name: \"_functionType\", type: \"uint8\" },\n      { name: \"_toAddress\", type: \"bytes\" },\n      { name: \"_transferAndCallPayload\", type: \"bytes\" },\n      { name: \"_lzTxParams\", type: \"tuple\" }\n    ],\n    outputs: [\n      { name: \"nativeFee\", type: \"uint256\" },\n      { name: \"zroFee\", type: \"uint256\" }\n    ]\n  }\n] as const\n\nexport function registerBridgeTools(server: McpServer) {\n  // Get bridge quote\n  server.tool(\n    \"get_bridge_quote\",\n    \"Get a quote for bridging tokens across chains\",\n    {\n      token: z.string().describe(\"Token address to bridge\"),\n      amount: z.string().describe(\"Amount to bridge (in wei)\"),\n      sourceChain: z.string().describe(\"Source chain (e.g., 'ethereum', 'bsc')\"),\n      destChain: z.string().describe(\"Destination chain\"),\n      bridge: z.string().optional().describe(\"Specific bridge to use (stargate, layerzero, wormhole, across)\")\n    },\n    async ({ token, amount, sourceChain, destChain, bridge }) => {\n      try {\n        const sourceChainId = Object.entries(CHAIN_NAMES).find(([_, name]) => name === sourceChain)?.[0]\n        const destChainId = Object.entries(CHAIN_NAMES).find(([_, name]) => name === destChain)?.[0]\n        \n        if (!sourceChainId || !destChainId) {\n          return mcpToolRes.error(new Error(\"Invalid chain name\"), \"getting bridge quote\")\n        }\n\n        // Get quotes from available bridges\n        const quotes: Array<{\n          bridge: string\n          estimatedOutput: string\n          fee: string\n          estimatedTime: string\n          supported: boolean\n        }> = []\n\n        for (const [bridgeName, config] of Object.entries(BRIDGE_CONFIGS)) {\n          if (bridge && bridge !== bridgeName) continue\n          \n          const isSupported = config.supportedChains.includes(Number(sourceChainId)) && \n                             config.supportedChains.includes(Number(destChainId))\n          \n          if (isSupported) {\n            // Simplified fee calculation (actual would query contracts)\n            const fee = (BigInt(amount) * BigInt(3)) / BigInt(1000) // 0.3% fee estimate\n            \n            quotes.push({\n              bridge: config.name,\n              estimatedOutput: (BigInt(amount) - fee).toString(),\n              fee: fee.toString(),\n              estimatedTime: config.estimateTime,\n              supported: true\n            })\n          }\n        }\n\n        // Sort by best output\n        quotes.sort((a, b) => BigInt(b.estimatedOutput) > BigInt(a.estimatedOutput) ? 1 : -1)\n\n        return mcpToolRes.success({\n          token,\n          amount,\n          sourceChain,\n          destChain,\n          quotes,\n          bestBridge: quotes[0]?.bridge || null,\n          warning: quotes.length === 0 ? \"No bridges support this route\" : null\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting bridge quote\")\n      }\n    }\n  )\n\n  // Execute bridge transfer\n  server.tool(\n    \"execute_bridge\",\n    \"Execute a cross-chain bridge transfer\",\n    {\n      token: z.string().describe(\"Token address to bridge\"),\n      amount: z.string().describe(\"Amount to bridge (in wei)\"),\n      sourceChain: defaultNetworkParam,\n      destChain: z.string().describe(\"Destination chain\"),\n      bridge: z.string().describe(\"Bridge to use (stargate, layerzero, wormhole, across)\"),\n      privateKey: privateKeyParam,\n      recipient: z.string().optional().describe(\"Recipient address on destination chain (defaults to sender)\")\n    },\n    async ({ token, amount, sourceChain, destChain, bridge, privateKey, recipient }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        const walletClient = getWalletClient(privateKey as Hex, sourceChain)\n        const publicClient = getPublicClient(sourceChain)\n        \n        const bridgeConfig = BRIDGE_CONFIGS[bridge.toLowerCase()]\n        if (!bridgeConfig) {\n          return mcpToolRes.error(new Error(`Bridge ${bridge} not supported`), \"executing bridge\")\n        }\n\n        const chainId = await publicClient.getChainId()\n        const bridgeAddress = bridgeConfig.contractAddresses[chainId]\n        \n        if (!bridgeAddress) {\n          return mcpToolRes.error(new Error(`Bridge ${bridge} not available on ${sourceChain}`), \"executing bridge\")\n        }\n\n        const recipientAddress = recipient || account.address\n\n        // Note: Actual bridge execution would require proper encoding per bridge protocol\n        // This is a simplified representation\n        return mcpToolRes.success({\n          status: \"pending\",\n          message: `Bridge transaction prepared via ${bridgeConfig.name}`,\n          details: {\n            token,\n            amount,\n            sourceChain,\n            destChain,\n            bridge: bridgeConfig.name,\n            bridgeContract: bridgeAddress,\n            recipient: recipientAddress,\n            estimatedTime: bridgeConfig.estimateTime\n          },\n          note: \"Actual execution requires bridge-specific transaction encoding\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"executing bridge\")\n      }\n    }\n  )\n\n  // Get bridge transaction status\n  server.tool(\n    \"get_bridge_status\",\n    \"Track the status of a bridge transaction\",\n    {\n      txHash: z.string().describe(\"Source chain transaction hash\"),\n      sourceChain: defaultNetworkParam,\n      bridge: z.string().describe(\"Bridge protocol used\")\n    },\n    async ({ txHash, sourceChain, bridge }) => {\n      try {\n        const publicClient = getPublicClient(sourceChain)\n        \n        // Get source transaction\n        const receipt = await publicClient.getTransactionReceipt({ hash: txHash as Hex })\n        \n        return mcpToolRes.success({\n          txHash,\n          sourceChain,\n          bridge,\n          sourceStatus: receipt.status === \"success\" ? \"confirmed\" : \"failed\",\n          sourceBlockNumber: receipt.blockNumber.toString(),\n          sourceConfirmations: \"confirmed\",\n          destinationStatus: \"pending\", // Would need bridge-specific API to track\n          estimatedCompletion: BRIDGE_CONFIGS[bridge.toLowerCase()]?.estimateTime || \"unknown\",\n          note: \"For detailed destination status, check the respective bridge explorer\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting bridge status\")\n      }\n    }\n  )\n\n  // Get supported bridges\n  server.tool(\n    \"get_supported_bridges\",\n    \"List all supported bridge protocols and their capabilities\",\n    {\n      sourceChain: z.string().optional().describe(\"Filter by source chain support\"),\n      destChain: z.string().optional().describe(\"Filter by destination chain support\")\n    },\n    async ({ sourceChain, destChain }) => {\n      try {\n        const sourceChainId = sourceChain ? \n          Object.entries(CHAIN_NAMES).find(([_, name]) => name === sourceChain)?.[0] : null\n        const destChainId = destChain ?\n          Object.entries(CHAIN_NAMES).find(([_, name]) => name === destChain)?.[0] : null\n\n        const bridges = Object.entries(BRIDGE_CONFIGS).map(([key, config]) => {\n          const supportedChainNames = config.supportedChains.map(id => CHAIN_NAMES[id] || `Chain ${id}`)\n          \n          let supported = true\n          if (sourceChainId && !config.supportedChains.includes(Number(sourceChainId))) supported = false\n          if (destChainId && !config.supportedChains.includes(Number(destChainId))) supported = false\n\n          return {\n            id: key,\n            name: config.name,\n            supportedChains: supportedChainNames,\n            estimatedTime: config.estimateTime,\n            supportsRoute: supported\n          }\n        })\n\n        return mcpToolRes.success({\n          bridges: sourceChain || destChain ? bridges.filter(b => b.supportsRoute) : bridges,\n          totalCount: bridges.length,\n          filteredBy: { sourceChain, destChain }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting supported bridges\")\n      }\n    }\n  )\n\n  // Estimate bridge time\n  server.tool(\n    \"estimate_bridge_time\",\n    \"Estimate how long a bridge transfer will take\",\n    {\n      sourceChain: z.string().describe(\"Source chain\"),\n      destChain: z.string().describe(\"Destination chain\"),\n      bridge: z.string().optional().describe(\"Specific bridge (returns all if not specified)\")\n    },\n    async ({ sourceChain, destChain, bridge }) => {\n      try {\n        const estimates: Array<{ bridge: string; estimatedTime: string; factors: string[] }> = []\n\n        for (const [key, config] of Object.entries(BRIDGE_CONFIGS)) {\n          if (bridge && key !== bridge.toLowerCase()) continue\n          \n          estimates.push({\n            bridge: config.name,\n            estimatedTime: config.estimateTime,\n            factors: [\n              \"Source chain finality\",\n              \"Bridge protocol verification\",\n              \"Destination chain confirmation\"\n            ]\n          })\n        }\n\n        return mcpToolRes.success({\n          sourceChain,\n          destChain,\n          estimates,\n          note: \"Times vary based on network congestion and bridge-specific requirements\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"estimating bridge time\")\n      }\n    }\n  )\n\n  // Get bridge fees breakdown\n  server.tool(\n    \"get_bridge_fees\",\n    \"Get detailed fee breakdown for a bridge transfer\",\n    {\n      token: z.string().describe(\"Token to bridge\"),\n      amount: z.string().describe(\"Amount in wei\"),\n      sourceChain: z.string().describe(\"Source chain\"),\n      destChain: z.string().describe(\"Destination chain\"),\n      bridge: z.string().describe(\"Bridge protocol\")\n    },\n    async ({ token, amount, sourceChain, destChain, bridge }) => {\n      try {\n        const bridgeConfig = BRIDGE_CONFIGS[bridge.toLowerCase()]\n        if (!bridgeConfig) {\n          return mcpToolRes.error(new Error(`Bridge ${bridge} not found`), \"getting bridge fees\")\n        }\n\n        // Simplified fee calculation\n        const protocolFee = (BigInt(amount) * BigInt(3)) / BigInt(1000) // 0.3%\n        const lpFee = (BigInt(amount) * BigInt(1)) / BigInt(1000) // 0.1%\n        const gasEstimate = \"0.01\" // Native token\n\n        return mcpToolRes.success({\n          bridge: bridgeConfig.name,\n          token,\n          amount,\n          sourceChain,\n          destChain,\n          fees: {\n            protocolFee: protocolFee.toString(),\n            protocolFeePercent: \"0.3%\",\n            lpFee: lpFee.toString(),\n            lpFeePercent: \"0.1%\",\n            estimatedGas: gasEstimate,\n            totalFees: (protocolFee + lpFee).toString()\n          },\n          netAmount: (BigInt(amount) - protocolFee - lpFee).toString(),\n          note: \"Actual fees may vary based on current liquidity and gas prices\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting bridge fees\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerBridgePrompts(server: McpServer) {\n  server.prompt(\n    \"analyze_bridge_route\",\n    \"Analyze and recommend the best bridge route for a cross-chain transfer\",\n    {\n      token: { description: \"Token to bridge\", required: true },\n      amount: { description: \"Amount to bridge\", required: true },\n      sourceChain: { description: \"Source blockchain\", required: true },\n      destChain: { description: \"Destination blockchain\", required: true }\n    },\n    ({ token, amount, sourceChain, destChain }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze the best bridge options for transferring ${amount} of token ${token} from ${sourceChain} to ${destChain}.\n\nPlease use the available bridge tools to:\n1. Get quotes from all supported bridges using get_bridge_quote\n2. Compare fees across bridges using get_bridge_fees\n3. Check estimated transfer times with estimate_bridge_time\n4. List all supported bridges for this route with get_supported_bridges\n\nProvide a comprehensive recommendation considering:\n- Total fees (protocol + LP + gas)\n- Transfer speed\n- Security/reliability of the bridge\n- Historical success rate\n- Liquidity depth\n\nFormat your response as:\n## Bridge Route Analysis\n### Route: ${sourceChain}  ${destChain}\n### Token: ${token}\n### Amount: ${amount}\n\n#### Available Bridges\n[Table of bridges with fees, times, and scores]\n\n#### Recommendation\n[Your recommended bridge with reasoning]\n\n#### Risk Considerations\n[Any risks or considerations for this transfer]`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"bridge_portfolio\",\n    \"Help user bridge assets across multiple chains for portfolio optimization\",\n    {\n      wallet: { description: \"Wallet address to analyze\", required: true },\n      targetChain: { description: \"Target chain to consolidate assets\", required: true }\n    },\n    ({ wallet, targetChain }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze the portfolio of wallet ${wallet} and provide recommendations for consolidating assets to ${targetChain}.\n\nUse available tools to:\n1. Check token balances across all supported chains\n2. Get bridge quotes for each asset\n3. Calculate total fees for consolidation\n4. Estimate total time for all transfers\n\nProvide:\n## Portfolio Consolidation Plan\n\n### Current Holdings\n[List assets on each chain]\n\n### Bridge Plan\n[Step-by-step plan to bridge assets to ${targetChain}]\n\n### Fee Summary\n- Total bridge fees\n- Total gas fees\n- Net value after bridging\n\n### Execution Order\n[Recommended order to execute bridges for efficiency]\n\n### Warnings\n[Any tokens that cannot be bridged or have low liquidity]`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerBridgeTools } from \"./tools.js\"\nimport { registerBridgePrompts } from \"./prompts.js\"\n\nexport function registerBridge(server: McpServer) {\n  registerBridgeTools(server)\n  registerBridgePrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { z } from \"zod\"\n\nimport { networkSchema } from \"../common/types.js\"\n\nexport function registerContractPrompts(server: McpServer) {\n  // Smart contract interaction guidance\n  server.prompt(\n    \"interact_with_contract\",\n    \"Get guidance on interacting with a smart contract\",\n    {\n      contractAddress: z.string().describe(\"The contract address\"),\n      abiJson: z\n        .string()\n        .optional()\n        .describe(\"The contract ABI as a JSON string\"),\n      network: networkSchema\n    },\n    ({ contractAddress, abiJson, network = \"bsc\" }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: abiJson\n              ? `I need to interact with the smart contract at address ${contractAddress} on the ${network} network. Here's the ABI:\\n\\n${abiJson}\\n\\nPlease analyze this contract's functions and provide guidance on how to interact with it safely. Explain what each function does and what parameters it requires.`\n              : `I need to interact with the smart contract at address ${contractAddress} on the ${network} network. Please help me understand what this contract does and how I can interact with it safely.`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { z } from \"zod\"\n\nimport { defaultNetworkParam } from \"@/evm/modules/common/types.js\"\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\n\nexport function registerContractTools(server: McpServer) {\n  // Check if address is contract\n  server.tool(\n    \"is_contract\",\n    \"Check if an address is a smart contract or an externally owned account (EOA)\",\n    {\n      address: z.string().describe(\"The wallet or contract address to check\"),\n      network: defaultNetworkParam\n    },\n    async ({ address, network = \"bsc\" }) => {\n      try {\n        const isContract = await services.isContract(\n          address as Address,\n          network\n        )\n\n        return mcpToolRes.success({\n          address,\n          network,\n          isContract,\n          type: isContract ? \"Contract\" : \"EOA\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"checking contract status\")\n      }\n    }\n  )\n\n  // Read contract data\n  server.tool(\n    \"read_contract\",\n    \"Read data from a smart contract by calling a view/pure function\",\n    {\n      contractAddress: z\n        .string()\n        .describe(\"The address of the smart contract to interact with\"),\n      abi: z\n        .array(z.any())\n        .describe(\"The ABI of the smart contract function, as a JSON array\"),\n      functionName: z\n        .string()\n        .describe(\"The name of the function to call on the contract\"),\n      args: z\n        .array(z.any())\n        .optional()\n        .describe(\"The arguments to pass to the function\"),\n      network: defaultNetworkParam\n    },\n    async ({ contractAddress, abi, functionName, args = [], network }) => {\n      try {\n        // Parse ABI if it's a string\n        const parsedAbi = typeof abi === \"string\" ? JSON.parse(abi) : abi\n\n        const params = {\n          address: contractAddress as Address,\n          abi: parsedAbi,\n          functionName,\n          args\n        }\n\n        const result = await services.readContract(params, network)\n\n        return mcpToolRes.success(result)\n      } catch (error) {\n        return mcpToolRes.error(error, \"reading contract\")\n      }\n    }\n  )\n\n  // Write to contract\n  server.tool(\n    \"write_contract\",\n    \"Write data to a smart contract by calling a state-changing function\",\n    {\n      contractAddress: z\n        .string()\n        .describe(\"The address of the smart contract to interact with\"),\n      abi: z\n        .array(z.any())\n        .describe(\"The ABI of the smart contract function, as a JSON array\"),\n      functionName: z\n        .string()\n        .describe(\"The name of the function to call on the contract\"),\n      args: z.array(z.any()).describe(\"The arguments to pass to the function\"),\n      privateKey: z\n        .string()\n        .describe(\n          \"Private key of the sending account. Used only for transaction signing.\"\n        )\n        .default(process.env.PRIVATE_KEY as string),\n      network: defaultNetworkParam\n    },\n    async ({\n      contractAddress,\n      abi,\n      functionName,\n      args,\n      privateKey,\n      network = \"bsc\"\n    }) => {\n      try {\n        // Parse ABI if it's a string\n        const parsedAbi = typeof abi === \"string\" ? JSON.parse(abi) : abi\n\n        const contractParams: Record<string, any> = {\n          address: contractAddress as Address,\n          abi: parsedAbi,\n          functionName,\n          args\n        }\n\n        const txHash = await services.writeContract(\n          privateKey as Hex,\n          contractParams,\n          network\n        )\n\n        return mcpToolRes.success({\n          contractAddress,\n          functionName,\n          args,\n          transactionHash: txHash,\n          message: \"Contract write transaction sent successfully\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"writing to contract\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerContractPrompts } from \"./prompts.js\"\nimport { registerContractTools } from \"./tools.js\"\n\nexport function registerContracts(server: McpServer) {\n  registerContractPrompts(server)\n  registerContractTools(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { namehash, labelhash, normalize } from \"viem/ens\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// ENS Registry and Resolver ABIs\nconst ENS_REGISTRY_ABI = [\n  {\n    name: \"owner\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"node\", type: \"bytes32\" }],\n    outputs: [{ name: \"\", type: \"address\" }]\n  },\n  {\n    name: \"resolver\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"node\", type: \"bytes32\" }],\n    outputs: [{ name: \"\", type: \"address\" }]\n  },\n  {\n    name: \"ttl\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"node\", type: \"bytes32\" }],\n    outputs: [{ name: \"\", type: \"uint64\" }]\n  }\n] as const\n\nconst ENS_RESOLVER_ABI = [\n  {\n    name: \"addr\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"node\", type: \"bytes32\" }],\n    outputs: [{ name: \"\", type: \"address\" }]\n  },\n  {\n    name: \"text\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [\n      { name: \"node\", type: \"bytes32\" },\n      { name: \"key\", type: \"string\" }\n    ],\n    outputs: [{ name: \"\", type: \"string\" }]\n  },\n  {\n    name: \"contenthash\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"node\", type: \"bytes32\" }],\n    outputs: [{ name: \"\", type: \"bytes\" }]\n  }\n] as const\n\n// ENS contract addresses\nconst ENS_CONTRACTS: Record<number, { registry: Address }> = {\n  1: { registry: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\" },\n  5: { registry: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\" }, // Goerli\n  11155111: { registry: \"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e\" } // Sepolia\n}\n\n// Space ID for BNB Chain\nconst SPACE_ID_CONTRACTS: Record<number, { registry: Address }> = {\n  56: { registry: \"0x08CEd32a7f3eeC915Ba84415e9C07a7286977956\" }\n}\n\nexport function registerDomainsTools(server: McpServer) {\n  // Resolve ENS name to address\n  server.tool(\n    \"resolve_ens_name\",\n    \"Resolve an ENS name to its Ethereum address\",\n    {\n      name: z.string().describe(\"ENS name (e.g., 'vitalik.eth')\"),\n      network: z.string().optional().describe(\"Network (default: ethereum)\")\n    },\n    async ({ name, network = \"ethereum\" }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Use viem's built-in ENS resolution\n        const address = await publicClient.getEnsAddress({ name: normalize(name) })\n        \n        if (!address) {\n          return mcpToolRes.success({\n            name,\n            resolved: false,\n            address: null,\n            message: \"ENS name does not resolve to an address\"\n          })\n        }\n\n        return mcpToolRes.success({\n          name,\n          resolved: true,\n          address,\n          namehash: namehash(normalize(name))\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"resolving ENS name\")\n      }\n    }\n  )\n\n  // Reverse resolve address to ENS name\n  server.tool(\n    \"reverse_resolve_address\",\n    \"Get the ENS name for an Ethereum address (reverse lookup)\",\n    {\n      address: z.string().describe(\"Ethereum address\"),\n      network: z.string().optional().describe(\"Network (default: ethereum)\")\n    },\n    async ({ address, network = \"ethereum\" }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const name = await publicClient.getEnsName({ address: address as Address })\n        \n        return mcpToolRes.success({\n          address,\n          hasEnsName: !!name,\n          ensName: name || null\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"reverse resolving address\")\n      }\n    }\n  )\n\n  // Get ENS text records\n  server.tool(\n    \"get_ens_text_records\",\n    \"Get text records for an ENS name (avatar, twitter, email, etc.)\",\n    {\n      name: z.string().describe(\"ENS name\"),\n      records: z.array(z.string()).optional().describe(\"Specific records to fetch (default: common ones)\")\n    },\n    async ({ name, records }) => {\n      try {\n        const publicClient = getPublicClient(\"ethereum\")\n        const normalizedName = normalize(name)\n        \n        const defaultRecords = [\n          \"avatar\",\n          \"description\",\n          \"display\",\n          \"email\",\n          \"keywords\",\n          \"mail\",\n          \"notice\",\n          \"location\",\n          \"phone\",\n          \"url\",\n          \"com.twitter\",\n          \"com.github\",\n          \"com.discord\",\n          \"org.telegram\"\n        ]\n\n        const recordsToFetch = records || defaultRecords\n        const textRecords: Record<string, string | null> = {}\n\n        for (const key of recordsToFetch) {\n          try {\n            const value = await publicClient.getEnsText({ name: normalizedName, key })\n            if (value) {\n              textRecords[key] = value\n            }\n          } catch {\n            // Record doesn't exist or error\n          }\n        }\n\n        return mcpToolRes.success({\n          name: normalizedName,\n          textRecords,\n          recordsFound: Object.keys(textRecords).length\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting ENS text records\")\n      }\n    }\n  )\n\n  // Get ENS avatar\n  server.tool(\n    \"get_ens_avatar\",\n    \"Get the avatar URL for an ENS name\",\n    {\n      name: z.string().describe(\"ENS name\")\n    },\n    async ({ name }) => {\n      try {\n        const publicClient = getPublicClient(\"ethereum\")\n        const normalizedName = normalize(name)\n        \n        const avatar = await publicClient.getEnsAvatar({ name: normalizedName })\n        \n        return mcpToolRes.success({\n          name: normalizedName,\n          hasAvatar: !!avatar,\n          avatarUrl: avatar || null\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting ENS avatar\")\n      }\n    }\n  )\n\n  // Check ENS name availability\n  server.tool(\n    \"check_ens_availability\",\n    \"Check if an ENS name is available for registration\",\n    {\n      name: z.string().describe(\"ENS name to check (without .eth)\")\n    },\n    async ({ name }) => {\n      try {\n        const publicClient = getPublicClient(\"ethereum\")\n        const fullName = name.endsWith(\".eth\") ? name : `${name}.eth`\n        const normalizedName = normalize(fullName)\n        \n        // Try to resolve - if it fails or returns null, might be available\n        const address = await publicClient.getEnsAddress({ name: normalizedName })\n        \n        return mcpToolRes.success({\n          name: normalizedName,\n          isRegistered: !!address,\n          currentOwner: address || null,\n          available: !address,\n          note: address \n            ? \"This name is already registered\" \n            : \"Name may be available (verify on ENS app)\"\n        })\n      } catch (error) {\n        // If resolution fails completely, name might be available\n        return mcpToolRes.success({\n          name: name.endsWith(\".eth\") ? name : `${name}.eth`,\n          isRegistered: false,\n          available: true,\n          note: \"Name appears to be available (verify on ENS app)\"\n        })\n      }\n    }\n  )\n\n  // Get ENS name details\n  server.tool(\n    \"get_ens_name_details\",\n    \"Get comprehensive details about an ENS name\",\n    {\n      name: z.string().describe(\"ENS name\")\n    },\n    async ({ name }) => {\n      try {\n        const publicClient = getPublicClient(\"ethereum\")\n        const normalizedName = normalize(name)\n        const node = namehash(normalizedName)\n        const chainId = await publicClient.getChainId()\n        \n        const ensContracts = ENS_CONTRACTS[chainId]\n        if (!ensContracts) {\n          return mcpToolRes.error(new Error(\"ENS not available on this network\"), \"getting ENS details\")\n        }\n\n        // Get basic info\n        const [address, resolver, owner] = await Promise.all([\n          publicClient.getEnsAddress({ name: normalizedName }).catch(() => null),\n          publicClient.readContract({\n            address: ensContracts.registry,\n            abi: ENS_REGISTRY_ABI,\n            functionName: \"resolver\",\n            args: [node]\n          }).catch(() => null),\n          publicClient.readContract({\n            address: ensContracts.registry,\n            abi: ENS_REGISTRY_ABI,\n            functionName: \"owner\",\n            args: [node]\n          }).catch(() => null)\n        ])\n\n        // Get avatar\n        const avatar = await publicClient.getEnsAvatar({ name: normalizedName }).catch(() => null)\n\n        return mcpToolRes.success({\n          name: normalizedName,\n          namehash: node,\n          details: {\n            resolvedAddress: address,\n            owner,\n            resolver,\n            avatar\n          },\n          isRegistered: !!owner && owner !== \"0x0000000000000000000000000000000000000000\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting ENS name details\")\n      }\n    }\n  )\n\n  // Lookup multiple addresses\n  server.tool(\n    \"batch_resolve_addresses\",\n    \"Reverse resolve multiple addresses to ENS names\",\n    {\n      addresses: z.array(z.string()).describe(\"Array of Ethereum addresses\")\n    },\n    async ({ addresses }) => {\n      try {\n        const publicClient = getPublicClient(\"ethereum\")\n        \n        const results: Array<{ address: string; ensName: string | null }> = []\n\n        for (const address of addresses) {\n          try {\n            const name = await publicClient.getEnsName({ address: address as Address })\n            results.push({ address, ensName: name || null })\n          } catch {\n            results.push({ address, ensName: null })\n          }\n        }\n\n        const resolved = results.filter(r => r.ensName !== null).length\n\n        return mcpToolRes.success({\n          results,\n          summary: {\n            total: addresses.length,\n            resolved,\n            notResolved: addresses.length - resolved\n          }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"batch resolving addresses\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerDomainsPrompts(server: McpServer) {\n  server.prompt(\n    \"ens_profile_lookup\",\n    \"Get a complete ENS profile for a name or address\",\n    {\n      identifier: { description: \"ENS name or Ethereum address\", required: true }\n    },\n    ({ identifier }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Get the complete ENS profile for: ${identifier}\n\nIf it's an address, first do a reverse lookup.\nThen get all available information:\n\n1. Use resolve_ens_name or reverse_resolve_address\n2. Get text records with get_ens_text_records\n3. Get avatar with get_ens_avatar\n4. Get full details with get_ens_name_details\n\nFormat as:\n## ENS Profile\n\n### Identity\n- Name: [ENS name]\n- Address: [Resolved address]\n\n### Avatar\n[Avatar URL or \"No avatar set\"]\n\n### Social Links\n[Twitter, GitHub, Discord, etc.]\n\n### Other Records\n[Any other text records found]`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"identify_addresses\",\n    \"Identify multiple addresses by their ENS names\",\n    {\n      addresses: { description: \"Comma-separated list of addresses\", required: true }\n    },\n    ({ addresses }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Identify these addresses by their ENS names: ${addresses}\n\nUse batch_resolve_addresses to look up all addresses at once.\n\nPresent results as:\n| Address | ENS Name | \n|---------|----------|\n[Results]`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerDomainsTools } from \"./tools.js\"\nimport { registerDomainsPrompts } from \"./prompts.js\"\n\nexport function registerDomains(server: McpServer) {\n  registerDomainsTools(server)\n  registerDomainsPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { decodeEventLog, parseAbiItem, keccak256, toHex } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Common event signatures\nconst COMMON_EVENTS: Record<string, { signature: string; topic: Hex }> = {\n  Transfer: {\n    signature: \"Transfer(address,address,uint256)\",\n    topic: keccak256(toHex(\"Transfer(address,address,uint256)\"))\n  },\n  Approval: {\n    signature: \"Approval(address,address,uint256)\",\n    topic: keccak256(toHex(\"Approval(address,address,uint256)\"))\n  },\n  Swap: {\n    signature: \"Swap(address,uint256,uint256,uint256,uint256,address)\",\n    topic: keccak256(toHex(\"Swap(address,uint256,uint256,uint256,uint256,address)\"))\n  },\n  Sync: {\n    signature: \"Sync(uint112,uint112)\",\n    topic: keccak256(toHex(\"Sync(uint112,uint112)\"))\n  },\n  Deposit: {\n    signature: \"Deposit(address,uint256)\",\n    topic: keccak256(toHex(\"Deposit(address,uint256)\"))\n  },\n  Withdrawal: {\n    signature: \"Withdrawal(address,uint256)\",\n    topic: keccak256(toHex(\"Withdrawal(address,uint256)\"))\n  }\n}\n\n// ERC20 Transfer event ABI\nconst TRANSFER_EVENT_ABI = parseAbiItem(\"event Transfer(address indexed from, address indexed to, uint256 value)\")\nconst APPROVAL_EVENT_ABI = parseAbiItem(\"event Approval(address indexed owner, address indexed spender, uint256 value)\")\n\nexport function registerEventsTools(server: McpServer) {\n  // Get logs by contract\n  server.tool(\n    \"get_contract_logs\",\n    \"Get event logs from a specific contract\",\n    {\n      network: defaultNetworkParam,\n      contractAddress: z.string().describe(\"Contract address to get logs from\"),\n      fromBlock: z.string().optional().describe(\"Start block (default: latest - 1000)\"),\n      toBlock: z.string().optional().describe(\"End block (default: latest)\"),\n      eventSignature: z.string().optional().describe(\"Event signature to filter (e.g., 'Transfer(address,address,uint256)')\")\n    },\n    async ({ network, contractAddress, fromBlock, toBlock, eventSignature }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const latestBlock = await publicClient.getBlockNumber()\n        \n        const from = fromBlock ? BigInt(fromBlock) : latestBlock - 1000n\n        const to = toBlock ? BigInt(toBlock) : latestBlock\n\n        let topics: [Hex] | undefined\n        if (eventSignature) {\n          topics = [keccak256(toHex(eventSignature))]\n        }\n\n        const logs = await publicClient.getLogs({\n          address: contractAddress as Address,\n          fromBlock: from,\n          toBlock: to,\n          topics\n        })\n\n        return mcpToolRes.success({\n          network,\n          contractAddress,\n          fromBlock: from.toString(),\n          toBlock: to.toString(),\n          eventFilter: eventSignature || \"all\",\n          logsCount: logs.length,\n          logs: logs.slice(0, 100).map(log => ({\n            blockNumber: log.blockNumber?.toString(),\n            transactionHash: log.transactionHash,\n            logIndex: log.logIndex,\n            topics: log.topics,\n            data: log.data\n          })),\n          truncated: logs.length > 100\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting contract logs\")\n      }\n    }\n  )\n\n  // Get ERC20 transfers\n  server.tool(\n    \"get_erc20_transfers\",\n    \"Get ERC20 token transfer events\",\n    {\n      network: defaultNetworkParam,\n      tokenAddress: z.string().describe(\"Token contract address\"),\n      fromAddress: z.string().optional().describe(\"Filter by sender\"),\n      toAddress: z.string().optional().describe(\"Filter by recipient\"),\n      fromBlock: z.string().optional().describe(\"Start block\"),\n      toBlock: z.string().optional().describe(\"End block\"),\n      limit: z.number().optional().describe(\"Max results (default: 50)\")\n    },\n    async ({ network, tokenAddress, fromAddress, toAddress, fromBlock, toBlock, limit = 50 }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const latestBlock = await publicClient.getBlockNumber()\n        \n        const from = fromBlock ? BigInt(fromBlock) : latestBlock - 5000n\n        const to = toBlock ? BigInt(toBlock) : latestBlock\n\n        // Build topics filter\n        const topics: [Hex, Hex | null, Hex | null] = [\n          COMMON_EVENTS.Transfer.topic,\n          fromAddress ? `0x000000000000000000000000${fromAddress.slice(2).toLowerCase()}` as Hex : null,\n          toAddress ? `0x000000000000000000000000${toAddress.slice(2).toLowerCase()}` as Hex : null\n        ]\n\n        const logs = await publicClient.getLogs({\n          address: tokenAddress as Address,\n          fromBlock: from,\n          toBlock: to,\n          topics\n        })\n\n        const transfers = logs.slice(0, limit).map(log => {\n          try {\n            const decoded = decodeEventLog({\n              abi: [TRANSFER_EVENT_ABI],\n              data: log.data,\n              topics: log.topics\n            })\n            return {\n              blockNumber: log.blockNumber?.toString(),\n              transactionHash: log.transactionHash,\n              from: (decoded.args as any).from,\n              to: (decoded.args as any).to,\n              value: (decoded.args as any).value.toString()\n            }\n          } catch {\n            return {\n              blockNumber: log.blockNumber?.toString(),\n              transactionHash: log.transactionHash,\n              raw: { topics: log.topics, data: log.data }\n            }\n          }\n        })\n\n        return mcpToolRes.success({\n          network,\n          tokenAddress,\n          filters: { fromAddress, toAddress },\n          blockRange: { from: from.toString(), to: to.toString() },\n          totalFound: logs.length,\n          transfers,\n          truncated: logs.length > limit\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting ERC20 transfers\")\n      }\n    }\n  )\n\n  // Get approval events\n  server.tool(\n    \"get_approval_events\",\n    \"Get ERC20 approval events for a token or address\",\n    {\n      network: defaultNetworkParam,\n      tokenAddress: z.string().optional().describe(\"Token contract address\"),\n      ownerAddress: z.string().optional().describe(\"Filter by token owner\"),\n      spenderAddress: z.string().optional().describe(\"Filter by spender\"),\n      fromBlock: z.string().optional().describe(\"Start block\"),\n      toBlock: z.string().optional().describe(\"End block\")\n    },\n    async ({ network, tokenAddress, ownerAddress, spenderAddress, fromBlock, toBlock }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const latestBlock = await publicClient.getBlockNumber()\n        \n        const from = fromBlock ? BigInt(fromBlock) : latestBlock - 5000n\n        const to = toBlock ? BigInt(toBlock) : latestBlock\n\n        const topics: [Hex, Hex | null, Hex | null] = [\n          COMMON_EVENTS.Approval.topic,\n          ownerAddress ? `0x000000000000000000000000${ownerAddress.slice(2).toLowerCase()}` as Hex : null,\n          spenderAddress ? `0x000000000000000000000000${spenderAddress.slice(2).toLowerCase()}` as Hex : null\n        ]\n\n        const logs = await publicClient.getLogs({\n          address: tokenAddress as Address | undefined,\n          fromBlock: from,\n          toBlock: to,\n          topics\n        })\n\n        const approvals = logs.slice(0, 100).map(log => {\n          try {\n            const decoded = decodeEventLog({\n              abi: [APPROVAL_EVENT_ABI],\n              data: log.data,\n              topics: log.topics\n            })\n            return {\n              blockNumber: log.blockNumber?.toString(),\n              transactionHash: log.transactionHash,\n              tokenAddress: log.address,\n              owner: (decoded.args as any).owner,\n              spender: (decoded.args as any).spender,\n              value: (decoded.args as any).value.toString()\n            }\n          } catch {\n            return {\n              blockNumber: log.blockNumber?.toString(),\n              transactionHash: log.transactionHash,\n              tokenAddress: log.address,\n              raw: true\n            }\n          }\n        })\n\n        return mcpToolRes.success({\n          network,\n          filters: { tokenAddress, ownerAddress, spenderAddress },\n          blockRange: { from: from.toString(), to: to.toString() },\n          totalFound: logs.length,\n          approvals,\n          truncated: logs.length > 100\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting approval events\")\n      }\n    }\n  )\n\n  // Get logs by topic\n  server.tool(\n    \"get_logs_by_topic\",\n    \"Get logs filtered by event topic hash\",\n    {\n      network: defaultNetworkParam,\n      topic0: z.string().describe(\"Primary topic (event signature hash)\"),\n      topic1: z.string().optional().describe(\"Second indexed parameter\"),\n      topic2: z.string().optional().describe(\"Third indexed parameter\"),\n      contractAddress: z.string().optional().describe(\"Contract address filter\"),\n      fromBlock: z.string().optional().describe(\"Start block\"),\n      toBlock: z.string().optional().describe(\"End block\")\n    },\n    async ({ network, topic0, topic1, topic2, contractAddress, fromBlock, toBlock }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const latestBlock = await publicClient.getBlockNumber()\n        \n        const from = fromBlock ? BigInt(fromBlock) : latestBlock - 1000n\n        const to = toBlock ? BigInt(toBlock) : latestBlock\n\n        const topics: (Hex | null)[] = [\n          topic0 as Hex,\n          topic1 ? topic1 as Hex : null,\n          topic2 ? topic2 as Hex : null\n        ]\n\n        const logs = await publicClient.getLogs({\n          address: contractAddress as Address | undefined,\n          fromBlock: from,\n          toBlock: to,\n          topics: topics as [Hex, ...Hex[]]\n        })\n\n        return mcpToolRes.success({\n          network,\n          topics: { topic0, topic1, topic2 },\n          contractAddress,\n          blockRange: { from: from.toString(), to: to.toString() },\n          logsCount: logs.length,\n          logs: logs.slice(0, 100).map(log => ({\n            address: log.address,\n            blockNumber: log.blockNumber?.toString(),\n            transactionHash: log.transactionHash,\n            topics: log.topics,\n            data: log.data\n          })),\n          truncated: logs.length > 100\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting logs by topic\")\n      }\n    }\n  )\n\n  // Get common event topics\n  server.tool(\n    \"get_event_topics\",\n    \"Get topic hashes for common events\",\n    {\n      eventName: z.string().optional().describe(\"Specific event name (Transfer, Approval, Swap, etc.)\")\n    },\n    async ({ eventName }) => {\n      try {\n        if (eventName) {\n          const event = COMMON_EVENTS[eventName]\n          if (!event) {\n            return mcpToolRes.error(new Error(`Unknown event: ${eventName}`), \"getting event topic\")\n          }\n          return mcpToolRes.success({\n            event: eventName,\n            signature: event.signature,\n            topic: event.topic\n          })\n        }\n\n        const events = Object.entries(COMMON_EVENTS).map(([name, data]) => ({\n          name,\n          signature: data.signature,\n          topic: data.topic\n        }))\n\n        return mcpToolRes.success({ events })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting event topics\")\n      }\n    }\n  )\n\n  // Calculate event signature\n  server.tool(\n    \"calculate_event_signature\",\n    \"Calculate the keccak256 topic hash for an event signature\",\n    {\n      signature: z.string().describe(\"Event signature (e.g., 'Transfer(address,address,uint256)')\")\n    },\n    async ({ signature }) => {\n      try {\n        const topic = keccak256(toHex(signature))\n        return mcpToolRes.success({\n          signature,\n          topic\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating event signature\")\n      }\n    }\n  )\n\n  // Watch for events (get recent + subscription info)\n  server.tool(\n    \"get_recent_events\",\n    \"Get recent events from the last N blocks for monitoring\",\n    {\n      network: defaultNetworkParam,\n      contractAddress: z.string().describe(\"Contract to monitor\"),\n      eventSignature: z.string().describe(\"Event signature to watch\"),\n      blocksBack: z.number().optional().describe(\"Number of blocks to look back (default: 100)\")\n    },\n    async ({ network, contractAddress, eventSignature, blocksBack = 100 }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const latestBlock = await publicClient.getBlockNumber()\n        \n        const topic = keccak256(toHex(eventSignature))\n\n        const logs = await publicClient.getLogs({\n          address: contractAddress as Address,\n          fromBlock: latestBlock - BigInt(blocksBack),\n          toBlock: latestBlock,\n          topics: [topic]\n        })\n\n        // Group by block for activity analysis\n        const byBlock: Record<string, number> = {}\n        logs.forEach(log => {\n          const block = log.blockNumber?.toString() || \"unknown\"\n          byBlock[block] = (byBlock[block] || 0) + 1\n        })\n\n        return mcpToolRes.success({\n          network,\n          contractAddress,\n          eventSignature,\n          topic,\n          latestBlock: latestBlock.toString(),\n          blocksAnalyzed: blocksBack,\n          totalEvents: logs.length,\n          eventsPerBlock: Object.keys(byBlock).length > 0 ? \n            (logs.length / Object.keys(byBlock).length).toFixed(2) : \"0\",\n          recentLogs: logs.slice(-20).map(log => ({\n            blockNumber: log.blockNumber?.toString(),\n            transactionHash: log.transactionHash,\n            data: log.data.slice(0, 66) + (log.data.length > 66 ? \"...\" : \"\")\n          }))\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting recent events\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerEventsPrompts(server: McpServer) {\n  server.prompt(\n    \"analyze_contract_activity\",\n    \"Analyze event activity for a contract to understand usage patterns\",\n    {\n      contractAddress: { description: \"Contract address to analyze\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ contractAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze the event activity for contract ${contractAddress} on ${network}.\n\nUse the events tools to:\n1. Get recent contract logs with get_contract_logs\n2. Identify the most common event types\n3. Track ERC20 transfers if applicable with get_erc20_transfers\n4. Check approval patterns with get_approval_events\n\nProvide:\n## Contract Activity Analysis\n\n### Overview\n- Contract address\n- Network\n- Block range analyzed\n\n### Event Summary\n| Event Type | Count | % of Total |\n|------------|-------|------------|\n[Event breakdown]\n\n### Transfer Activity\n- Total transfers\n- Unique senders/receivers\n- Volume patterns\n\n### Notable Patterns\n- High activity periods\n- Large transactions\n- Unusual patterns\n\n### Recommendations\n- Security considerations\n- Monitoring suggestions`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"track_wallet_activity\",\n    \"Track all event activity for a specific wallet\",\n    {\n      walletAddress: { description: \"Wallet address to track\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ walletAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Track all event activity for wallet ${walletAddress} on ${network}.\n\nSearch for:\n1. ERC20 transfers (sent and received)\n2. Approval events granted by this wallet\n3. Any other relevant events\n\nProvide a timeline of activity and identify:\n- Most interacted contracts\n- Token transfer patterns\n- Active approvals that might be risky\n- Overall activity level`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerEventsTools } from \"./tools.js\"\nimport { registerEventsPrompts } from \"./prompts.js\"\n\nexport function registerEvents(server: McpServer) {\n  registerEventsTools(server)\n  registerEventsPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { formatGwei, parseGwei } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Chain-specific gas configurations\nconst GAS_CONFIGS: Record<number, {\n  name: string\n  avgBlockTime: number\n  hasEip1559: boolean\n  nativeSymbol: string\n}> = {\n  1: { name: \"Ethereum\", avgBlockTime: 12, hasEip1559: true, nativeSymbol: \"ETH\" },\n  56: { name: \"BSC\", avgBlockTime: 3, hasEip1559: false, nativeSymbol: \"BNB\" },\n  137: { name: \"Polygon\", avgBlockTime: 2, hasEip1559: true, nativeSymbol: \"MATIC\" },\n  42161: { name: \"Arbitrum\", avgBlockTime: 0.25, hasEip1559: true, nativeSymbol: \"ETH\" },\n  10: { name: \"Optimism\", avgBlockTime: 2, hasEip1559: true, nativeSymbol: \"ETH\" },\n  8453: { name: \"Base\", avgBlockTime: 2, hasEip1559: true, nativeSymbol: \"ETH\" },\n  204: { name: \"opBNB\", avgBlockTime: 1, hasEip1559: true, nativeSymbol: \"BNB\" },\n  43114: { name: \"Avalanche\", avgBlockTime: 2, hasEip1559: true, nativeSymbol: \"AVAX\" }\n}\n\n// Standard gas limits for common operations\nconst STANDARD_GAS_LIMITS: Record<string, bigint> = {\n  transfer: 21000n,\n  erc20Transfer: 65000n,\n  erc20Approve: 46000n,\n  swap: 200000n,\n  addLiquidity: 250000n,\n  removeLiquidity: 200000n,\n  bridge: 150000n,\n  nftMint: 100000n,\n  nftTransfer: 80000n,\n  contractDeploy: 500000n\n}\n\nexport function registerGasTools(server: McpServer) {\n  // Get current gas price\n  server.tool(\n    \"get_gas_price\",\n    \"Get current gas price for a network\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        const config = GAS_CONFIGS[chainId]\n        \n        const gasPrice = await publicClient.getGasPrice()\n        \n        // Try to get EIP-1559 fees if supported\n        let eip1559Fees = null\n        if (config?.hasEip1559) {\n          try {\n            const feeData = await publicClient.estimateFeesPerGas()\n            eip1559Fees = {\n              maxFeePerGas: formatGwei(feeData.maxFeePerGas || 0n),\n              maxPriorityFeePerGas: formatGwei(feeData.maxPriorityFeePerGas || 0n)\n            }\n          } catch {\n            // EIP-1559 not supported or error\n          }\n        }\n\n        return mcpToolRes.success({\n          network,\n          chainId,\n          chainName: config?.name || network,\n          gasPrice: formatGwei(gasPrice),\n          gasPriceWei: gasPrice.toString(),\n          eip1559: eip1559Fees,\n          nativeSymbol: config?.nativeSymbol || \"ETH\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting gas price\")\n      }\n    }\n  )\n\n  // Get gas prices across all chains\n  server.tool(\n    \"get_gas_prices_all_chains\",\n    \"Get gas prices across all supported chains for comparison\",\n    {},\n    async () => {\n      try {\n        const networks = [\"ethereum\", \"bsc\", \"polygon\", \"arbitrum\", \"optimism\", \"base\"]\n        const prices: Array<{\n          network: string\n          chainId: number\n          gasPrice: string\n          nativeSymbol: string\n          status: string\n        }> = []\n\n        for (const network of networks) {\n          try {\n            const publicClient = getPublicClient(network)\n            const chainId = await publicClient.getChainId()\n            const gasPrice = await publicClient.getGasPrice()\n            const config = GAS_CONFIGS[chainId]\n\n            prices.push({\n              network,\n              chainId,\n              gasPrice: formatGwei(gasPrice),\n              nativeSymbol: config?.nativeSymbol || \"ETH\",\n              status: \"success\"\n            })\n          } catch {\n            prices.push({\n              network,\n              chainId: 0,\n              gasPrice: \"0\",\n              nativeSymbol: \"N/A\",\n              status: \"error\"\n            })\n          }\n        }\n\n        // Sort by gas price (lowest first)\n        prices.sort((a, b) => parseFloat(a.gasPrice) - parseFloat(b.gasPrice))\n\n        return mcpToolRes.success({\n          prices,\n          cheapest: prices[0],\n          mostExpensive: prices[prices.length - 1],\n          timestamp: new Date().toISOString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting gas prices for all chains\")\n      }\n    }\n  )\n\n  // Get EIP-1559 fee data\n  server.tool(\n    \"get_eip1559_fees\",\n    \"Get detailed EIP-1559 fee data including base fee and priority fee\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Get latest block for base fee\n        const block = await publicClient.getBlock({ blockTag: \"latest\" })\n        const feeData = await publicClient.estimateFeesPerGas()\n        \n        const baseFee = block.baseFeePerGas || 0n\n        \n        return mcpToolRes.success({\n          network,\n          baseFee: formatGwei(baseFee),\n          baseFeeWei: baseFee.toString(),\n          maxFeePerGas: formatGwei(feeData.maxFeePerGas || 0n),\n          maxPriorityFeePerGas: formatGwei(feeData.maxPriorityFeePerGas || 0n),\n          recommendations: {\n            slow: {\n              maxFeePerGas: formatGwei((baseFee * 100n) / 100n),\n              maxPriorityFeePerGas: \"1\"\n            },\n            standard: {\n              maxFeePerGas: formatGwei((baseFee * 120n) / 100n),\n              maxPriorityFeePerGas: \"1.5\"\n            },\n            fast: {\n              maxFeePerGas: formatGwei((baseFee * 150n) / 100n),\n              maxPriorityFeePerGas: \"2\"\n            }\n          },\n          blockNumber: block.number?.toString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting EIP-1559 fees\")\n      }\n    }\n  )\n\n  // Estimate gas for transaction\n  server.tool(\n    \"estimate_gas\",\n    \"Estimate gas for a specific transaction\",\n    {\n      network: defaultNetworkParam,\n      from: z.string().describe(\"Sender address\"),\n      to: z.string().describe(\"Recipient/contract address\"),\n      value: z.string().optional().describe(\"Value in wei\"),\n      data: z.string().optional().describe(\"Transaction data (hex)\")\n    },\n    async ({ network, from, to, value, data }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const gasEstimate = await publicClient.estimateGas({\n          account: from as Address,\n          to: to as Address,\n          value: value ? BigInt(value) : 0n,\n          data: data as Hex | undefined\n        })\n        \n        const gasPrice = await publicClient.getGasPrice()\n        const chainId = await publicClient.getChainId()\n        const config = GAS_CONFIGS[chainId]\n        \n        const estimatedCost = gasEstimate * gasPrice\n\n        return mcpToolRes.success({\n          network,\n          gasEstimate: gasEstimate.toString(),\n          gasPrice: formatGwei(gasPrice),\n          estimatedCost: {\n            wei: estimatedCost.toString(),\n            gwei: formatGwei(estimatedCost),\n            nativeToken: (Number(estimatedCost) / 1e18).toFixed(8)\n          },\n          nativeSymbol: config?.nativeSymbol || \"ETH\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"estimating gas\")\n      }\n    }\n  )\n\n  // Get standard gas limits\n  server.tool(\n    \"get_standard_gas_limits\",\n    \"Get standard gas limits for common transaction types\",\n    {\n      operationType: z.string().optional().describe(\"Specific operation type (transfer, swap, etc.)\")\n    },\n    async ({ operationType }) => {\n      try {\n        if (operationType) {\n          const limit = STANDARD_GAS_LIMITS[operationType]\n          if (!limit) {\n            return mcpToolRes.error(new Error(`Unknown operation: ${operationType}`), \"getting gas limit\")\n          }\n          return mcpToolRes.success({\n            operation: operationType,\n            gasLimit: limit.toString(),\n            note: \"This is an estimate. Actual gas usage may vary.\"\n          })\n        }\n\n        const limits = Object.entries(STANDARD_GAS_LIMITS).map(([op, limit]) => ({\n          operation: op,\n          gasLimit: limit.toString()\n        }))\n\n        return mcpToolRes.success({\n          limits,\n          note: \"These are estimates. Actual gas usage may vary based on contract complexity.\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting standard gas limits\")\n      }\n    }\n  )\n\n  // Calculate transaction cost\n  server.tool(\n    \"calculate_tx_cost\",\n    \"Calculate the cost of a transaction in native tokens and USD\",\n    {\n      network: defaultNetworkParam,\n      gasLimit: z.string().describe(\"Gas limit for the transaction\"),\n      gasPriceGwei: z.string().optional().describe(\"Gas price in gwei (uses current if not provided)\")\n    },\n    async ({ network, gasLimit, gasPriceGwei }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        const config = GAS_CONFIGS[chainId]\n        \n        let gasPrice: bigint\n        if (gasPriceGwei) {\n          gasPrice = parseGwei(gasPriceGwei)\n        } else {\n          gasPrice = await publicClient.getGasPrice()\n        }\n        \n        const totalCost = BigInt(gasLimit) * gasPrice\n        const costInNative = Number(totalCost) / 1e18\n\n        return mcpToolRes.success({\n          network,\n          gasLimit,\n          gasPrice: formatGwei(gasPrice),\n          totalCost: {\n            wei: totalCost.toString(),\n            native: costInNative.toFixed(8),\n            symbol: config?.nativeSymbol || \"ETH\"\n          },\n          note: \"USD value requires price feed integration\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating transaction cost\")\n      }\n    }\n  )\n\n  // Get gas history\n  server.tool(\n    \"get_gas_history\",\n    \"Get historical gas prices from recent blocks\",\n    {\n      network: defaultNetworkParam,\n      blocks: z.number().optional().describe(\"Number of blocks to analyze (default: 10)\")\n    },\n    async ({ network, blocks = 10 }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const latestBlock = await publicClient.getBlock({ blockTag: \"latest\" })\n        \n        const history: Array<{\n          blockNumber: string\n          baseFee: string | null\n          timestamp: string\n        }> = []\n        \n        for (let i = 0; i < blocks; i++) {\n          const blockNum = latestBlock.number! - BigInt(i)\n          const block = await publicClient.getBlock({ blockNumber: blockNum })\n          \n          history.push({\n            blockNumber: blockNum.toString(),\n            baseFee: block.baseFeePerGas ? formatGwei(block.baseFeePerGas) : null,\n            timestamp: new Date(Number(block.timestamp) * 1000).toISOString()\n          })\n        }\n\n        const baseFees = history\n          .map(h => h.baseFee ? parseFloat(h.baseFee) : 0)\n          .filter(f => f > 0)\n        \n        return mcpToolRes.success({\n          network,\n          blocksAnalyzed: blocks,\n          history,\n          statistics: baseFees.length > 0 ? {\n            average: (baseFees.reduce((a, b) => a + b, 0) / baseFees.length).toFixed(4),\n            min: Math.min(...baseFees).toFixed(4),\n            max: Math.max(...baseFees).toFixed(4)\n          } : null\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting gas history\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerGasPrompts(server: McpServer) {\n  server.prompt(\n    \"optimize_gas\",\n    \"Analyze and provide gas optimization recommendations for transactions\",\n    {\n      network: { description: \"Target network\", required: true },\n      transactionType: { description: \"Type of transaction (swap, transfer, etc.)\", required: true }\n    },\n    ({ network, transactionType }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze gas conditions on ${network} for a ${transactionType} transaction and provide optimization recommendations.\n\nUse the available tools to:\n1. Get current gas price with get_gas_price\n2. Get EIP-1559 fee data with get_eip1559_fees\n3. Get gas history with get_gas_history\n4. Get standard gas limits with get_standard_gas_limits\n\nProvide:\n## Gas Optimization Report for ${network}\n\n### Current Conditions\n- Current gas price\n- Base fee trend (rising/falling/stable)\n- Network congestion level\n\n### Cost Estimate\n- Estimated cost for ${transactionType}\n- Cost in native token and approximate USD\n\n### Optimization Recommendations\n1. **Timing**: Best time to submit transaction\n2. **Gas Settings**: Recommended maxFeePerGas and maxPriorityFeePerGas\n3. **Alternative**: Consider other networks if applicable\n\n### Historical Context\n- How current prices compare to recent average\n- Expected savings if waiting for lower gas`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"compare_chain_costs\",\n    \"Compare transaction costs across different chains\",\n    {\n      transactionType: { description: \"Type of transaction\", required: true },\n      amount: { description: \"Amount being transacted (for context)\", required: false }\n    },\n    ({ transactionType, amount }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Compare the cost of a ${transactionType} transaction across all supported chains${amount ? ` for amount ${amount}` : \"\"}.\n\nUse get_gas_prices_all_chains to get current prices across networks.\n\nProvide:\n## Cross-Chain Cost Comparison\n\n### Transaction Type: ${transactionType}\n\n| Chain | Gas Price | Est. Gas | Est. Cost | Native Token |\n|-------|-----------|----------|-----------|--------------|\n[Fill in data for each chain]\n\n### Recommendations\n- **Cheapest Option**: [Chain with lowest cost]\n- **Best Value**: [Consider speed + cost trade-off]\n- **Fastest Option**: [Chain with fastest finality]\n\n### Considerations\n- Bridge costs if assets need to be moved\n- DEX liquidity differences between chains\n- Security considerations`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerGasTools } from \"./tools.js\"\nimport { registerGasPrompts } from \"./prompts.js\"\n\nexport function registerGas(server: McpServer) {\n  registerGasTools(server)\n  registerGasPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { formatUnits, keccak256, toHex } from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\nimport { z } from \"zod\"\n\nimport { getPublicClient, getWalletClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam, privateKeyParam } from \"../common/types.js\"\n\n// OpenZeppelin Governor ABI\nconst GOVERNOR_ABI = [\n  {\n    name: \"propose\",\n    type: \"function\",\n    inputs: [\n      { name: \"targets\", type: \"address[]\" },\n      { name: \"values\", type: \"uint256[]\" },\n      { name: \"calldatas\", type: \"bytes[]\" },\n      { name: \"description\", type: \"string\" }\n    ],\n    outputs: [{ name: \"proposalId\", type: \"uint256\" }]\n  },\n  {\n    name: \"castVote\",\n    type: \"function\",\n    inputs: [\n      { name: \"proposalId\", type: \"uint256\" },\n      { name: \"support\", type: \"uint8\" }\n    ],\n    outputs: [{ name: \"balance\", type: \"uint256\" }]\n  },\n  {\n    name: \"castVoteWithReason\",\n    type: \"function\",\n    inputs: [\n      { name: \"proposalId\", type: \"uint256\" },\n      { name: \"support\", type: \"uint8\" },\n      { name: \"reason\", type: \"string\" }\n    ],\n    outputs: [{ name: \"balance\", type: \"uint256\" }]\n  },\n  {\n    name: \"state\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"proposalId\", type: \"uint256\" }],\n    outputs: [{ name: \"\", type: \"uint8\" }]\n  },\n  {\n    name: \"proposalVotes\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"proposalId\", type: \"uint256\" }],\n    outputs: [\n      { name: \"againstVotes\", type: \"uint256\" },\n      { name: \"forVotes\", type: \"uint256\" },\n      { name: \"abstainVotes\", type: \"uint256\" }\n    ]\n  },\n  {\n    name: \"hasVoted\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [\n      { name: \"proposalId\", type: \"uint256\" },\n      { name: \"account\", type: \"address\" }\n    ],\n    outputs: [{ name: \"\", type: \"bool\" }]\n  },\n  {\n    name: \"getVotes\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [\n      { name: \"account\", type: \"address\" },\n      { name: \"blockNumber\", type: \"uint256\" }\n    ],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"proposalThreshold\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"quorum\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"blockNumber\", type: \"uint256\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"votingDelay\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"votingPeriod\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"proposalDeadline\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"proposalId\", type: \"uint256\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"proposalSnapshot\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"proposalId\", type: \"uint256\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  }\n] as const\n\n// Proposal states\nconst PROPOSAL_STATES = [\n  \"Pending\",\n  \"Active\",\n  \"Canceled\",\n  \"Defeated\",\n  \"Succeeded\",\n  \"Queued\",\n  \"Expired\",\n  \"Executed\"\n]\n\n// Vote types\nconst VOTE_TYPES = {\n  Against: 0,\n  For: 1,\n  Abstain: 2\n}\n\nexport function registerGovernanceTools(server: McpServer) {\n  // Get proposal details\n  server.tool(\n    \"get_proposal_details\",\n    \"Get details of a governance proposal\",\n    {\n      network: defaultNetworkParam,\n      governorAddress: z.string().describe(\"Governor contract address\"),\n      proposalId: z.string().describe(\"Proposal ID\")\n    },\n    async ({ network, governorAddress, proposalId }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const propId = BigInt(proposalId)\n        \n        // Get proposal state and votes\n        const [state, votes, deadline, snapshot] = await Promise.all([\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"state\",\n            args: [propId]\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"proposalVotes\",\n            args: [propId]\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"proposalDeadline\",\n            args: [propId]\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"proposalSnapshot\",\n            args: [propId]\n          })\n        ])\n\n        const [againstVotes, forVotes, abstainVotes] = votes\n        const totalVotes = againstVotes + forVotes + abstainVotes\n\n        return mcpToolRes.success({\n          network,\n          governorAddress,\n          proposalId,\n          state: PROPOSAL_STATES[state] || \"Unknown\",\n          stateCode: state,\n          votes: {\n            for: formatUnits(forVotes, 18),\n            against: formatUnits(againstVotes, 18),\n            abstain: formatUnits(abstainVotes, 18),\n            total: formatUnits(totalVotes, 18)\n          },\n          percentages: totalVotes > 0n ? {\n            for: ((Number(forVotes) / Number(totalVotes)) * 100).toFixed(2) + \"%\",\n            against: ((Number(againstVotes) / Number(totalVotes)) * 100).toFixed(2) + \"%\",\n            abstain: ((Number(abstainVotes) / Number(totalVotes)) * 100).toFixed(2) + \"%\"\n          } : null,\n          timing: {\n            snapshotBlock: snapshot.toString(),\n            deadlineBlock: deadline.toString()\n          }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting proposal details\")\n      }\n    }\n  )\n\n  // Cast vote\n  server.tool(\n    \"cast_vote\",\n    \"Cast a vote on a governance proposal\",\n    {\n      network: defaultNetworkParam,\n      governorAddress: z.string().describe(\"Governor contract address\"),\n      proposalId: z.string().describe(\"Proposal ID\"),\n      support: z.enum([\"for\", \"against\", \"abstain\"]).describe(\"Vote type\"),\n      reason: z.string().optional().describe(\"Optional reason for vote\"),\n      privateKey: privateKeyParam\n    },\n    async ({ network, governorAddress, proposalId, support, reason, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        const walletClient = getWalletClient(privateKey as Hex, network)\n        const publicClient = getPublicClient(network)\n        \n        const propId = BigInt(proposalId)\n        const voteType = support === \"for\" ? 1 : support === \"against\" ? 0 : 2\n\n        // Check if already voted\n        const hasVoted = await publicClient.readContract({\n          address: governorAddress as Address,\n          abi: GOVERNOR_ABI,\n          functionName: \"hasVoted\",\n          args: [propId, account.address]\n        })\n\n        if (hasVoted) {\n          return mcpToolRes.error(new Error(\"Already voted on this proposal\"), \"casting vote\")\n        }\n\n        let hash: Hex\n        if (reason) {\n          hash = await walletClient.writeContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"castVoteWithReason\",\n            args: [propId, voteType, reason],\n            account\n          })\n        } else {\n          hash = await walletClient.writeContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"castVote\",\n            args: [propId, voteType],\n            account\n          })\n        }\n\n        const receipt = await publicClient.waitForTransactionReceipt({ hash })\n\n        return mcpToolRes.success({\n          network,\n          governorAddress,\n          proposalId,\n          vote: support,\n          reason: reason || null,\n          voter: account.address,\n          transactionHash: hash,\n          status: receipt.status === \"success\" ? \"success\" : \"failed\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"casting vote\")\n      }\n    }\n  )\n\n  // Get voting power\n  server.tool(\n    \"get_voting_power\",\n    \"Get voting power for an address at a specific block\",\n    {\n      network: defaultNetworkParam,\n      governorAddress: z.string().describe(\"Governor contract address\"),\n      address: z.string().describe(\"Address to check\"),\n      blockNumber: z.string().optional().describe(\"Block number (default: latest)\")\n    },\n    async ({ network, governorAddress, address, blockNumber }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const block = blockNumber \n          ? BigInt(blockNumber) \n          : await publicClient.getBlockNumber() - 1n\n\n        const votes = await publicClient.readContract({\n          address: governorAddress as Address,\n          abi: GOVERNOR_ABI,\n          functionName: \"getVotes\",\n          args: [address as Address, block]\n        })\n\n        return mcpToolRes.success({\n          network,\n          governorAddress,\n          address,\n          blockNumber: block.toString(),\n          votingPower: votes.toString(),\n          votingPowerFormatted: formatUnits(votes, 18)\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting voting power\")\n      }\n    }\n  )\n\n  // Get governance parameters\n  server.tool(\n    \"get_governance_params\",\n    \"Get governance parameters like voting delay, period, and thresholds\",\n    {\n      network: defaultNetworkParam,\n      governorAddress: z.string().describe(\"Governor contract address\")\n    },\n    async ({ network, governorAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const currentBlock = await publicClient.getBlockNumber()\n        \n        const [votingDelay, votingPeriod, proposalThreshold, quorumVotes] = await Promise.all([\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"votingDelay\"\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"votingPeriod\"\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"proposalThreshold\"\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"quorum\",\n            args: [currentBlock - 1n]\n          })\n        ])\n\n        return mcpToolRes.success({\n          network,\n          governorAddress,\n          parameters: {\n            votingDelay: votingDelay.toString(),\n            votingDelayBlocks: `${votingDelay} blocks`,\n            votingPeriod: votingPeriod.toString(),\n            votingPeriodBlocks: `${votingPeriod} blocks`,\n            proposalThreshold: formatUnits(proposalThreshold, 18),\n            quorum: formatUnits(quorumVotes, 18)\n          },\n          note: \"Thresholds shown in governance token units\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting governance parameters\")\n      }\n    }\n  )\n\n  // Check if can vote\n  server.tool(\n    \"check_vote_eligibility\",\n    \"Check if an address can vote on a proposal\",\n    {\n      network: defaultNetworkParam,\n      governorAddress: z.string().describe(\"Governor contract address\"),\n      proposalId: z.string().describe(\"Proposal ID\"),\n      address: z.string().describe(\"Address to check\")\n    },\n    async ({ network, governorAddress, proposalId, address }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const propId = BigInt(proposalId)\n        \n        // Get proposal state and snapshot\n        const [state, snapshot, hasVoted] = await Promise.all([\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"state\",\n            args: [propId]\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"proposalSnapshot\",\n            args: [propId]\n          }),\n          publicClient.readContract({\n            address: governorAddress as Address,\n            abi: GOVERNOR_ABI,\n            functionName: \"hasVoted\",\n            args: [propId, address as Address]\n          })\n        ])\n\n        // Get voting power at snapshot\n        const votingPower = await publicClient.readContract({\n          address: governorAddress as Address,\n          abi: GOVERNOR_ABI,\n          functionName: \"getVotes\",\n          args: [address as Address, snapshot]\n        })\n\n        const isActive = state === 1\n        const hasVotingPower = votingPower > 0n\n        const canVote = isActive && !hasVoted && hasVotingPower\n\n        return mcpToolRes.success({\n          network,\n          governorAddress,\n          proposalId,\n          address,\n          eligibility: {\n            canVote,\n            proposalState: PROPOSAL_STATES[state],\n            isActive,\n            hasVoted,\n            votingPower: formatUnits(votingPower, 18),\n            hasVotingPower\n          },\n          reason: !isActive ? \"Proposal is not active\" :\n                  hasVoted ? \"Already voted\" :\n                  !hasVotingPower ? \"No voting power at snapshot\" :\n                  \"Eligible to vote\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"checking vote eligibility\")\n      }\n    }\n  )\n\n  // Calculate proposal ID\n  server.tool(\n    \"calculate_proposal_id\",\n    \"Calculate proposal ID from proposal parameters\",\n    {\n      targets: z.array(z.string()).describe(\"Target contract addresses\"),\n      values: z.array(z.string()).describe(\"ETH values for each call\"),\n      calldatas: z.array(z.string()).describe(\"Encoded call data for each target\"),\n      descriptionHash: z.string().describe(\"Keccak256 hash of description\")\n    },\n    async ({ targets, values, calldatas, descriptionHash }) => {\n      try {\n        // This matches OpenZeppelin Governor's hashProposal\n        const encoded = new TextEncoder().encode(\n          JSON.stringify({\n            targets,\n            values,\n            calldatas,\n            descriptionHash\n          })\n        )\n        \n        const proposalId = keccak256(toHex(encoded))\n\n        return mcpToolRes.success({\n          proposalId,\n          parameters: {\n            targets,\n            values,\n            calldatas,\n            descriptionHash\n          },\n          note: \"This is a simplified calculation. Actual ID depends on Governor implementation.\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating proposal ID\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerGovernancePrompts(server: McpServer) {\n  server.prompt(\n    \"analyze_proposal\",\n    \"Analyze a governance proposal in detail\",\n    {\n      governorAddress: { description: \"Governor contract address\", required: true },\n      proposalId: { description: \"Proposal ID\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ governorAddress, proposalId, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze governance proposal ${proposalId} on ${network} (Governor: ${governorAddress}).\n\nUse the governance tools to:\n1. Get proposal details with get_proposal_details\n2. Get governance parameters with get_governance_params\n3. Analyze voting distribution\n\nProvide:\n## Proposal Analysis\n\n### Proposal #${proposalId}\n\n### Current Status\n- State: [Pending/Active/etc.]\n- Deadline: [Block number and estimated time]\n\n### Voting Summary\n| Vote | Count | Percentage |\n|------|-------|------------|\n| For | | |\n| Against | | |\n| Abstain | | |\n\n### Quorum Status\n- Required: [X tokens]\n- Current: [Y tokens]\n- Met: [Yes/No]\n\n### Analysis\n- Likelihood of passing\n- Key considerations\n- Voting recommendations`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"governance_participation\",\n    \"Help user participate in governance\",\n    {\n      walletAddress: { description: \"User's wallet address\", required: true },\n      governorAddress: { description: \"Governor contract address\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ walletAddress, governorAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help ${walletAddress} participate in governance for ${governorAddress} on ${network}.\n\nCheck:\n1. Current voting power with get_voting_power\n2. Governance parameters with get_governance_params\n3. Any active proposals\n\nProvide:\n## Governance Participation Guide\n\n### Your Voting Power\n- Current voting power\n- How to increase it (delegate, acquire tokens)\n\n### Active Proposals\n[List any active proposals]\n\n### How to Vote\n- Step-by-step voting instructions\n- Gas considerations\n\n### Best Practices\n- Research proposals before voting\n- Consider delegation\n- Track proposal outcomes`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerGovernanceTools } from \"./tools.js\"\nimport { registerGovernancePrompts } from \"./prompts.js\"\n\nexport function registerGovernance(server: McpServer) {\n  registerGovernanceTools(server)\n  registerGovernancePrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { formatUnits } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Aave V3 Pool ABI (subset)\nconst AAVE_POOL_ABI = [\n  {\n    name: \"getUserAccountData\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"user\", type: \"address\" }],\n    outputs: [\n      { name: \"totalCollateralBase\", type: \"uint256\" },\n      { name: \"totalDebtBase\", type: \"uint256\" },\n      { name: \"availableBorrowsBase\", type: \"uint256\" },\n      { name: \"currentLiquidationThreshold\", type: \"uint256\" },\n      { name: \"ltv\", type: \"uint256\" },\n      { name: \"healthFactor\", type: \"uint256\" }\n    ]\n  },\n  {\n    name: \"getReserveData\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"asset\", type: \"address\" }],\n    outputs: [\n      { name: \"configuration\", type: \"tuple\" },\n      { name: \"liquidityIndex\", type: \"uint128\" },\n      { name: \"currentLiquidityRate\", type: \"uint128\" },\n      { name: \"variableBorrowIndex\", type: \"uint128\" },\n      { name: \"currentVariableBorrowRate\", type: \"uint128\" },\n      { name: \"currentStableBorrowRate\", type: \"uint128\" },\n      { name: \"lastUpdateTimestamp\", type: \"uint40\" },\n      { name: \"id\", type: \"uint16\" },\n      { name: \"aTokenAddress\", type: \"address\" },\n      { name: \"stableDebtTokenAddress\", type: \"address\" },\n      { name: \"variableDebtTokenAddress\", type: \"address\" },\n      { name: \"interestRateStrategyAddress\", type: \"address\" },\n      { name: \"accruedToTreasury\", type: \"uint128\" },\n      { name: \"unbacked\", type: \"uint128\" },\n      { name: \"isolationModeTotalDebt\", type: \"uint128\" }\n    ]\n  }\n] as const\n\n// Compound V3 Comet ABI (subset)\nconst COMPOUND_COMET_ABI = [\n  {\n    name: \"balanceOf\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"account\", type: \"address\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"borrowBalanceOf\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"account\", type: \"address\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"getSupplyRate\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"utilization\", type: \"uint64\" }],\n    outputs: [{ name: \"\", type: \"uint64\" }]\n  },\n  {\n    name: \"getBorrowRate\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"utilization\", type: \"uint64\" }],\n    outputs: [{ name: \"\", type: \"uint64\" }]\n  },\n  {\n    name: \"getUtilization\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint64\" }]\n  }\n] as const\n\n// Lending protocol addresses\nconst LENDING_PROTOCOLS: Record<number, Record<string, { pool: Address; type: string }>> = {\n  1: { // Ethereum\n    \"Aave V3\": { pool: \"0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2\", type: \"aave\" },\n    \"Compound V3 USDC\": { pool: \"0xc3d688B66703497DAA19211EEdff47f25384cdc3\", type: \"compound\" }\n  },\n  137: { // Polygon\n    \"Aave V3\": { pool: \"0x794a61358D6845594F94dc1DB02A252b5b4814aD\", type: \"aave\" }\n  },\n  42161: { // Arbitrum\n    \"Aave V3\": { pool: \"0x794a61358D6845594F94dc1DB02A252b5b4814aD\", type: \"aave\" }\n  },\n  8453: { // Base\n    \"Aave V3\": { pool: \"0xA238Dd80C259a72e81d7e4664a9801593F98d1c5\", type: \"aave\" }\n  }\n}\n\nexport function registerLendingTools(server: McpServer) {\n  // Get lending position\n  server.tool(\n    \"get_lending_position\",\n    \"Get a user's lending/borrowing position on a protocol\",\n    {\n      network: defaultNetworkParam,\n      protocol: z.string().describe(\"Lending protocol name\"),\n      userAddress: z.string().describe(\"User address to check\")\n    },\n    async ({ network, protocol, userAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const protocolConfig = LENDING_PROTOCOLS[chainId]?.[protocol]\n        if (!protocolConfig) {\n          return mcpToolRes.error(new Error(`Protocol ${protocol} not found on this network`), \"getting lending position\")\n        }\n\n        if (protocolConfig.type === \"aave\") {\n          const data = await publicClient.readContract({\n            address: protocolConfig.pool,\n            abi: AAVE_POOL_ABI,\n            functionName: \"getUserAccountData\",\n            args: [userAddress as Address]\n          })\n\n          const [totalCollateral, totalDebt, availableBorrows, liquidationThreshold, ltv, healthFactor] = data\n\n          return mcpToolRes.success({\n            network,\n            protocol,\n            userAddress,\n            position: {\n              totalCollateralUSD: formatUnits(totalCollateral, 8),\n              totalDebtUSD: formatUnits(totalDebt, 8),\n              availableBorrowsUSD: formatUnits(availableBorrows, 8),\n              liquidationThreshold: (Number(liquidationThreshold) / 100).toFixed(2) + \"%\",\n              ltv: (Number(ltv) / 100).toFixed(2) + \"%\",\n              healthFactor: formatUnits(healthFactor, 18)\n            },\n            healthStatus: Number(healthFactor) >= 1e18 \n              ? healthFactor > 2n * BigInt(1e18) ? \"safe\" : \"moderate\"\n              : \"at risk\"\n          })\n        }\n\n        if (protocolConfig.type === \"compound\") {\n          const [supplyBalance, borrowBalance] = await Promise.all([\n            publicClient.readContract({\n              address: protocolConfig.pool,\n              abi: COMPOUND_COMET_ABI,\n              functionName: \"balanceOf\",\n              args: [userAddress as Address]\n            }),\n            publicClient.readContract({\n              address: protocolConfig.pool,\n              abi: COMPOUND_COMET_ABI,\n              functionName: \"borrowBalanceOf\",\n              args: [userAddress as Address]\n            })\n          ])\n\n          return mcpToolRes.success({\n            network,\n            protocol,\n            userAddress,\n            position: {\n              supplyBalance: supplyBalance.toString(),\n              supplyFormatted: formatUnits(supplyBalance, 6), // USDC\n              borrowBalance: borrowBalance.toString(),\n              borrowFormatted: formatUnits(borrowBalance, 6)\n            }\n          })\n        }\n\n        return mcpToolRes.error(new Error(\"Unknown protocol type\"), \"getting lending position\")\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting lending position\")\n      }\n    }\n  )\n\n  // Get market rates\n  server.tool(\n    \"get_lending_rates\",\n    \"Get current supply and borrow rates for a lending market\",\n    {\n      network: defaultNetworkParam,\n      protocol: z.string().describe(\"Lending protocol name\"),\n      asset: z.string().optional().describe(\"Asset address (for Aave)\")\n    },\n    async ({ network, protocol, asset }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const protocolConfig = LENDING_PROTOCOLS[chainId]?.[protocol]\n        if (!protocolConfig) {\n          return mcpToolRes.error(new Error(`Protocol ${protocol} not found`), \"getting lending rates\")\n        }\n\n        if (protocolConfig.type === \"aave\" && asset) {\n          const reserveData = await publicClient.readContract({\n            address: protocolConfig.pool,\n            abi: AAVE_POOL_ABI,\n            functionName: \"getReserveData\",\n            args: [asset as Address]\n          })\n\n          // Rates are in RAY (27 decimals), convert to APY percentage\n          const liquidityRate = reserveData[2]\n          const variableBorrowRate = reserveData[4]\n          \n          const supplyAPY = (Number(liquidityRate) / 1e27 * 100).toFixed(2)\n          const borrowAPY = (Number(variableBorrowRate) / 1e27 * 100).toFixed(2)\n\n          return mcpToolRes.success({\n            network,\n            protocol,\n            asset,\n            rates: {\n              supplyAPY: supplyAPY + \"%\",\n              variableBorrowAPY: borrowAPY + \"%\",\n              aTokenAddress: reserveData[8]\n            }\n          })\n        }\n\n        if (protocolConfig.type === \"compound\") {\n          const utilization = await publicClient.readContract({\n            address: protocolConfig.pool,\n            abi: COMPOUND_COMET_ABI,\n            functionName: \"getUtilization\"\n          })\n\n          const [supplyRate, borrowRate] = await Promise.all([\n            publicClient.readContract({\n              address: protocolConfig.pool,\n              abi: COMPOUND_COMET_ABI,\n              functionName: \"getSupplyRate\",\n              args: [utilization]\n            }),\n            publicClient.readContract({\n              address: protocolConfig.pool,\n              abi: COMPOUND_COMET_ABI,\n              functionName: \"getBorrowRate\",\n              args: [utilization]\n            })\n          ])\n\n          // Convert per-second rates to APY\n          const secondsPerYear = 31536000n\n          const supplyAPY = (Number(supplyRate * secondsPerYear) / 1e18 * 100).toFixed(2)\n          const borrowAPY = (Number(borrowRate * secondsPerYear) / 1e18 * 100).toFixed(2)\n\n          return mcpToolRes.success({\n            network,\n            protocol,\n            rates: {\n              supplyAPY: supplyAPY + \"%\",\n              borrowAPY: borrowAPY + \"%\",\n              utilization: (Number(utilization) / 1e18 * 100).toFixed(2) + \"%\"\n            }\n          })\n        }\n\n        return mcpToolRes.error(new Error(\"Could not fetch rates\"), \"getting lending rates\")\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting lending rates\")\n      }\n    }\n  )\n\n  // Get supported lending protocols\n  server.tool(\n    \"get_lending_protocols\",\n    \"Get list of supported lending protocols on a network\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const protocols = LENDING_PROTOCOLS[chainId] || {}\n\n        return mcpToolRes.success({\n          network,\n          chainId,\n          protocols: Object.entries(protocols).map(([name, config]) => ({\n            name,\n            pool: config.pool,\n            type: config.type\n          })),\n          note: Object.keys(protocols).length === 0 \n            ? \"No lending protocols configured for this network\"\n            : \"Use get_lending_position or get_lending_rates for details\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting lending protocols\")\n      }\n    }\n  )\n\n  // Calculate health factor\n  server.tool(\n    \"calculate_health_factor\",\n    \"Calculate health factor after a potential action\",\n    {\n      currentCollateral: z.string().describe(\"Current collateral in USD\"),\n      currentDebt: z.string().describe(\"Current debt in USD\"),\n      liquidationThreshold: z.string().describe(\"Liquidation threshold (e.g., '0.85')\"),\n      action: z.enum([\"supply\", \"borrow\", \"withdraw\", \"repay\"]).describe(\"Action type\"),\n      amount: z.string().describe(\"Action amount in USD\")\n    },\n    async ({ currentCollateral, currentDebt, liquidationThreshold, action, amount }) => {\n      try {\n        let newCollateral = parseFloat(currentCollateral)\n        let newDebt = parseFloat(currentDebt)\n        const threshold = parseFloat(liquidationThreshold)\n        const actionAmount = parseFloat(amount)\n\n        switch (action) {\n          case \"supply\":\n            newCollateral += actionAmount\n            break\n          case \"borrow\":\n            newDebt += actionAmount\n            break\n          case \"withdraw\":\n            newCollateral -= actionAmount\n            break\n          case \"repay\":\n            newDebt -= actionAmount\n            break\n        }\n\n        const newHealthFactor = newDebt > 0 \n          ? (newCollateral * threshold) / newDebt \n          : Infinity\n\n        return mcpToolRes.success({\n          before: {\n            collateral: currentCollateral,\n            debt: currentDebt,\n            healthFactor: parseFloat(currentDebt) > 0 \n              ? ((parseFloat(currentCollateral) * threshold) / parseFloat(currentDebt)).toFixed(4)\n              : \"\"\n          },\n          action,\n          amount,\n          after: {\n            collateral: newCollateral.toString(),\n            debt: newDebt.toString(),\n            healthFactor: newHealthFactor === Infinity ? \"\" : newHealthFactor.toFixed(4)\n          },\n          safe: newHealthFactor > 1.5,\n          warning: newHealthFactor > 1 && newHealthFactor <= 1.5 \n            ? \"Health factor is low - consider adding collateral\"\n            : newHealthFactor <= 1 \n            ? \"DANGER: Position would be at liquidation risk\"\n            : null\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating health factor\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerLendingPrompts(server: McpServer) {\n  server.prompt(\n    \"analyze_lending_position\",\n    \"Analyze a lending position and provide risk assessment\",\n    {\n      walletAddress: { description: \"Wallet address\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ walletAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze the lending positions for ${walletAddress} on ${network}.\n\nUse the lending tools to:\n1. Get supported protocols with get_lending_protocols\n2. Check positions on each protocol with get_lending_position\n3. Get current rates with get_lending_rates\n\nProvide:\n## Lending Position Analysis\n\n### Wallet: ${walletAddress}\n\n### Positions by Protocol\n[For each protocol with a position]\n- Total Collateral\n- Total Debt\n- Health Factor\n- Net Position\n\n### Risk Assessment\n- Overall health factor\n- Liquidation risk level\n- Recommendations\n\n### Rate Comparison\n- Current supply APYs\n- Current borrow APYs\n- Optimization opportunities`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"optimize_lending_strategy\",\n    \"Help optimize lending and borrowing strategy\",\n    {\n      goal: { description: \"User's goal (e.g., maximize yield, minimize risk)\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ goal, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help me optimize my lending strategy on ${network} with the goal: ${goal}\n\nCompare rates across protocols and provide:\n1. Best supply rates for different assets\n2. Lowest borrow rates\n3. Recommended leverage strategies (if appropriate)\n4. Risk considerations for each option`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerLendingTools } from \"./tools.js\"\nimport { registerLendingPrompts } from \"./prompts.js\"\n\nexport function registerLending(server: McpServer) {\n  registerLendingTools(server)\n  registerLendingPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { decodeFunctionResult, encodeFunctionData } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Multicall3 contract address (same across all EVM chains)\nconst MULTICALL3_ADDRESS = \"0xcA11bde05977b3631167028862bE2a173976CA11\" as Address\n\n// Multicall3 ABI\nconst MULTICALL3_ABI = [\n  {\n    name: \"aggregate3\",\n    type: \"function\",\n    stateMutability: \"payable\",\n    inputs: [\n      {\n        name: \"calls\",\n        type: \"tuple[]\",\n        components: [\n          { name: \"target\", type: \"address\" },\n          { name: \"allowFailure\", type: \"bool\" },\n          { name: \"callData\", type: \"bytes\" }\n        ]\n      }\n    ],\n    outputs: [\n      {\n        name: \"returnData\",\n        type: \"tuple[]\",\n        components: [\n          { name: \"success\", type: \"bool\" },\n          { name: \"returnData\", type: \"bytes\" }\n        ]\n      }\n    ]\n  },\n  {\n    name: \"aggregate\",\n    type: \"function\",\n    stateMutability: \"payable\",\n    inputs: [\n      {\n        name: \"calls\",\n        type: \"tuple[]\",\n        components: [\n          { name: \"target\", type: \"address\" },\n          { name: \"callData\", type: \"bytes\" }\n        ]\n      }\n    ],\n    outputs: [\n      { name: \"blockNumber\", type: \"uint256\" },\n      { name: \"returnData\", type: \"bytes[]\" }\n    ]\n  },\n  {\n    name: \"tryAggregate\",\n    type: \"function\",\n    stateMutability: \"payable\",\n    inputs: [\n      { name: \"requireSuccess\", type: \"bool\" },\n      {\n        name: \"calls\",\n        type: \"tuple[]\",\n        components: [\n          { name: \"target\", type: \"address\" },\n          { name: \"callData\", type: \"bytes\" }\n        ]\n      }\n    ],\n    outputs: [\n      {\n        name: \"returnData\",\n        type: \"tuple[]\",\n        components: [\n          { name: \"success\", type: \"bool\" },\n          { name: \"returnData\", type: \"bytes\" }\n        ]\n      }\n    ]\n  },\n  {\n    name: \"getBlockNumber\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"blockNumber\", type: \"uint256\" }]\n  },\n  {\n    name: \"getBasefee\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"basefee\", type: \"uint256\" }]\n  },\n  {\n    name: \"getBlockHash\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"blockNumber\", type: \"uint256\" }],\n    outputs: [{ name: \"blockHash\", type: \"bytes32\" }]\n  },\n  {\n    name: \"getEthBalance\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"addr\", type: \"address\" }],\n    outputs: [{ name: \"balance\", type: \"uint256\" }]\n  }\n] as const\n\n// ERC20 ABI for common calls\nconst ERC20_ABI = [\n  {\n    name: \"balanceOf\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"account\", type: \"address\" }],\n    outputs: [{ name: \"balance\", type: \"uint256\" }]\n  },\n  {\n    name: \"decimals\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint8\" }]\n  },\n  {\n    name: \"symbol\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"string\" }]\n  },\n  {\n    name: \"name\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"string\" }]\n  },\n  {\n    name: \"totalSupply\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  }\n] as const\n\nexport function registerMulticallTools(server: McpServer) {\n  // Execute multicall\n  server.tool(\n    \"execute_multicall\",\n    \"Execute multiple contract calls in a single transaction\",\n    {\n      network: defaultNetworkParam,\n      calls: z.array(z.object({\n        target: z.string().describe(\"Contract address\"),\n        callData: z.string().describe(\"Encoded call data (hex)\"),\n        allowFailure: z.boolean().optional().describe(\"Allow this call to fail\")\n      })).describe(\"Array of calls to execute\")\n    },\n    async ({ network, calls }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const formattedCalls = calls.map(call => ({\n          target: call.target as Address,\n          allowFailure: call.allowFailure ?? false,\n          callData: call.callData as Hex\n        }))\n\n        const result = await publicClient.readContract({\n          address: MULTICALL3_ADDRESS,\n          abi: MULTICALL3_ABI,\n          functionName: \"aggregate3\",\n          args: [formattedCalls]\n        })\n\n        const results = (result as Array<{ success: boolean; returnData: Hex }>).map((r, i) => ({\n          index: i,\n          target: calls[i].target,\n          success: r.success,\n          returnData: r.returnData\n        }))\n\n        return mcpToolRes.success({\n          network,\n          totalCalls: calls.length,\n          successfulCalls: results.filter(r => r.success).length,\n          results\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"executing multicall\")\n      }\n    }\n  )\n\n  // Get multiple token balances\n  server.tool(\n    \"get_multi_token_balances\",\n    \"Get balances of multiple tokens for an address in a single call\",\n    {\n      network: defaultNetworkParam,\n      address: z.string().describe(\"Wallet address to check\"),\n      tokens: z.array(z.string()).describe(\"Array of token contract addresses\")\n    },\n    async ({ network, address, tokens }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Build multicall for balanceOf\n        const calls = tokens.map(token => ({\n          target: token as Address,\n          allowFailure: true,\n          callData: encodeFunctionData({\n            abi: ERC20_ABI,\n            functionName: \"balanceOf\",\n            args: [address as Address]\n          })\n        }))\n\n        const result = await publicClient.readContract({\n          address: MULTICALL3_ADDRESS,\n          abi: MULTICALL3_ABI,\n          functionName: \"aggregate3\",\n          args: [calls]\n        })\n\n        const balances = (result as Array<{ success: boolean; returnData: Hex }>).map((r, i) => {\n          if (!r.success || r.returnData === \"0x\") {\n            return {\n              token: tokens[i],\n              balance: \"0\",\n              error: \"Call failed\"\n            }\n          }\n          \n          try {\n            const balance = decodeFunctionResult({\n              abi: ERC20_ABI,\n              functionName: \"balanceOf\",\n              data: r.returnData\n            })\n            return {\n              token: tokens[i],\n              balance: balance.toString()\n            }\n          } catch {\n            return {\n              token: tokens[i],\n              balance: \"0\",\n              error: \"Decode failed\"\n            }\n          }\n        })\n\n        return mcpToolRes.success({\n          network,\n          address,\n          balances,\n          totalTokens: tokens.length\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting multi token balances\")\n      }\n    }\n  )\n\n  // Get token info for multiple tokens\n  server.tool(\n    \"get_multi_token_info\",\n    \"Get name, symbol, decimals for multiple tokens in a single call\",\n    {\n      network: defaultNetworkParam,\n      tokens: z.array(z.string()).describe(\"Array of token contract addresses\")\n    },\n    async ({ network, tokens }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Build calls for name, symbol, decimals for each token\n        const calls: Array<{ target: Address; allowFailure: boolean; callData: Hex }> = []\n        \n        for (const token of tokens) {\n          calls.push({\n            target: token as Address,\n            allowFailure: true,\n            callData: encodeFunctionData({ abi: ERC20_ABI, functionName: \"name\" })\n          })\n          calls.push({\n            target: token as Address,\n            allowFailure: true,\n            callData: encodeFunctionData({ abi: ERC20_ABI, functionName: \"symbol\" })\n          })\n          calls.push({\n            target: token as Address,\n            allowFailure: true,\n            callData: encodeFunctionData({ abi: ERC20_ABI, functionName: \"decimals\" })\n          })\n        }\n\n        const result = await publicClient.readContract({\n          address: MULTICALL3_ADDRESS,\n          abi: MULTICALL3_ABI,\n          functionName: \"aggregate3\",\n          args: [calls]\n        })\n\n        const results = result as Array<{ success: boolean; returnData: Hex }>\n        const tokenInfos = tokens.map((token, i) => {\n          const nameResult = results[i * 3]\n          const symbolResult = results[i * 3 + 1]\n          const decimalsResult = results[i * 3 + 2]\n          \n          let name = \"Unknown\"\n          let symbol = \"???\"\n          let decimals = 18\n          \n          try {\n            if (nameResult.success && nameResult.returnData !== \"0x\") {\n              name = decodeFunctionResult({\n                abi: ERC20_ABI,\n                functionName: \"name\",\n                data: nameResult.returnData\n              }) as string\n            }\n          } catch {}\n          \n          try {\n            if (symbolResult.success && symbolResult.returnData !== \"0x\") {\n              symbol = decodeFunctionResult({\n                abi: ERC20_ABI,\n                functionName: \"symbol\",\n                data: symbolResult.returnData\n              }) as string\n            }\n          } catch {}\n          \n          try {\n            if (decimalsResult.success && decimalsResult.returnData !== \"0x\") {\n              decimals = Number(decodeFunctionResult({\n                abi: ERC20_ABI,\n                functionName: \"decimals\",\n                data: decimalsResult.returnData\n              }))\n            }\n          } catch {}\n\n          return { address: token, name, symbol, decimals }\n        })\n\n        return mcpToolRes.success({\n          network,\n          tokens: tokenInfos,\n          totalTokens: tokens.length\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting multi token info\")\n      }\n    }\n  )\n\n  // Get multiple native balances\n  server.tool(\n    \"get_multi_native_balances\",\n    \"Get native token balances for multiple addresses\",\n    {\n      network: defaultNetworkParam,\n      addresses: z.array(z.string()).describe(\"Array of addresses to check\")\n    },\n    async ({ network, addresses }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const calls = addresses.map(addr => ({\n          target: MULTICALL3_ADDRESS,\n          allowFailure: true,\n          callData: encodeFunctionData({\n            abi: MULTICALL3_ABI,\n            functionName: \"getEthBalance\",\n            args: [addr as Address]\n          })\n        }))\n\n        const result = await publicClient.readContract({\n          address: MULTICALL3_ADDRESS,\n          abi: MULTICALL3_ABI,\n          functionName: \"aggregate3\",\n          args: [calls]\n        })\n\n        const balances = (result as Array<{ success: boolean; returnData: Hex }>).map((r, i) => {\n          if (!r.success) {\n            return { address: addresses[i], balance: \"0\", error: \"Call failed\" }\n          }\n          \n          // Decode uint256\n          const balance = BigInt(r.returnData)\n          return {\n            address: addresses[i],\n            balance: balance.toString(),\n            formatted: (Number(balance) / 1e18).toFixed(6)\n          }\n        })\n\n        return mcpToolRes.success({\n          network,\n          balances,\n          totalAddresses: addresses.length\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting multi native balances\")\n      }\n    }\n  )\n\n  // Encode call data helper\n  server.tool(\n    \"encode_call_data\",\n    \"Encode function call data for use in multicall\",\n    {\n      functionSignature: z.string().describe(\"Function signature (e.g., 'balanceOf(address)')\"),\n      args: z.array(z.string()).describe(\"Function arguments as strings\")\n    },\n    async ({ functionSignature, args }) => {\n      try {\n        // Parse function signature\n        const match = functionSignature.match(/^(\\w+)\\((.*)\\)$/)\n        if (!match) {\n          return mcpToolRes.error(new Error(\"Invalid function signature\"), \"encoding call data\")\n        }\n\n        const [, funcName, paramTypes] = match\n        const types = paramTypes ? paramTypes.split(\",\").map(t => t.trim()) : []\n\n        // Build minimal ABI\n        const abi = [{\n          name: funcName,\n          type: \"function\",\n          inputs: types.map((type, i) => ({ name: `arg${i}`, type })),\n          outputs: []\n        }] as const\n\n        // Process args based on types\n        const processedArgs = args.map((arg, i) => {\n          const type = types[i]\n          if (type.startsWith(\"uint\") || type.startsWith(\"int\")) {\n            return BigInt(arg)\n          }\n          if (type === \"bool\") {\n            return arg.toLowerCase() === \"true\"\n          }\n          return arg\n        })\n\n        const callData = encodeFunctionData({\n          abi,\n          functionName: funcName,\n          args: processedArgs\n        })\n\n        return mcpToolRes.success({\n          functionSignature,\n          args,\n          callData\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"encoding call data\")\n      }\n    }\n  )\n\n  // Batch check allowances\n  server.tool(\n    \"batch_check_allowances\",\n    \"Check token allowances for multiple token/spender pairs\",\n    {\n      network: defaultNetworkParam,\n      owner: z.string().describe(\"Token owner address\"),\n      checks: z.array(z.object({\n        token: z.string().describe(\"Token address\"),\n        spender: z.string().describe(\"Spender address\")\n      })).describe(\"Array of token/spender pairs to check\")\n    },\n    async ({ network, owner, checks }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const allowanceAbi = [{\n          name: \"allowance\",\n          type: \"function\",\n          stateMutability: \"view\",\n          inputs: [\n            { name: \"owner\", type: \"address\" },\n            { name: \"spender\", type: \"address\" }\n          ],\n          outputs: [{ name: \"\", type: \"uint256\" }]\n        }] as const\n\n        const calls = checks.map(check => ({\n          target: check.token as Address,\n          allowFailure: true,\n          callData: encodeFunctionData({\n            abi: allowanceAbi,\n            functionName: \"allowance\",\n            args: [owner as Address, check.spender as Address]\n          })\n        }))\n\n        const result = await publicClient.readContract({\n          address: MULTICALL3_ADDRESS,\n          abi: MULTICALL3_ABI,\n          functionName: \"aggregate3\",\n          args: [calls]\n        })\n\n        const allowances = (result as Array<{ success: boolean; returnData: Hex }>).map((r, i) => {\n          if (!r.success) {\n            return {\n              token: checks[i].token,\n              spender: checks[i].spender,\n              allowance: \"0\",\n              error: \"Call failed\"\n            }\n          }\n          \n          const allowance = BigInt(r.returnData)\n          return {\n            token: checks[i].token,\n            spender: checks[i].spender,\n            allowance: allowance.toString(),\n            isUnlimited: allowance >= BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\") / 2n\n          }\n        })\n\n        return mcpToolRes.success({\n          network,\n          owner,\n          allowances,\n          totalChecks: checks.length\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"batch checking allowances\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerMulticallPrompts(server: McpServer) {\n  server.prompt(\n    \"batch_portfolio_check\",\n    \"Check a complete portfolio using multicall for efficiency\",\n    {\n      address: { description: \"Wallet address to analyze\", required: true },\n      network: { description: \"Network to check\", required: true }\n    },\n    ({ address, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Perform a comprehensive portfolio check for ${address} on ${network} using multicall for efficiency.\n\nSteps:\n1. Get native balance using get_multi_native_balances\n2. Get token balances for common tokens using get_multi_token_balances\n3. Get token info for any unknown tokens using get_multi_token_info\n4. Check allowances for common DEX routers using batch_check_allowances\n\nProvide a formatted portfolio report including:\n- Native token balance\n- All token holdings with values\n- Active allowances that may need review\n- Total portfolio value estimate`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"optimize_batch_calls\",\n    \"Help optimize multiple contract calls into efficient batches\",\n    {\n      calls: { description: \"Description of the calls you need to make\", required: true }\n    },\n    ({ calls }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help me optimize these contract calls into efficient multicall batches: ${calls}\n\nAnalyze the calls and:\n1. Group related calls that can be batched together\n2. Identify dependencies that require sequential execution\n3. Suggest the optimal multicall structure\n4. Estimate gas savings compared to individual calls\n\nUse encode_call_data to prepare the call data and execute_multicall to run them.`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerMulticallTools } from \"./tools.js\"\nimport { registerMulticallPrompts } from \"./prompts.js\"\n\nexport function registerMulticall(server: McpServer) {\n  registerMulticallTools(server)\n  registerMulticallPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { z } from \"zod\"\n\nexport function registerNetworkPrompts(server: McpServer) {\n  // EVM concept explanation\n  server.prompt(\n    \"explain_evm_concept\",\n    \"Get an explanation of an EVM concept\",\n    {\n      concept: z\n        .string()\n        .describe(\"The EVM concept to explain (e.g., gas, nonce, etc.)\")\n    },\n    ({ concept }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: `Please explain the EVM Blockchain concept of \"${concept}\" in detail. Include how it works, why it's important, and provide examples if applicable.`\n          }\n        }\n      ]\n    })\n  )\n\n  // Network comparison\n  server.prompt(\n    \"compare_networks\",\n    \"Compare different EVM-compatible networks\",\n    {\n      networkList: z\n        .string()\n        .describe(\n          \"Comma-separated list of networks to compare (e.g., 'bsc,opbnb,ethereum,optimism,base,etc.')\"\n        )\n    },\n    ({ networkList }) => {\n      const networks = networkList.split(\",\").map((n) => n.trim())\n      return {\n        messages: [\n          {\n            role: \"user\",\n            content: {\n              type: \"text\",\n              text: `Please compare the following EVM-compatible networks: ${networks.join(\", \")}. Include information about their architecture, gas fees, transaction speed, security, and any other relevant differences.`\n            }\n          }\n        ]\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { normalize } from \"viem/ens\"\nimport { z } from \"zod\"\n\nimport { getRpcUrl, getSupportedNetworks } from \"@/evm/chains.js\"\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\nexport function registerNetworkTools(server: McpServer) {\n  // Get EVM info for a specific network\n  server.tool(\n    \"get_chain_info\",\n    \"Get chain information for a specific network\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const chainId = await services.getChainId(network)\n        const blockNumber = await services.getBlockNumber(network)\n        const rpcUrl = getRpcUrl(network)\n\n        return mcpToolRes.success({\n          network,\n          chainId,\n          blockNumber: blockNumber.toString(),\n          rpcUrl\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching chain info\")\n      }\n    }\n  )\n\n  // Get supported networks\n  server.tool(\n    \"get_supported_networks\",\n    \"Get list of supported networks\",\n    {},\n    async () => {\n      try {\n        const networks = getSupportedNetworks()\n        return mcpToolRes.success({\n          supportedNetworks: networks\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching supported networks\")\n      }\n    }\n  )\n\n  // // Resolve ENS name to address\n  // server.tool(\n  //   \"resolve_ens\",\n  //   \"Resolve an ENS name to an EVM address (not supported on BSC)\",\n  //   {\n  //     ensName: z.string().describe(\"ENS name to resolve (e.g., 'vitalik.eth')\"),\n  //     network: defaultNetworkParam.default(\"eth\")\n  //   },\n  //   async ({ ensName, network }) => {\n  //     try {\n  //       const normalizedName = normalize(ensName)\n  //       const address = await services.resolveAddress(normalizedName, network)\n  //       return mcpToolRes.success({\n  //         ensName,\n  //         normalizedName,\n  //         resolvedAddress: address,\n  //         network\n  //       })\n  //     } catch (error) {\n  //       return mcpToolRes.error(error, \"resolving ENS name\")\n  //     }\n  //   }\n  // )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerNetworkPrompts } from \"./prompts.js\"\nimport { registerNetworkTools } from \"./tools.js\"\n\nexport function registerNetwork(server: McpServer) {\n  registerNetworkPrompts(server)\n  registerNetworkTools(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address } from \"viem\"\nimport { z } from \"zod\"\n\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\nimport { defaultNetworkParam } from \"../common/types\"\n\nexport function registerNftTools(server: McpServer) {\n  // Get NFT (ERC721) information\n  server.tool(\n    \"get_nft_info\",\n    \"Get detailed information about a specific NFT (ERC721 token), including collection name, symbol, token URI, and current owner if available.\",\n    {\n      tokenAddress: z\n        .string()\n        .describe(\n          \"The contract address of the NFT collection (e.g., '0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D' for Bored Ape Yacht Club)\"\n        ),\n      tokenId: z\n        .string()\n        .describe(\"The ID of the specific NFT token to query (e.g., '1234')\"),\n      network: defaultNetworkParam\n    },\n    async ({ tokenAddress, tokenId, network }) => {\n      try {\n        const metadata = await services.getERC721TokenMetadata(\n          tokenAddress as Address,\n          BigInt(tokenId),\n          network\n        )\n\n        return mcpToolRes.success(metadata)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching NFT metadata\")\n      }\n    }\n  )\n\n  // Add tool for getting ERC1155 token URI\n  server.tool(\n    \"get_erc1155_token_metadata\",\n    \"Get the metadata for an ERC1155 token (multi-token standard used for both fungible and non-fungible tokens). The metadata typically points to JSON metadata about the token.\",\n    {\n      tokenAddress: z\n        .string()\n        .describe(\n          \"The contract address of the ERC1155 token collection (e.g., '0x76BE3b62873462d2142405439777e971754E8E77')\"\n        ),\n      tokenId: z\n        .string()\n        .describe(\n          \"The ID of the specific token to query metadata for (e.g., '1234')\"\n        ),\n      network: defaultNetworkParam\n    },\n    async ({ tokenAddress, tokenId, network }) => {\n      try {\n        const metadata = await services.getERC1155TokenMetadata(\n          tokenAddress as Address,\n          BigInt(tokenId),\n          network\n        )\n\n        return mcpToolRes.success(metadata)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching ERC1155 token URI\")\n      }\n    }\n  )\n\n  // Transfer NFT\n  server.tool(\n    \"transfer_nft\",\n    \"Transfer an NFT to an address\",\n    {\n      privateKey: z\n        .string()\n        .describe(\n          \"Private key of the owner's account in hex format (with or without 0x prefix). SECURITY: This is used only for transaction signing and is not stored.\"\n        )\n        .default(process.env.PRIVATE_KEY as string),\n      tokenAddress: z\n        .string()\n        .describe(\n          \"The contract address of the NFT collection (e.g., '0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D' for Bored Ape Yacht Club)\"\n        ),\n      tokenId: z\n        .string()\n        .describe(\"The ID of the specific NFT to transfer (e.g., '1234')\"),\n      toAddress: z\n        .string()\n        .describe(\"The recipient address that will receive the NFT\"),\n      network: defaultNetworkParam\n    },\n    async ({ privateKey, tokenAddress, tokenId, toAddress, network }) => {\n      try {\n        const result = await services.transferERC721(\n          tokenAddress as Address,\n          toAddress as Address,\n          BigInt(tokenId),\n          privateKey,\n          network\n        )\n\n        return mcpToolRes.success({\n          success: true,\n          txHash: result.txHash,\n          network,\n          contract: tokenAddress,\n          tokenId: result.tokenId,\n          recipient: toAddress,\n          name: result.token.name,\n          symbol: result.token.symbol\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"transferring NFT\")\n      }\n    }\n  )\n\n  // Transfer ERC1155 token\n  server.tool(\n    \"transfer_erc1155\",\n    \"Transfer ERC1155 tokens to another address. ERC1155 is a multi-token standard that can represent both fungible and non-fungible tokens in a single contract.\",\n    {\n      privateKey: z\n        .string()\n        .describe(\n          \"Private key of the token owner account in hex format (with or without 0x prefix). SECURITY: This is used only for transaction signing and is not stored.\"\n        )\n        .default(process.env.PRIVATE_KEY as string),\n      tokenAddress: z\n        .string()\n        .describe(\n          \"The contract address of the ERC1155 token collection (e.g., '0x76BE3b62873462d2142405439777e971754E8E77')\"\n        ),\n      tokenId: z\n        .string()\n        .describe(\"The ID of the specific token to transfer (e.g., '1234')\"),\n      amount: z\n        .string()\n        .describe(\n          \"The quantity of tokens to send (e.g., '1' for a single NFT or '10' for 10 fungible tokens)\"\n        ),\n      toAddress: z\n        .string()\n        .describe(\"The recipient wallet address that will receive the tokens\"),\n      network: defaultNetworkParam\n    },\n    async ({\n      privateKey,\n      tokenAddress,\n      tokenId,\n      amount,\n      toAddress,\n      network\n    }) => {\n      try {\n        const result = await services.transferERC1155(\n          tokenAddress as Address,\n          toAddress as Address,\n          BigInt(tokenId),\n          amount,\n          privateKey,\n          network\n        )\n\n        return mcpToolRes.success({\n          success: true,\n          txHash: result.txHash,\n          network,\n          contract: tokenAddress,\n          tokenId: result.tokenId,\n          amount: result.amount,\n          recipient: toAddress\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"transferring ERC1155 tokens\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerNftTools } from \"./tools.js\"\n\nexport function registerNFT(server: McpServer) {\n  registerNftTools(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { formatUnits } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Common tokens by chain for portfolio tracking\nconst POPULAR_TOKENS: Record<number, Array<{ symbol: string; address: Address; decimals: number }>> = {\n  1: [ // Ethereum\n    { symbol: \"USDC\", address: \"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\", decimals: 6 },\n    { symbol: \"USDT\", address: \"0xdAC17F958D2ee523a2206206994597C13D831ec7\", decimals: 6 },\n    { symbol: \"DAI\", address: \"0x6B175474E89094C44Da98b954EescddeB131e232\", decimals: 18 },\n    { symbol: \"WETH\", address: \"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2\", decimals: 18 },\n    { symbol: \"LINK\", address: \"0x514910771AF9Ca656af840dff83E8264EcF986CA\", decimals: 18 }\n  ],\n  56: [ // BSC\n    { symbol: \"USDT\", address: \"0x55d398326f99059fF775485246999027B3197955\", decimals: 18 },\n    { symbol: \"USDC\", address: \"0x8AC76a51cc950d9822D68b83fE1Ad97B32Cd580d\", decimals: 18 },\n    { symbol: \"BUSD\", address: \"0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56\", decimals: 18 },\n    { symbol: \"WBNB\", address: \"0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c\", decimals: 18 }\n  ],\n  42161: [ // Arbitrum\n    { symbol: \"USDC\", address: \"0xaf88d065e77c8cC2239327C5EDb3A432268e5831\", decimals: 6 },\n    { symbol: \"USDT\", address: \"0xFd086bC7CD5C481DCC9C85ebE478A1C0b69FCbb9\", decimals: 6 },\n    { symbol: \"WETH\", address: \"0x82aF49447D8a07e3bd95BD0d56f35241523fBab1\", decimals: 18 },\n    { symbol: \"ARB\", address: \"0x912CE59144191C1204E64559FE8253a0e49E6548\", decimals: 18 }\n  ],\n  137: [ // Polygon\n    { symbol: \"USDC\", address: \"0x3c499c542cEF5E3811e1192ce70d8cC03d5c3359\", decimals: 6 },\n    { symbol: \"USDT\", address: \"0xc2132D05D31c914a87C6611C10748AEb04B58e8F\", decimals: 6 },\n    { symbol: \"WMATIC\", address: \"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270\", decimals: 18 }\n  ]\n}\n\n// ERC20 ABI for balance checks\nconst ERC20_ABI = [\n  {\n    name: \"balanceOf\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"account\", type: \"address\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"symbol\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"string\" }]\n  },\n  {\n    name: \"decimals\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint8\" }]\n  }\n] as const\n\nexport function registerPortfolioTools(server: McpServer) {\n  // Get portfolio overview\n  server.tool(\n    \"get_portfolio_overview\",\n    \"Get a comprehensive portfolio overview for an address\",\n    {\n      network: defaultNetworkParam,\n      address: z.string().describe(\"Wallet address to analyze\")\n    },\n    async ({ network, address }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        // Get native balance\n        const nativeBalance = await publicClient.getBalance({ address: address as Address })\n        \n        // Get popular token balances\n        const tokens = POPULAR_TOKENS[chainId] || []\n        const tokenBalances: Array<{\n          symbol: string\n          address: string\n          balance: string\n          formatted: string\n        }> = []\n\n        for (const token of tokens) {\n          try {\n            const balance = await publicClient.readContract({\n              address: token.address,\n              abi: ERC20_ABI,\n              functionName: \"balanceOf\",\n              args: [address as Address]\n            })\n            \n            if (balance > 0n) {\n              tokenBalances.push({\n                symbol: token.symbol,\n                address: token.address,\n                balance: balance.toString(),\n                formatted: formatUnits(balance, token.decimals)\n              })\n            }\n          } catch {\n            // Skip failed token checks\n          }\n        }\n\n        // Calculate holdings count\n        const totalHoldings = (nativeBalance > 0n ? 1 : 0) + tokenBalances.length\n\n        return mcpToolRes.success({\n          network,\n          chainId,\n          address,\n          native: {\n            balance: nativeBalance.toString(),\n            formatted: formatUnits(nativeBalance, 18)\n          },\n          tokens: tokenBalances,\n          summary: {\n            totalTokens: tokenBalances.length,\n            totalHoldings,\n            hasNativeBalance: nativeBalance > 0n\n          },\n          note: \"For complete portfolio, use a specialized indexer service\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting portfolio overview\")\n      }\n    }\n  )\n\n  // Get token balance\n  server.tool(\n    \"get_token_balance\",\n    \"Get balance of a specific token\",\n    {\n      network: defaultNetworkParam,\n      address: z.string().describe(\"Wallet address\"),\n      tokenAddress: z.string().describe(\"Token contract address\")\n    },\n    async ({ network, address, tokenAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const [balance, symbol, decimals] = await Promise.all([\n          publicClient.readContract({\n            address: tokenAddress as Address,\n            abi: ERC20_ABI,\n            functionName: \"balanceOf\",\n            args: [address as Address]\n          }),\n          publicClient.readContract({\n            address: tokenAddress as Address,\n            abi: ERC20_ABI,\n            functionName: \"symbol\"\n          }),\n          publicClient.readContract({\n            address: tokenAddress as Address,\n            abi: ERC20_ABI,\n            functionName: \"decimals\"\n          })\n        ])\n\n        return mcpToolRes.success({\n          network,\n          wallet: address,\n          token: {\n            address: tokenAddress,\n            symbol,\n            decimals: Number(decimals)\n          },\n          balance: balance.toString(),\n          formatted: formatUnits(balance, Number(decimals))\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting token balance\")\n      }\n    }\n  )\n\n  // Get multi-chain portfolio\n  server.tool(\n    \"get_multichain_portfolio\",\n    \"Get portfolio across multiple chains\",\n    {\n      address: z.string().describe(\"Wallet address\"),\n      networks: z.array(z.string()).optional().describe(\"Networks to check (default: all supported)\")\n    },\n    async ({ address, networks }) => {\n      try {\n        const targetNetworks = networks || [\"ethereum\", \"bsc\", \"arbitrum\", \"polygon\"]\n        const portfolio: Array<{\n          network: string\n          chainId: number\n          nativeBalance: string\n          tokenCount: number\n          status: string\n        }> = []\n\n        for (const network of targetNetworks) {\n          try {\n            const publicClient = getPublicClient(network)\n            const chainId = await publicClient.getChainId()\n            const nativeBalance = await publicClient.getBalance({ address: address as Address })\n            \n            // Count tokens with balance\n            const tokens = POPULAR_TOKENS[chainId] || []\n            let tokenCount = 0\n            \n            for (const token of tokens.slice(0, 5)) { // Check top 5\n              try {\n                const balance = await publicClient.readContract({\n                  address: token.address,\n                  abi: ERC20_ABI,\n                  functionName: \"balanceOf\",\n                  args: [address as Address]\n                })\n                if (balance > 0n) tokenCount++\n              } catch {}\n            }\n\n            portfolio.push({\n              network,\n              chainId,\n              nativeBalance: formatUnits(nativeBalance, 18),\n              tokenCount,\n              status: \"success\"\n            })\n          } catch {\n            portfolio.push({\n              network,\n              chainId: 0,\n              nativeBalance: \"0\",\n              tokenCount: 0,\n              status: \"error\"\n            })\n          }\n        }\n\n        const activeChains = portfolio.filter(p => \n          p.status === \"success\" && (parseFloat(p.nativeBalance) > 0 || p.tokenCount > 0)\n        ).length\n\n        return mcpToolRes.success({\n          address,\n          portfolio,\n          summary: {\n            chainsChecked: portfolio.length,\n            activeChains,\n            totalTokensFound: portfolio.reduce((sum, p) => sum + p.tokenCount, 0)\n          }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting multi-chain portfolio\")\n      }\n    }\n  )\n\n  // Get wallet activity summary\n  server.tool(\n    \"get_wallet_activity\",\n    \"Get recent transaction count and activity level\",\n    {\n      network: defaultNetworkParam,\n      address: z.string().describe(\"Wallet address\")\n    },\n    async ({ network, address }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const nonce = await publicClient.getTransactionCount({ address: address as Address })\n        const balance = await publicClient.getBalance({ address: address as Address })\n\n        return mcpToolRes.success({\n          network,\n          address,\n          transactionCount: nonce,\n          currentBalance: formatUnits(balance, 18),\n          activityLevel: nonce > 1000 ? \"very high\" : \n                        nonce > 100 ? \"high\" : \n                        nonce > 10 ? \"moderate\" : \"low\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting wallet activity\")\n      }\n    }\n  )\n\n  // Calculate portfolio allocation\n  server.tool(\n    \"calculate_portfolio_allocation\",\n    \"Calculate portfolio allocation percentages\",\n    {\n      holdings: z.array(z.object({\n        asset: z.string(),\n        valueUSD: z.number()\n      })).describe(\"Array of holdings with USD values\")\n    },\n    async ({ holdings }) => {\n      try {\n        const totalValue = holdings.reduce((sum, h) => sum + h.valueUSD, 0)\n        \n        const allocation = holdings.map(h => ({\n          asset: h.asset,\n          valueUSD: h.valueUSD,\n          percentage: totalValue > 0 ? ((h.valueUSD / totalValue) * 100).toFixed(2) + \"%\" : \"0%\"\n        })).sort((a, b) => b.valueUSD - a.valueUSD)\n\n        return mcpToolRes.success({\n          totalValueUSD: totalValue.toFixed(2),\n          allocation,\n          diversification: {\n            topHolding: allocation[0]?.percentage || \"0%\",\n            numberOfAssets: holdings.length,\n            concentrationRisk: holdings.length > 0 && \n              (holdings[0].valueUSD / totalValue) > 0.5 ? \"high\" : \"moderate\"\n          }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating portfolio allocation\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerPortfolioPrompts(server: McpServer) {\n  server.prompt(\n    \"full_portfolio_analysis\",\n    \"Comprehensive portfolio analysis across chains\",\n    {\n      address: { description: \"Wallet address to analyze\", required: true }\n    },\n    ({ address }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Perform a comprehensive portfolio analysis for ${address}.\n\nUse the portfolio tools to:\n1. Get multi-chain portfolio overview\n2. Check activity level\n3. Calculate allocation if values are available\n\nProvide:\n## Portfolio Analysis\n\n### Wallet: ${address}\n\n### Holdings by Chain\n[Table of holdings per chain]\n\n### Asset Allocation\n[Breakdown of major holdings]\n\n### Activity Assessment\n- Transaction history\n- Most active chains\n- Usage patterns\n\n### Recommendations\n- Diversification suggestions\n- Gas optimization (consolidation?)\n- Security considerations`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"portfolio_rebalance\",\n    \"Get rebalancing recommendations for a portfolio\",\n    {\n      address: { description: \"Wallet address\", required: true },\n      targetAllocation: { description: \"Target allocation (e.g., '50% ETH, 30% stables, 20% others')\", required: true }\n    },\n    ({ address, targetAllocation }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help rebalance the portfolio at ${address} to achieve: ${targetAllocation}\n\nAnalyze current holdings and provide:\n1. Current vs target allocation comparison\n2. Specific trades needed\n3. Estimated gas costs\n4. Best execution strategy (which DEXs, timing)`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerPortfolioTools } from \"./tools.js\"\nimport { registerPortfolioPrompts } from \"./prompts.js\"\n\nexport function registerPortfolio(server: McpServer) {\n  registerPortfolioTools(server)\n  registerPortfolioPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Chainlink Aggregator ABI\nconst CHAINLINK_AGGREGATOR_ABI = [\n  {\n    name: \"latestRoundData\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [\n      { name: \"roundId\", type: \"uint80\" },\n      { name: \"answer\", type: \"int256\" },\n      { name: \"startedAt\", type: \"uint256\" },\n      { name: \"updatedAt\", type: \"uint256\" },\n      { name: \"answeredInRound\", type: \"uint80\" }\n    ]\n  },\n  {\n    name: \"decimals\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint8\" }]\n  },\n  {\n    name: \"description\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"string\" }]\n  }\n] as const\n\n// Chainlink price feed addresses by network\nconst CHAINLINK_FEEDS: Record<number, Record<string, Address>> = {\n  1: { // Ethereum\n    \"ETH/USD\": \"0x5f4eC3Df9cbd43714FE2740f5E3616155c5b8419\",\n    \"BTC/USD\": \"0xF4030086522a5bEEa4988F8cA5B36dbC97BeE88c\",\n    \"USDC/USD\": \"0x8fFfFfd4AfB6115b954Bd326cbe7B4BA576818f6\",\n    \"USDT/USD\": \"0x3E7d1eAB13ad0104d2750B8863b489D65364e32D\",\n    \"DAI/USD\": \"0xAed0c38402a5d19df6E4c03F4E2DceD6e29c1ee9\",\n    \"LINK/USD\": \"0x2c1d072e956AFFC0D435Cb7AC38EF18d24d9127c\"\n  },\n  56: { // BSC\n    \"BNB/USD\": \"0x0567F2323251f0Aab15c8dFb1967E4e8A7D42aeE\",\n    \"BTC/USD\": \"0x264990fbd0A4796A3E3d8E37C4d5F87a3aCa5Ebf\",\n    \"ETH/USD\": \"0x9ef1B8c0E4F7dc8bF5719Ea496883DC6401d5b2e\",\n    \"USDC/USD\": \"0x51597f405303C4377E36123cBc172b13269EA163\"\n  },\n  137: { // Polygon\n    \"MATIC/USD\": \"0xAB594600376Ec9fD91F8e885dADF0CE036862dE0\",\n    \"ETH/USD\": \"0xF9680D99D6C9589e2a93a78A04A279e509205945\",\n    \"BTC/USD\": \"0xc907E116054Ad103354f2D350FD2514433D57F6f\"\n  },\n  42161: { // Arbitrum\n    \"ETH/USD\": \"0x639Fe6ab55C921f74e7fac1ee960C0B6293ba612\",\n    \"BTC/USD\": \"0x6ce185860a4963106506C203335A2910A89E0D8A\",\n    \"USDC/USD\": \"0x50834F3163758fcC1Df9973b6e91f0F0F0434aD3\",\n    \"ARB/USD\": \"0xb2A824043730FE05F3DA2efaFa1CBbe83fa548D6\"\n  }\n}\n\n// Uniswap V3 TWAP Oracle ABI (for on-chain price calculation)\nconst UNISWAP_POOL_ABI = [\n  {\n    name: \"observe\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"secondsAgos\", type: \"uint32[]\" }],\n    outputs: [\n      { name: \"tickCumulatives\", type: \"int56[]\" },\n      { name: \"secondsPerLiquidityCumulativeX128s\", type: \"uint160[]\" }\n    ]\n  },\n  {\n    name: \"slot0\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [\n      { name: \"sqrtPriceX96\", type: \"uint160\" },\n      { name: \"tick\", type: \"int24\" },\n      { name: \"observationIndex\", type: \"uint16\" },\n      { name: \"observationCardinality\", type: \"uint16\" },\n      { name: \"observationCardinalityNext\", type: \"uint16\" },\n      { name: \"feeProtocol\", type: \"uint8\" },\n      { name: \"unlocked\", type: \"bool\" }\n    ]\n  }\n] as const\n\nexport function registerPriceFeedsTools(server: McpServer) {\n  // Get Chainlink price\n  server.tool(\n    \"get_chainlink_price\",\n    \"Get price from a Chainlink price feed\",\n    {\n      network: defaultNetworkParam,\n      pair: z.string().describe(\"Price pair (e.g., 'ETH/USD', 'BTC/USD')\")\n    },\n    async ({ network, pair }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const feedAddress = CHAINLINK_FEEDS[chainId]?.[pair]\n        if (!feedAddress) {\n          return mcpToolRes.error(\n            new Error(`Price feed for ${pair} not available on this network`),\n            \"getting Chainlink price\"\n          )\n        }\n\n        const [roundData, decimals, description] = await Promise.all([\n          publicClient.readContract({\n            address: feedAddress,\n            abi: CHAINLINK_AGGREGATOR_ABI,\n            functionName: \"latestRoundData\"\n          }),\n          publicClient.readContract({\n            address: feedAddress,\n            abi: CHAINLINK_AGGREGATOR_ABI,\n            functionName: \"decimals\"\n          }),\n          publicClient.readContract({\n            address: feedAddress,\n            abi: CHAINLINK_AGGREGATOR_ABI,\n            functionName: \"description\"\n          })\n        ])\n\n        const [roundId, answer, startedAt, updatedAt, answeredInRound] = roundData\n        const price = Number(answer) / Math.pow(10, Number(decimals))\n        const updateTime = new Date(Number(updatedAt) * 1000)\n\n        return mcpToolRes.success({\n          network,\n          pair,\n          feedAddress,\n          description,\n          price: price.toFixed(Number(decimals)),\n          priceRaw: answer.toString(),\n          decimals: Number(decimals),\n          roundId: roundId.toString(),\n          updatedAt: updateTime.toISOString(),\n          ageSeconds: Math.floor(Date.now() / 1000) - Number(updatedAt)\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting Chainlink price\")\n      }\n    }\n  )\n\n  // Get available price feeds\n  server.tool(\n    \"get_available_price_feeds\",\n    \"List available Chainlink price feeds on a network\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const feeds = CHAINLINK_FEEDS[chainId] || {}\n\n        return mcpToolRes.success({\n          network,\n          chainId,\n          feeds: Object.entries(feeds).map(([pair, address]) => ({\n            pair,\n            feedAddress: address\n          })),\n          note: Object.keys(feeds).length === 0 \n            ? \"No price feeds configured for this network\"\n            : \"Use get_chainlink_price with any of these pairs\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting available price feeds\")\n      }\n    }\n  )\n\n  // Get price from custom feed\n  server.tool(\n    \"get_custom_price_feed\",\n    \"Get price from a custom Chainlink price feed address\",\n    {\n      network: defaultNetworkParam,\n      feedAddress: z.string().describe(\"Chainlink aggregator contract address\")\n    },\n    async ({ network, feedAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n\n        const [roundData, decimals, description] = await Promise.all([\n          publicClient.readContract({\n            address: feedAddress as Address,\n            abi: CHAINLINK_AGGREGATOR_ABI,\n            functionName: \"latestRoundData\"\n          }),\n          publicClient.readContract({\n            address: feedAddress as Address,\n            abi: CHAINLINK_AGGREGATOR_ABI,\n            functionName: \"decimals\"\n          }),\n          publicClient.readContract({\n            address: feedAddress as Address,\n            abi: CHAINLINK_AGGREGATOR_ABI,\n            functionName: \"description\"\n          })\n        ])\n\n        const [roundId, answer, , updatedAt] = roundData\n        const price = Number(answer) / Math.pow(10, Number(decimals))\n\n        return mcpToolRes.success({\n          network,\n          feedAddress,\n          description,\n          price: price.toFixed(Number(decimals)),\n          priceRaw: answer.toString(),\n          decimals: Number(decimals),\n          roundId: roundId.toString(),\n          updatedAt: new Date(Number(updatedAt) * 1000).toISOString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting custom price feed\")\n      }\n    }\n  )\n\n  // Get multiple prices\n  server.tool(\n    \"get_multiple_prices\",\n    \"Get prices for multiple pairs in a single call\",\n    {\n      network: defaultNetworkParam,\n      pairs: z.array(z.string()).describe(\"Array of price pairs (e.g., ['ETH/USD', 'BTC/USD'])\")\n    },\n    async ({ network, pairs }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const prices: Array<{\n          pair: string\n          price: string | null\n          error: string | null\n        }> = []\n\n        for (const pair of pairs) {\n          const feedAddress = CHAINLINK_FEEDS[chainId]?.[pair]\n          if (!feedAddress) {\n            prices.push({ pair, price: null, error: \"Feed not available\" })\n            continue\n          }\n\n          try {\n            const [roundData, decimals] = await Promise.all([\n              publicClient.readContract({\n                address: feedAddress,\n                abi: CHAINLINK_AGGREGATOR_ABI,\n                functionName: \"latestRoundData\"\n              }),\n              publicClient.readContract({\n                address: feedAddress,\n                abi: CHAINLINK_AGGREGATOR_ABI,\n                functionName: \"decimals\"\n              })\n            ])\n\n            const [, answer] = roundData\n            const price = Number(answer) / Math.pow(10, Number(decimals))\n            prices.push({ pair, price: price.toFixed(Number(decimals)), error: null })\n          } catch (e) {\n            prices.push({ pair, price: null, error: \"Failed to fetch\" })\n          }\n        }\n\n        return mcpToolRes.success({\n          network,\n          prices,\n          fetchedAt: new Date().toISOString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting multiple prices\")\n      }\n    }\n  )\n\n  // Calculate price from Uniswap V3 pool\n  server.tool(\n    \"get_uniswap_pool_price\",\n    \"Get current price from a Uniswap V3 pool\",\n    {\n      network: defaultNetworkParam,\n      poolAddress: z.string().describe(\"Uniswap V3 pool address\"),\n      token0Decimals: z.number().optional().describe(\"Decimals of token0 (default: 18)\"),\n      token1Decimals: z.number().optional().describe(\"Decimals of token1 (default: 18)\")\n    },\n    async ({ network, poolAddress, token0Decimals = 18, token1Decimals = 18 }) => {\n      try {\n        const publicClient = getPublicClient(network)\n\n        const slot0 = await publicClient.readContract({\n          address: poolAddress as Address,\n          abi: UNISWAP_POOL_ABI,\n          functionName: \"slot0\"\n        })\n\n        const sqrtPriceX96 = slot0[0]\n        const tick = slot0[1]\n\n        // Calculate price from sqrtPriceX96\n        // price = (sqrtPriceX96 / 2^96)^2\n        const Q96 = 2n ** 96n\n        const sqrtPrice = Number(sqrtPriceX96) / Number(Q96)\n        const price = sqrtPrice * sqrtPrice\n\n        // Adjust for decimals\n        const adjustedPrice = price * Math.pow(10, token0Decimals - token1Decimals)\n\n        return mcpToolRes.success({\n          network,\n          poolAddress,\n          sqrtPriceX96: sqrtPriceX96.toString(),\n          tick,\n          priceToken0InToken1: adjustedPrice.toString(),\n          priceToken1InToken0: (1 / adjustedPrice).toString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting Uniswap pool price\")\n      }\n    }\n  )\n\n  // Check price feed staleness\n  server.tool(\n    \"check_price_feed_health\",\n    \"Check if a price feed is stale or unhealthy\",\n    {\n      network: defaultNetworkParam,\n      pair: z.string().describe(\"Price pair to check\"),\n      maxAge: z.number().optional().describe(\"Maximum acceptable age in seconds (default: 3600)\")\n    },\n    async ({ network, pair, maxAge = 3600 }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const feedAddress = CHAINLINK_FEEDS[chainId]?.[pair]\n        if (!feedAddress) {\n          return mcpToolRes.error(new Error(`Feed not found for ${pair}`), \"checking price feed health\")\n        }\n\n        const roundData = await publicClient.readContract({\n          address: feedAddress,\n          abi: CHAINLINK_AGGREGATOR_ABI,\n          functionName: \"latestRoundData\"\n        })\n\n        const [roundId, answer, , updatedAt, answeredInRound] = roundData\n        const currentTime = Math.floor(Date.now() / 1000)\n        const age = currentTime - Number(updatedAt)\n\n        const issues: string[] = []\n        \n        if (age > maxAge) {\n          issues.push(`Price is stale (${age}s old, max ${maxAge}s)`)\n        }\n        \n        if (answer <= 0n) {\n          issues.push(\"Price is zero or negative\")\n        }\n        \n        if (answeredInRound < roundId) {\n          issues.push(\"Price was not updated in current round\")\n        }\n\n        return mcpToolRes.success({\n          network,\n          pair,\n          feedAddress,\n          healthy: issues.length === 0,\n          issues,\n          details: {\n            roundId: roundId.toString(),\n            answeredInRound: answeredInRound.toString(),\n            updatedAt: new Date(Number(updatedAt) * 1000).toISOString(),\n            ageSeconds: age,\n            price: answer.toString()\n          }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"checking price feed health\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerPriceFeedsPrompts(server: McpServer) {\n  server.prompt(\n    \"price_analysis\",\n    \"Get comprehensive price analysis for assets\",\n    {\n      assets: { description: \"Comma-separated list of assets (e.g., ETH, BTC, USDC)\", required: true },\n      network: { description: \"Network to check prices on\", required: true }\n    },\n    ({ assets, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Provide price analysis for ${assets} on ${network}.\n\nUse the price feed tools to:\n1. Get available price feeds with get_available_price_feeds\n2. Get current prices with get_multiple_prices or get_chainlink_price\n3. Check feed health with check_price_feed_health\n\nProvide:\n## Price Analysis Report\n\n### Current Prices\n| Asset | Price (USD) | Last Updated | Feed Health |\n|-------|-------------|--------------|-------------|\n[Fill in data]\n\n### Feed Status\n- Any stale feeds\n- Any feeds with issues\n- Reliability assessment\n\n### Notes\n- Price source (Chainlink)\n- Data freshness`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"monitor_price_feeds\",\n    \"Set up monitoring recommendations for price feeds\",\n    {\n      protocol: { description: \"Protocol that depends on these feeds\", required: true },\n      assets: { description: \"Assets to monitor\", required: true }\n    },\n    ({ protocol, assets }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help set up price feed monitoring for ${protocol} using ${assets}.\n\nProvide recommendations for:\n1. Which feeds to monitor\n2. Acceptable staleness thresholds\n3. Alert conditions\n4. Backup data sources\n5. Risk mitigation strategies`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerPriceFeedsTools } from \"./tools.js\"\nimport { registerPriceFeedsPrompts } from \"./prompts.js\"\n\nexport function registerPriceFeeds(server: McpServer) {\n  registerPriceFeedsTools(server)\n  registerPriceFeedsPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { decodeFunctionData, parseAbi } from \"viem\"\nimport { z } from \"zod\"\n\nimport { getPublicClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam } from \"../common/types.js\"\n\n// Known malicious addresses (example - would be updated from external sources)\nconst KNOWN_SCAM_ADDRESSES = new Set([\n  // These would be populated from security APIs\n])\n\n// Known scam patterns in contract bytecode\nconst SCAM_PATTERNS = [\n  { pattern: \"99% tax\", risk: \"high\", description: \"Honeypot with extreme sell tax\" },\n  { pattern: \"hidden owner\", risk: \"high\", description: \"Owner functions accessible by deployer\" },\n  { pattern: \"pause trading\", risk: \"medium\", description: \"Owner can pause all transfers\" },\n  { pattern: \"blacklist\", risk: \"medium\", description: \"Owner can blacklist addresses\" },\n  { pattern: \"mint unlimited\", risk: \"high\", description: \"Unlimited minting capability\" },\n  { pattern: \"proxy unverified\", risk: \"medium\", description: \"Unverified proxy implementation\" }\n]\n\n// Common approval spenders to check\nconst COMMON_SPENDERS: Record<number, Record<string, Address>> = {\n  1: { // Ethereum\n    \"Uniswap V2\": \"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D\",\n    \"Uniswap V3\": \"0xE592427A0AEce92De3Edee1F18E0157C05861564\",\n    \"1inch\": \"0x1111111254fb6c44bAC0beD2854e76F90643097d\"\n  },\n  56: { // BSC\n    \"PancakeSwap V2\": \"0x10ED43C718714eb63d5aA57B78B54704E256024E\",\n    \"PancakeSwap V3\": \"0x13f4EA83D0bd40E75C8222255bc855a974568Dd4\"\n  },\n  42161: { // Arbitrum\n    \"Uniswap V3\": \"0xE592427A0AEce92De3Edee1F18E0157C05861564\",\n    \"Camelot\": \"0xc873fEcbd354f5A56E00E710B90EF4201db2448d\"\n  }\n}\n\n// ERC20 ABI for security checks\nconst ERC20_SECURITY_ABI = parseAbi([\n  \"function owner() view returns (address)\",\n  \"function paused() view returns (bool)\",\n  \"function _taxFee() view returns (uint256)\",\n  \"function _liquidityFee() view returns (uint256)\",\n  \"function isBlacklisted(address) view returns (bool)\",\n  \"function allowance(address,address) view returns (uint256)\"\n])\n\nexport function registerSecurityTools(server: McpServer) {\n  // Analyze token contract for risks\n  server.tool(\n    \"analyze_token_security\",\n    \"Analyze a token contract for security risks and red flags\",\n    {\n      network: defaultNetworkParam,\n      tokenAddress: z.string().describe(\"Token contract address to analyze\")\n    },\n    async ({ network, tokenAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const risks: Array<{ type: string; severity: string; description: string }> = []\n        const details: Record<string, unknown> = {}\n\n        // Get contract code\n        const code = await publicClient.getCode({ address: tokenAddress as Address })\n        \n        if (!code || code === \"0x\") {\n          return mcpToolRes.error(new Error(\"No contract at this address\"), \"analyzing token\")\n        }\n\n        details.hasCode = true\n        details.codeSize = code.length\n\n        // Check for common risky functions\n        try {\n          const owner = await publicClient.readContract({\n            address: tokenAddress as Address,\n            abi: ERC20_SECURITY_ABI,\n            functionName: \"owner\"\n          })\n          details.owner = owner\n          \n          if (owner !== \"0x0000000000000000000000000000000000000000\") {\n            risks.push({\n              type: \"centralization\",\n              severity: \"medium\",\n              description: `Contract has an owner: ${owner}`\n            })\n          }\n        } catch {\n          details.owner = \"No owner function or renounced\"\n        }\n\n        // Check if paused\n        try {\n          const paused = await publicClient.readContract({\n            address: tokenAddress as Address,\n            abi: ERC20_SECURITY_ABI,\n            functionName: \"paused\"\n          })\n          if (paused) {\n            risks.push({\n              type: \"pausable\",\n              severity: \"high\",\n              description: \"Token transfers are currently paused\"\n            })\n          }\n          details.pausable = true\n        } catch {\n          details.pausable = false\n        }\n\n        // Check for tax functions\n        try {\n          const taxFee = await publicClient.readContract({\n            address: tokenAddress as Address,\n            abi: ERC20_SECURITY_ABI,\n            functionName: \"_taxFee\"\n          })\n          details.taxFee = Number(taxFee)\n          if (Number(taxFee) > 10) {\n            risks.push({\n              type: \"high_tax\",\n              severity: \"high\",\n              description: `High tax fee detected: ${taxFee}%`\n            })\n          }\n        } catch {\n          // No tax function\n        }\n\n        // Calculate risk score\n        const riskScore = risks.reduce((score, risk) => {\n          if (risk.severity === \"high\") return score + 30\n          if (risk.severity === \"medium\") return score + 15\n          return score + 5\n        }, 0)\n\n        return mcpToolRes.success({\n          network,\n          tokenAddress,\n          riskScore: Math.min(riskScore, 100),\n          riskLevel: riskScore >= 60 ? \"high\" : riskScore >= 30 ? \"medium\" : \"low\",\n          risks,\n          details,\n          recommendation: riskScore >= 60 \n            ? \"HIGH RISK - Avoid interacting with this token\"\n            : riskScore >= 30\n            ? \"MEDIUM RISK - Proceed with caution\"\n            : \"LOW RISK - Standard token contract\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"analyzing token security\")\n      }\n    }\n  )\n\n  // Check approval risks\n  server.tool(\n    \"check_approval_risks\",\n    \"Check token approvals for a wallet and identify risky unlimited approvals\",\n    {\n      network: defaultNetworkParam,\n      walletAddress: z.string().describe(\"Wallet address to check\"),\n      tokenAddresses: z.array(z.string()).optional().describe(\"Specific tokens to check\")\n    },\n    async ({ network, walletAddress, tokenAddresses }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const spenders = COMMON_SPENDERS[chainId] || {}\n        const riskyApprovals: Array<{\n          token: string\n          spender: string\n          spenderName: string\n          allowance: string\n          risk: string\n        }> = []\n\n        // If no specific tokens, we can't check (would need indexer)\n        if (!tokenAddresses || tokenAddresses.length === 0) {\n          return mcpToolRes.success({\n            network,\n            walletAddress,\n            message: \"Provide specific token addresses to check approvals\",\n            commonSpenders: Object.entries(spenders).map(([name, addr]) => ({ name, address: addr }))\n          })\n        }\n\n        for (const token of tokenAddresses) {\n          for (const [spenderName, spenderAddr] of Object.entries(spenders)) {\n            try {\n              const allowance = await publicClient.readContract({\n                address: token as Address,\n                abi: ERC20_SECURITY_ABI,\n                functionName: \"allowance\",\n                args: [walletAddress as Address, spenderAddr]\n              })\n              \n              if (allowance > 0n) {\n                const isUnlimited = allowance >= BigInt(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\") / 2n\n                \n                riskyApprovals.push({\n                  token,\n                  spender: spenderAddr,\n                  spenderName,\n                  allowance: allowance.toString(),\n                  risk: isUnlimited ? \"unlimited\" : \"limited\"\n                })\n              }\n            } catch {\n              // Skip if allowance check fails\n            }\n          }\n        }\n\n        const unlimitedCount = riskyApprovals.filter(a => a.risk === \"unlimited\").length\n\n        return mcpToolRes.success({\n          network,\n          walletAddress,\n          totalApprovals: riskyApprovals.length,\n          unlimitedApprovals: unlimitedCount,\n          riskLevel: unlimitedCount > 5 ? \"high\" : unlimitedCount > 0 ? \"medium\" : \"low\",\n          approvals: riskyApprovals,\n          recommendation: unlimitedCount > 0 \n            ? \"Consider revoking unlimited approvals for tokens you no longer use\"\n            : \"No concerning approvals found\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"checking approval risks\")\n      }\n    }\n  )\n\n  // Verify contract source\n  server.tool(\n    \"verify_contract\",\n    \"Check if a contract is verified and get basic verification status\",\n    {\n      network: defaultNetworkParam,\n      contractAddress: z.string().describe(\"Contract address to verify\")\n    },\n    async ({ network, contractAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Get bytecode\n        const code = await publicClient.getCode({ address: contractAddress as Address })\n        \n        if (!code || code === \"0x\") {\n          return mcpToolRes.success({\n            network,\n            contractAddress,\n            hasCode: false,\n            isContract: false,\n            note: \"Address is not a contract (EOA or empty)\"\n          })\n        }\n\n        // Check for proxy patterns\n        const isProxy = code.includes(\"363d3d373d3d3d363d\") || // EIP-1167 minimal proxy\n                       code.includes(\"5860208158601c335a63\") // UUPS proxy pattern\n\n        return mcpToolRes.success({\n          network,\n          contractAddress,\n          hasCode: true,\n          isContract: true,\n          codeSize: code.length,\n          isProxy,\n          note: isProxy \n            ? \"This appears to be a proxy contract - verify the implementation\"\n            : \"Contract has bytecode - verify on block explorer for source code\",\n          explorerUrl: `https://etherscan.io/address/${contractAddress}#code`\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"verifying contract\")\n      }\n    }\n  )\n\n  // Simulate transaction\n  server.tool(\n    \"simulate_transaction\",\n    \"Simulate a transaction to check for potential issues before execution\",\n    {\n      network: defaultNetworkParam,\n      from: z.string().describe(\"Sender address\"),\n      to: z.string().describe(\"Target contract/address\"),\n      value: z.string().optional().describe(\"Value in wei\"),\n      data: z.string().optional().describe(\"Transaction data (hex)\")\n    },\n    async ({ network, from, to, value, data }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Simulate the call\n        const result = await publicClient.call({\n          account: from as Address,\n          to: to as Address,\n          value: value ? BigInt(value) : 0n,\n          data: data as Hex | undefined\n        })\n\n        // Estimate gas\n        let gasEstimate: bigint | null = null\n        try {\n          gasEstimate = await publicClient.estimateGas({\n            account: from as Address,\n            to: to as Address,\n            value: value ? BigInt(value) : 0n,\n            data: data as Hex | undefined\n          })\n        } catch {\n          // Gas estimation failed\n        }\n\n        return mcpToolRes.success({\n          network,\n          simulation: \"success\",\n          result: result.data || \"0x\",\n          gasEstimate: gasEstimate?.toString() || \"estimation failed\",\n          warnings: [],\n          safe: true\n        })\n      } catch (error: any) {\n        // Parse revert reason\n        let revertReason = \"Unknown error\"\n        if (error.message) {\n          revertReason = error.message\n        }\n\n        return mcpToolRes.success({\n          network,\n          simulation: \"failed\",\n          error: revertReason,\n          warnings: [\"Transaction would revert\"],\n          safe: false,\n          recommendation: \"Do not proceed - transaction will fail\"\n        })\n      }\n    }\n  )\n\n  // Check address type\n  server.tool(\n    \"check_address_type\",\n    \"Determine if an address is a contract, EOA, or known entity\",\n    {\n      network: defaultNetworkParam,\n      address: z.string().describe(\"Address to check\")\n    },\n    async ({ network, address }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        const code = await publicClient.getCode({ address: address as Address })\n        const balance = await publicClient.getBalance({ address: address as Address })\n        const nonce = await publicClient.getTransactionCount({ address: address as Address })\n\n        const isContract = code && code !== \"0x\" && code.length > 2\n\n        return mcpToolRes.success({\n          network,\n          address,\n          type: isContract ? \"contract\" : \"eoa\",\n          balance: balance.toString(),\n          nonce,\n          codeSize: isContract ? code.length : 0,\n          isKnownScam: KNOWN_SCAM_ADDRESSES.has(address.toLowerCase())\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"checking address type\")\n      }\n    }\n  )\n\n  // Decode transaction data\n  server.tool(\n    \"decode_transaction_data\",\n    \"Decode transaction input data to understand what it does\",\n    {\n      data: z.string().describe(\"Transaction input data (hex)\"),\n      abi: z.string().optional().describe(\"Contract ABI (JSON string) for decoding\")\n    },\n    async ({ data, abi }) => {\n      try {\n        // Extract function selector\n        const selector = data.slice(0, 10)\n        \n        // Common function selectors\n        const KNOWN_SELECTORS: Record<string, string> = {\n          \"0xa9059cbb\": \"transfer(address,uint256)\",\n          \"0x095ea7b3\": \"approve(address,uint256)\",\n          \"0x23b872dd\": \"transferFrom(address,address,uint256)\",\n          \"0x38ed1739\": \"swapExactTokensForTokens(uint256,uint256,address[],address,uint256)\",\n          \"0x7ff36ab5\": \"swapExactETHForTokens(uint256,address[],address,uint256)\",\n          \"0x18cbafe5\": \"swapExactTokensForETH(uint256,uint256,address[],address,uint256)\",\n          \"0xe8e33700\": \"addLiquidity(...)\",\n          \"0xf305d719\": \"addLiquidityETH(...)\",\n          \"0x2e1a7d4d\": \"withdraw(uint256)\",\n          \"0xd0e30db0\": \"deposit()\"\n        }\n\n        const knownFunction = KNOWN_SELECTORS[selector]\n\n        if (abi) {\n          try {\n            const parsedAbi = JSON.parse(abi)\n            const decoded = decodeFunctionData({\n              abi: parsedAbi,\n              data: data as Hex\n            })\n            return mcpToolRes.success({\n              selector,\n              functionName: decoded.functionName,\n              args: decoded.args,\n              decoded: true\n            })\n          } catch {\n            // Continue with known selector lookup\n          }\n        }\n\n        return mcpToolRes.success({\n          selector,\n          knownFunction: knownFunction || \"Unknown function\",\n          decoded: !!knownFunction,\n          dataLength: data.length,\n          note: knownFunction \n            ? `This appears to be a ${knownFunction} call`\n            : \"Provide the contract ABI for full decoding\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"decoding transaction data\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerSecurityPrompts(server: McpServer) {\n  server.prompt(\n    \"security_audit\",\n    \"Perform a comprehensive security audit on a token or contract\",\n    {\n      contractAddress: { description: \"Contract address to audit\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ contractAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Perform a comprehensive security audit on contract ${contractAddress} on ${network}.\n\nUse the security tools to:\n1. Analyze token security with analyze_token_security\n2. Verify contract code with verify_contract\n3. Check address type with check_address_type\n4. Review any transaction data if available\n\nProvide:\n## Security Audit Report\n\n### Contract: ${contractAddress}\n### Network: ${network}\n\n### Risk Assessment\n| Category | Risk Level | Details |\n|----------|------------|---------|\n[Risk breakdown by category]\n\n### Findings\n#### Critical\n[Any critical security issues]\n\n#### High\n[High severity issues]\n\n#### Medium\n[Medium severity issues]\n\n#### Low\n[Low severity issues]\n\n### Code Analysis\n- Contract type (token, proxy, etc.)\n- Ownership status\n- Upgrade capabilities\n\n### Recommendations\n1. [Specific recommendations]\n\n### Conclusion\n[Overall assessment and safety rating]`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"wallet_security_review\",\n    \"Review wallet security including approvals and interaction history\",\n    {\n      walletAddress: { description: \"Wallet address to review\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ walletAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Perform a security review of wallet ${walletAddress} on ${network}.\n\nAnalyze:\n1. Token approval risks using check_approval_risks\n2. Address type verification\n3. Recent transaction patterns\n\nProvide:\n## Wallet Security Review\n\n### Wallet: ${walletAddress}\n\n### Approval Analysis\n- Total active approvals\n- Unlimited approvals (high risk)\n- Approved spenders\n\n### Recommendations\n- Approvals to revoke\n- Security best practices\n- Risk mitigation steps`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerSecurityTools } from \"./tools.js\"\nimport { registerSecurityPrompts } from \"./prompts.js\"\n\nexport function registerSecurity(server: McpServer) {\n  registerSecurityTools(server)\n  registerSecurityPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Hex } from \"viem\"\nimport { \n  hashMessage, \n  hashTypedData, \n  verifyMessage, \n  verifyTypedData,\n  recoverMessageAddress,\n  recoverTypedDataAddress\n} from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\nimport { z } from \"zod\"\n\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { privateKeyParam } from \"../common/types.js\"\n\n// EIP-712 Domain type\nconst EIP712_DOMAIN_SCHEMA = z.object({\n  name: z.string().optional(),\n  version: z.string().optional(),\n  chainId: z.number().optional(),\n  verifyingContract: z.string().optional(),\n  salt: z.string().optional()\n})\n\nexport function registerSignaturesTools(server: McpServer) {\n  // Sign message (personal_sign)\n  server.tool(\n    \"sign_message\",\n    \"Sign a message using personal_sign (EIP-191)\",\n    {\n      message: z.string().describe(\"Message to sign\"),\n      privateKey: privateKeyParam\n    },\n    async ({ message, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        const signature = await account.signMessage({ message })\n        const messageHash = hashMessage(message)\n\n        return mcpToolRes.success({\n          message,\n          signer: account.address,\n          signature,\n          messageHash,\n          standard: \"EIP-191 (personal_sign)\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"signing message\")\n      }\n    }\n  )\n\n  // Verify message signature\n  server.tool(\n    \"verify_message_signature\",\n    \"Verify a personal_sign message signature\",\n    {\n      message: z.string().describe(\"Original message\"),\n      signature: z.string().describe(\"Signature to verify\"),\n      address: z.string().describe(\"Expected signer address\")\n    },\n    async ({ message, signature, address }) => {\n      try {\n        const isValid = await verifyMessage({\n          message,\n          signature: signature as Hex,\n          address: address as `0x${string}`\n        })\n\n        const recoveredAddress = await recoverMessageAddress({\n          message,\n          signature: signature as Hex\n        })\n\n        return mcpToolRes.success({\n          message,\n          expectedSigner: address,\n          recoveredSigner: recoveredAddress,\n          isValid,\n          match: recoveredAddress.toLowerCase() === address.toLowerCase()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"verifying message signature\")\n      }\n    }\n  )\n\n  // Sign typed data (EIP-712)\n  server.tool(\n    \"sign_typed_data\",\n    \"Sign typed data using EIP-712\",\n    {\n      domain: EIP712_DOMAIN_SCHEMA.describe(\"EIP-712 domain\"),\n      types: z.record(z.array(z.object({\n        name: z.string(),\n        type: z.string()\n      }))).describe(\"Type definitions\"),\n      primaryType: z.string().describe(\"Primary type name\"),\n      message: z.record(z.unknown()).describe(\"Message to sign\"),\n      privateKey: privateKeyParam\n    },\n    async ({ domain, types, primaryType, message, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        \n        const signature = await account.signTypedData({\n          domain: domain as any,\n          types: types as any,\n          primaryType,\n          message: message as any\n        })\n\n        const hash = hashTypedData({\n          domain: domain as any,\n          types: types as any,\n          primaryType,\n          message: message as any\n        })\n\n        return mcpToolRes.success({\n          domain,\n          primaryType,\n          message,\n          signer: account.address,\n          signature,\n          typedDataHash: hash,\n          standard: \"EIP-712\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"signing typed data\")\n      }\n    }\n  )\n\n  // Verify typed data signature\n  server.tool(\n    \"verify_typed_data_signature\",\n    \"Verify an EIP-712 typed data signature\",\n    {\n      domain: EIP712_DOMAIN_SCHEMA.describe(\"EIP-712 domain\"),\n      types: z.record(z.array(z.object({\n        name: z.string(),\n        type: z.string()\n      }))).describe(\"Type definitions\"),\n      primaryType: z.string().describe(\"Primary type name\"),\n      message: z.record(z.unknown()).describe(\"Original message\"),\n      signature: z.string().describe(\"Signature to verify\"),\n      address: z.string().describe(\"Expected signer address\")\n    },\n    async ({ domain, types, primaryType, message, signature, address }) => {\n      try {\n        const isValid = await verifyTypedData({\n          domain: domain as any,\n          types: types as any,\n          primaryType,\n          message: message as any,\n          signature: signature as Hex,\n          address: address as `0x${string}`\n        })\n\n        const recoveredAddress = await recoverTypedDataAddress({\n          domain: domain as any,\n          types: types as any,\n          primaryType,\n          message: message as any,\n          signature: signature as Hex\n        })\n\n        return mcpToolRes.success({\n          expectedSigner: address,\n          recoveredSigner: recoveredAddress,\n          isValid,\n          match: recoveredAddress.toLowerCase() === address.toLowerCase()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"verifying typed data signature\")\n      }\n    }\n  )\n\n  // Hash message\n  server.tool(\n    \"hash_message\",\n    \"Hash a message using EIP-191 format\",\n    {\n      message: z.string().describe(\"Message to hash\")\n    },\n    async ({ message }) => {\n      try {\n        const hash = hashMessage(message)\n        return mcpToolRes.success({\n          message,\n          hash,\n          standard: \"EIP-191\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"hashing message\")\n      }\n    }\n  )\n\n  // Create permit signature (EIP-2612)\n  server.tool(\n    \"create_permit_signature\",\n    \"Create an EIP-2612 permit signature for gasless token approvals\",\n    {\n      tokenAddress: z.string().describe(\"ERC20 token address\"),\n      tokenName: z.string().describe(\"Token name (for EIP-712 domain)\"),\n      spender: z.string().describe(\"Spender address to approve\"),\n      value: z.string().describe(\"Amount to approve (in wei)\"),\n      nonce: z.number().describe(\"Current nonce for the owner\"),\n      deadline: z.number().describe(\"Permit deadline (unix timestamp)\"),\n      chainId: z.number().describe(\"Chain ID\"),\n      privateKey: privateKeyParam\n    },\n    async ({ tokenAddress, tokenName, spender, value, nonce, deadline, chainId, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n\n        const domain = {\n          name: tokenName,\n          version: \"1\",\n          chainId,\n          verifyingContract: tokenAddress as `0x${string}`\n        }\n\n        const types = {\n          Permit: [\n            { name: \"owner\", type: \"address\" },\n            { name: \"spender\", type: \"address\" },\n            { name: \"value\", type: \"uint256\" },\n            { name: \"nonce\", type: \"uint256\" },\n            { name: \"deadline\", type: \"uint256\" }\n          ]\n        }\n\n        const message = {\n          owner: account.address,\n          spender: spender as `0x${string}`,\n          value: BigInt(value),\n          nonce: BigInt(nonce),\n          deadline: BigInt(deadline)\n        }\n\n        const signature = await account.signTypedData({\n          domain,\n          types,\n          primaryType: \"Permit\",\n          message\n        })\n\n        // Split signature\n        const r = signature.slice(0, 66) as Hex\n        const s = `0x${signature.slice(66, 130)}` as Hex\n        const v = parseInt(signature.slice(130, 132), 16)\n\n        return mcpToolRes.success({\n          owner: account.address,\n          spender,\n          value,\n          nonce,\n          deadline,\n          signature,\n          components: { r, s, v },\n          standard: \"EIP-2612\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"creating permit signature\")\n      }\n    }\n  )\n\n  // Recover signer from signature\n  server.tool(\n    \"recover_signer\",\n    \"Recover the signer address from a signature\",\n    {\n      message: z.string().describe(\"Original message\"),\n      signature: z.string().describe(\"Signature\")\n    },\n    async ({ message, signature }) => {\n      try {\n        const address = await recoverMessageAddress({\n          message,\n          signature: signature as Hex\n        })\n\n        return mcpToolRes.success({\n          message,\n          signature,\n          recoveredAddress: address\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"recovering signer\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerSignaturesPrompts(server: McpServer) {\n  server.prompt(\n    \"create_gasless_approval\",\n    \"Help create a gasless token approval using EIP-2612 permit\",\n    {\n      tokenAddress: { description: \"Token contract address\", required: true },\n      spender: { description: \"Address to approve\", required: true },\n      amount: { description: \"Amount to approve\", required: true }\n    },\n    ({ tokenAddress, spender, amount }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help me create a gasless approval for ${amount} of token ${tokenAddress} to spender ${spender}.\n\nThis uses EIP-2612 permit signatures to allow approvals without gas.\n\nI'll need:\n1. Token name (for domain)\n2. Current nonce from the token contract\n3. Deadline timestamp\n4. Chain ID\n\nThen use create_permit_signature to generate the signature.`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"verify_signature_authenticity\",\n    \"Verify that a signature is authentic and from the expected signer\",\n    {\n      signature: { description: \"Signature to verify\", required: true },\n      message: { description: \"Original message\", required: true },\n      expectedSigner: { description: \"Expected signer address\", required: true }\n    },\n    ({ signature, message, expectedSigner }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Verify the authenticity of this signature:\nSignature: ${signature}\nMessage: ${message}\nExpected Signer: ${expectedSigner}\n\nUse verify_message_signature to check if:\n1. The signature is valid\n2. The recovered signer matches the expected address\n3. Report any discrepancies`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerSignaturesTools } from \"./tools.js\"\nimport { registerSignaturesPrompts } from \"./prompts.js\"\n\nexport function registerSignatures(server: McpServer) {\n  registerSignaturesTools(server)\n  registerSignaturesPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { formatUnits, parseUnits } from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\nimport { z } from \"zod\"\n\nimport { getPublicClient, getWalletClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam, privateKeyParam } from \"../common/types.js\"\n\n// Common staking contract interfaces\nconst STAKING_ABI = [\n  {\n    name: \"stake\",\n    type: \"function\",\n    inputs: [{ name: \"amount\", type: \"uint256\" }],\n    outputs: []\n  },\n  {\n    name: \"unstake\",\n    type: \"function\",\n    inputs: [{ name: \"amount\", type: \"uint256\" }],\n    outputs: []\n  },\n  {\n    name: \"withdraw\",\n    type: \"function\",\n    inputs: [],\n    outputs: []\n  },\n  {\n    name: \"claimRewards\",\n    type: \"function\",\n    inputs: [],\n    outputs: []\n  },\n  {\n    name: \"getReward\",\n    type: \"function\",\n    inputs: [],\n    outputs: []\n  },\n  {\n    name: \"earned\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"account\", type: \"address\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"balanceOf\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [{ name: \"account\", type: \"address\" }],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"totalSupply\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"rewardRate\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"rewardPerToken\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  },\n  {\n    name: \"stakingToken\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"address\" }]\n  },\n  {\n    name: \"rewardsToken\",\n    type: \"function\",\n    stateMutability: \"view\",\n    inputs: [],\n    outputs: [{ name: \"\", type: \"address\" }]\n  }\n] as const\n\n// Popular staking protocols\nconst STAKING_PROTOCOLS: Record<number, Record<string, Address>> = {\n  1: { // Ethereum\n    \"Lido stETH\": \"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84\",\n    \"Rocket Pool\": \"0x9559Aaa82d9649C7A7b220E7c461d2E74c9a3593\"\n  },\n  56: { // BSC\n    \"PancakeSwap\": \"0x45c54210128a065de780C4B0Df3d16664f7f859e\"\n  },\n  42161: { // Arbitrum\n    \"GMX Staking\": \"0xd2D1162512F927a7e282Ef43a362659E4F2a728F\"\n  }\n}\n\nexport function registerStakingTools(server: McpServer) {\n  // Get staking position\n  server.tool(\n    \"get_staking_position\",\n    \"Get staking position and rewards for an address\",\n    {\n      network: defaultNetworkParam,\n      stakingContract: z.string().describe(\"Staking contract address\"),\n      userAddress: z.string().describe(\"User address to check\")\n    },\n    async ({ network, stakingContract, userAddress }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Get staked balance\n        let stakedBalance = 0n\n        try {\n          stakedBalance = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"balanceOf\",\n            args: [userAddress as Address]\n          })\n        } catch {}\n\n        // Get pending rewards\n        let pendingRewards = 0n\n        try {\n          pendingRewards = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"earned\",\n            args: [userAddress as Address]\n          })\n        } catch {}\n\n        // Get total staked\n        let totalStaked = 0n\n        try {\n          totalStaked = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"totalSupply\"\n          })\n        } catch {}\n\n        // Get staking token\n        let stakingToken = null\n        try {\n          stakingToken = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"stakingToken\"\n          })\n        } catch {}\n\n        // Get rewards token\n        let rewardsToken = null\n        try {\n          rewardsToken = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"rewardsToken\"\n          })\n        } catch {}\n\n        const shareOfPool = totalStaked > 0n \n          ? (Number(stakedBalance) / Number(totalStaked) * 100).toFixed(4)\n          : \"0\"\n\n        return mcpToolRes.success({\n          network,\n          stakingContract,\n          userAddress,\n          position: {\n            stakedBalance: stakedBalance.toString(),\n            stakedFormatted: formatUnits(stakedBalance, 18),\n            pendingRewards: pendingRewards.toString(),\n            rewardsFormatted: formatUnits(pendingRewards, 18)\n          },\n          pool: {\n            totalStaked: totalStaked.toString(),\n            totalStakedFormatted: formatUnits(totalStaked, 18),\n            userSharePercent: shareOfPool\n          },\n          tokens: {\n            stakingToken,\n            rewardsToken\n          }\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting staking position\")\n      }\n    }\n  )\n\n  // Stake tokens\n  server.tool(\n    \"stake_tokens\",\n    \"Stake tokens in a staking contract\",\n    {\n      network: defaultNetworkParam,\n      stakingContract: z.string().describe(\"Staking contract address\"),\n      amount: z.string().describe(\"Amount to stake (in wei)\"),\n      privateKey: privateKeyParam\n    },\n    async ({ network, stakingContract, amount, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        const walletClient = getWalletClient(privateKey as Hex, network)\n        const publicClient = getPublicClient(network)\n\n        // Simulate first\n        await publicClient.simulateContract({\n          address: stakingContract as Address,\n          abi: STAKING_ABI,\n          functionName: \"stake\",\n          args: [BigInt(amount)],\n          account\n        })\n\n        const hash = await walletClient.writeContract({\n          address: stakingContract as Address,\n          abi: STAKING_ABI,\n          functionName: \"stake\",\n          args: [BigInt(amount)],\n          account\n        })\n\n        const receipt = await publicClient.waitForTransactionReceipt({ hash })\n\n        return mcpToolRes.success({\n          network,\n          action: \"stake\",\n          stakingContract,\n          amount,\n          amountFormatted: formatUnits(BigInt(amount), 18),\n          transactionHash: hash,\n          status: receipt.status === \"success\" ? \"success\" : \"failed\",\n          blockNumber: receipt.blockNumber.toString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"staking tokens\")\n      }\n    }\n  )\n\n  // Unstake tokens\n  server.tool(\n    \"unstake_tokens\",\n    \"Unstake/withdraw tokens from a staking contract\",\n    {\n      network: defaultNetworkParam,\n      stakingContract: z.string().describe(\"Staking contract address\"),\n      amount: z.string().describe(\"Amount to unstake (in wei)\"),\n      privateKey: privateKeyParam\n    },\n    async ({ network, stakingContract, amount, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        const walletClient = getWalletClient(privateKey as Hex, network)\n        const publicClient = getPublicClient(network)\n\n        // Try unstake first, then withdraw if that fails\n        let hash: Hex\n        try {\n          await publicClient.simulateContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"unstake\",\n            args: [BigInt(amount)],\n            account\n          })\n\n          hash = await walletClient.writeContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"unstake\",\n            args: [BigInt(amount)],\n            account\n          })\n        } catch {\n          // Try withdraw instead\n          hash = await walletClient.writeContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"withdraw\",\n            account\n          })\n        }\n\n        const receipt = await publicClient.waitForTransactionReceipt({ hash })\n\n        return mcpToolRes.success({\n          network,\n          action: \"unstake\",\n          stakingContract,\n          amount,\n          transactionHash: hash,\n          status: receipt.status === \"success\" ? \"success\" : \"failed\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"unstaking tokens\")\n      }\n    }\n  )\n\n  // Claim rewards\n  server.tool(\n    \"claim_staking_rewards\",\n    \"Claim pending staking rewards\",\n    {\n      network: defaultNetworkParam,\n      stakingContract: z.string().describe(\"Staking contract address\"),\n      privateKey: privateKeyParam\n    },\n    async ({ network, stakingContract, privateKey }) => {\n      try {\n        const account = privateKeyToAccount(privateKey as Hex)\n        const walletClient = getWalletClient(privateKey as Hex, network)\n        const publicClient = getPublicClient(network)\n\n        // Check pending rewards first\n        let pendingRewards = 0n\n        try {\n          pendingRewards = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"earned\",\n            args: [account.address]\n          })\n        } catch {}\n\n        if (pendingRewards === 0n) {\n          return mcpToolRes.success({\n            network,\n            action: \"claim_rewards\",\n            stakingContract,\n            pendingRewards: \"0\",\n            message: \"No pending rewards to claim\"\n          })\n        }\n\n        // Try different claim functions\n        let hash: Hex\n        try {\n          hash = await walletClient.writeContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"claimRewards\",\n            account\n          })\n        } catch {\n          hash = await walletClient.writeContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"getReward\",\n            account\n          })\n        }\n\n        const receipt = await publicClient.waitForTransactionReceipt({ hash })\n\n        return mcpToolRes.success({\n          network,\n          action: \"claim_rewards\",\n          stakingContract,\n          rewardsClaimed: pendingRewards.toString(),\n          rewardsFormatted: formatUnits(pendingRewards, 18),\n          transactionHash: hash,\n          status: receipt.status === \"success\" ? \"success\" : \"failed\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"claiming rewards\")\n      }\n    }\n  )\n\n  // Get staking APR\n  server.tool(\n    \"get_staking_apr\",\n    \"Calculate estimated APR for a staking contract\",\n    {\n      network: defaultNetworkParam,\n      stakingContract: z.string().describe(\"Staking contract address\")\n    },\n    async ({ network, stakingContract }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        \n        // Get reward rate\n        let rewardRate = 0n\n        try {\n          rewardRate = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"rewardRate\"\n          })\n        } catch {}\n\n        // Get total staked\n        let totalStaked = 0n\n        try {\n          totalStaked = await publicClient.readContract({\n            address: stakingContract as Address,\n            abi: STAKING_ABI,\n            functionName: \"totalSupply\"\n          })\n        } catch {}\n\n        // Calculate APR (simplified - assumes 1:1 token value)\n        // APR = (rewardRate * secondsPerYear / totalStaked) * 100\n        const secondsPerYear = 365n * 24n * 60n * 60n\n        let apr = \"0\"\n        \n        if (totalStaked > 0n && rewardRate > 0n) {\n          const yearlyRewards = rewardRate * secondsPerYear\n          apr = ((Number(yearlyRewards) / Number(totalStaked)) * 100).toFixed(2)\n        }\n\n        return mcpToolRes.success({\n          network,\n          stakingContract,\n          rewardRate: rewardRate.toString(),\n          rewardRatePerSecond: formatUnits(rewardRate, 18),\n          totalStaked: totalStaked.toString(),\n          estimatedAPR: `${apr}%`,\n          note: \"APR is estimated and assumes 1:1 token value ratio\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating staking APR\")\n      }\n    }\n  )\n\n  // Get popular staking protocols\n  server.tool(\n    \"get_staking_protocols\",\n    \"Get list of popular staking protocols on a network\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const publicClient = getPublicClient(network)\n        const chainId = await publicClient.getChainId()\n        \n        const protocols = STAKING_PROTOCOLS[chainId] || {}\n\n        return mcpToolRes.success({\n          network,\n          chainId,\n          protocols: Object.entries(protocols).map(([name, address]) => ({\n            name,\n            address\n          })),\n          note: protocols.length === 0 \n            ? \"No pre-configured protocols for this network\"\n            : \"Use get_staking_position to check your positions\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting staking protocols\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerStakingPrompts(server: McpServer) {\n  server.prompt(\n    \"analyze_staking_opportunity\",\n    \"Analyze a staking opportunity for risks and rewards\",\n    {\n      stakingContract: { description: \"Staking contract address\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ stakingContract, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Analyze the staking opportunity at ${stakingContract} on ${network}.\n\nUse available tools to:\n1. Get staking APR with get_staking_apr\n2. Check pool size and details\n3. Analyze contract security with security tools\n\nProvide:\n## Staking Opportunity Analysis\n\n### Contract: ${stakingContract}\n### Network: ${network}\n\n### Returns\n- Estimated APR\n- Reward token\n- Reward frequency\n\n### Pool Metrics\n- Total value locked\n- Number of stakers (if available)\n- Historical performance\n\n### Risks\n- Smart contract risk\n- Impermanent loss (if applicable)\n- Lock-up periods\n- Centralization concerns\n\n### Recommendation\n[Your recommendation on whether to stake]`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"optimize_staking_strategy\",\n    \"Help optimize staking positions across protocols\",\n    {\n      walletAddress: { description: \"Wallet address\", required: true },\n      network: { description: \"Network\", required: true }\n    },\n    ({ walletAddress, network }) => ({\n      messages: [\n        {\n          role: \"user\" as const,\n          content: {\n            type: \"text\" as const,\n            text: `Help optimize staking strategy for ${walletAddress} on ${network}.\n\nAnalyze:\n1. Current staking positions\n2. Available staking opportunities\n3. Compare APRs across protocols\n\nProvide recommendations for:\n- Rebalancing existing positions\n- New opportunities to consider\n- Risk diversification\n- Gas-efficient strategies`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { registerStakingTools } from \"./tools.js\"\nimport { registerStakingPrompts } from \"./prompts.js\"\n\nexport function registerStaking(server: McpServer) {\n  registerStakingTools(server)\n  registerStakingPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\nimport { z } from \"zod\"\n\nimport { getPublicClient, getWalletClient } from \"@/evm/services/clients.js\"\nimport { mcpToolRes } from \"@/utils/helper.js\"\nimport { defaultNetworkParam, privateKeyParam } from \"../common/types.js\"\n\n// DEX Aggregator APIs\nconst AGGREGATOR_APIS = {\n  \"1inch\": \"https://api.1inch.dev/swap/v6.0\",\n  \"0x\": \"https://api.0x.org/swap/v1\",\n  paraswap: \"https://apiv5.paraswap.io\"\n}\n\n// Popular DEX Router addresses by chain\nconst DEX_ROUTERS: Record<string, Record<string, Address>> = {\n  bsc: {\n    pancakeswap: \"0x10ED43C718714eb63d5aA57B78B54704E256024E\",\n    uniswap: \"0x4752ba5DBc23f44D87826276BF6Fd6b1C372aD24\"\n  },\n  ethereum: {\n    uniswap: \"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45\",\n    sushiswap: \"0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F\"\n  },\n  arbitrum: {\n    uniswap: \"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45\",\n    sushiswap: \"0x1b02dA8Cb0d097eB8D57A175b88c7D8b47997506\",\n    camelot: \"0xc873fEcbd354f5A56E00E710B90EF4201db2448d\"\n  },\n  polygon: {\n    uniswap: \"0x68b3465833fb72A70ecDF485E0e4C7bD8665Fc45\",\n    quickswap: \"0xa5E0829CaCEd8fFDD4De3c43696c57F7D7A678ff\"\n  },\n  base: {\n    uniswap: \"0x2626664c2603336E57B271c5C0b26F421741e481\",\n    aerodrome: \"0xcF77a3Ba9A5CA399B7c97c74d54e5b1Beb874E43\"\n  }\n}\n\n// Standard ERC20 ABI for approvals\nconst ERC20_ABI = [\n  {\n    name: \"approve\",\n    type: \"function\",\n    inputs: [\n      { name: \"spender\", type: \"address\" },\n      { name: \"amount\", type: \"uint256\" }\n    ],\n    outputs: [{ name: \"\", type: \"bool\" }]\n  },\n  {\n    name: \"allowance\",\n    type: \"function\",\n    inputs: [\n      { name: \"owner\", type: \"address\" },\n      { name: \"spender\", type: \"address\" }\n    ],\n    outputs: [{ name: \"\", type: \"uint256\" }]\n  }\n] as const\n\n// Uniswap V2 Router ABI\nconst UNISWAP_V2_ROUTER_ABI = [\n  {\n    name: \"getAmountsOut\",\n    type: \"function\",\n    inputs: [\n      { name: \"amountIn\", type: \"uint256\" },\n      { name: \"path\", type: \"address[]\" }\n    ],\n    outputs: [{ name: \"amounts\", type: \"uint256[]\" }]\n  },\n  {\n    name: \"swapExactTokensForTokens\",\n    type: \"function\",\n    inputs: [\n      { name: \"amountIn\", type: \"uint256\" },\n      { name: \"amountOutMin\", type: \"uint256\" },\n      { name: \"path\", type: \"address[]\" },\n      { name: \"to\", type: \"address\" },\n      { name: \"deadline\", type: \"uint256\" }\n    ],\n    outputs: [{ name: \"amounts\", type: \"uint256[]\" }]\n  },\n  {\n    name: \"swapExactETHForTokens\",\n    type: \"function\",\n    inputs: [\n      { name: \"amountOutMin\", type: \"uint256\" },\n      { name: \"path\", type: \"address[]\" },\n      { name: \"to\", type: \"address\" },\n      { name: \"deadline\", type: \"uint256\" }\n    ],\n    outputs: [{ name: \"amounts\", type: \"uint256[]\" }]\n  },\n  {\n    name: \"swapExactTokensForETH\",\n    type: \"function\",\n    inputs: [\n      { name: \"amountIn\", type: \"uint256\" },\n      { name: \"amountOutMin\", type: \"uint256\" },\n      { name: \"path\", type: \"address[]\" },\n      { name: \"to\", type: \"address\" },\n      { name: \"deadline\", type: \"uint256\" }\n    ],\n    outputs: [{ name: \"amounts\", type: \"uint256[]\" }]\n  }\n] as const\n\nexport function registerSwapTools(server: McpServer) {\n  // Get swap quote\n  server.tool(\n    \"get_swap_quote\",\n    \"Get a swap quote for exchanging tokens. Returns expected output amount and price impact.\",\n    {\n      tokenIn: z.string().describe(\"Address of the token to sell\"),\n      tokenOut: z.string().describe(\"Address of the token to buy\"),\n      amountIn: z.string().describe(\"Amount of input token (in wei/smallest unit)\"),\n      network: defaultNetworkParam,\n      dex: z.string().optional().describe(\"Specific DEX to use (e.g., 'uniswap', 'pancakeswap'). If not specified, finds best route.\")\n    },\n    async ({ tokenIn, tokenOut, amountIn, network, dex }) => {\n      try {\n        const client = getPublicClient(network)\n        const chainId = await client.getChainId()\n        \n        // Get available routers for this network\n        const networkRouters = DEX_ROUTERS[network] || DEX_ROUTERS.ethereum\n        const routerAddress = dex ? networkRouters[dex.toLowerCase()] : Object.values(networkRouters)[0]\n        \n        if (!routerAddress) {\n          return mcpToolRes.error(new Error(`No router found for ${dex || 'default'} on ${network}`), \"getting swap quote\")\n        }\n\n        // Get quote from router\n        const path = [tokenIn as Address, tokenOut as Address]\n        \n        const amounts = await client.readContract({\n          address: routerAddress,\n          abi: UNISWAP_V2_ROUTER_ABI,\n          functionName: \"getAmountsOut\",\n          args: [BigInt(amountIn), path]\n        })\n\n        const amountOut = amounts[amounts.length - 1]\n        \n        // Calculate price impact (simplified)\n        const priceImpact = \"< 1%\" // Would need liquidity data for accurate calculation\n\n        return mcpToolRes.success({\n          tokenIn,\n          tokenOut,\n          amountIn,\n          amountOut: amountOut.toString(),\n          router: routerAddress,\n          dex: dex || \"default\",\n          network,\n          chainId,\n          priceImpact,\n          path\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting swap quote\")\n      }\n    }\n  )\n\n  // Execute swap\n  server.tool(\n    \"execute_swap\",\n    \"Execute a token swap on a DEX\",\n    {\n      tokenIn: z.string().describe(\"Address of the token to sell\"),\n      tokenOut: z.string().describe(\"Address of the token to buy\"),\n      amountIn: z.string().describe(\"Amount of input token (in wei/smallest unit)\"),\n      minAmountOut: z.string().describe(\"Minimum amount of output token to receive (slippage protection)\"),\n      network: defaultNetworkParam,\n      privateKey: privateKeyParam,\n      dex: z.string().optional().describe(\"Specific DEX to use\"),\n      deadline: z.number().optional().describe(\"Transaction deadline in seconds from now (default: 1200 = 20 minutes)\")\n    },\n    async ({ tokenIn, tokenOut, amountIn, minAmountOut, network, privateKey, dex, deadline }) => {\n      try {\n        const walletClient = getWalletClient(privateKey as Hex, network)\n        const publicClient = getPublicClient(network)\n        const account = privateKeyToAccount(privateKey as Hex)\n        \n        const networkRouters = DEX_ROUTERS[network] || DEX_ROUTERS.ethereum\n        const routerAddress = dex ? networkRouters[dex.toLowerCase()] : Object.values(networkRouters)[0]\n        \n        if (!routerAddress) {\n          return mcpToolRes.error(new Error(`No router found for ${dex || 'default'} on ${network}`), \"executing swap\")\n        }\n\n        const path = [tokenIn as Address, tokenOut as Address]\n        const txDeadline = BigInt(Math.floor(Date.now() / 1000) + (deadline || 1200))\n\n        // Check and set approval if needed\n        const allowance = await publicClient.readContract({\n          address: tokenIn as Address,\n          abi: ERC20_ABI,\n          functionName: \"allowance\",\n          args: [account.address, routerAddress]\n        })\n\n        if (allowance < BigInt(amountIn)) {\n          // Approve router to spend tokens\n          const approveHash = await walletClient.writeContract({\n            address: tokenIn as Address,\n            abi: ERC20_ABI,\n            functionName: \"approve\",\n            args: [routerAddress, BigInt(amountIn)],\n            account\n          })\n          await publicClient.waitForTransactionReceipt({ hash: approveHash })\n        }\n\n        // Execute swap\n        const hash = await walletClient.writeContract({\n          address: routerAddress,\n          abi: UNISWAP_V2_ROUTER_ABI,\n          functionName: \"swapExactTokensForTokens\",\n          args: [\n            BigInt(amountIn),\n            BigInt(minAmountOut),\n            path,\n            account.address,\n            txDeadline\n          ],\n          account\n        })\n\n        const receipt = await publicClient.waitForTransactionReceipt({ hash })\n\n        return mcpToolRes.success({\n          success: true,\n          transactionHash: hash,\n          blockNumber: receipt.blockNumber.toString(),\n          gasUsed: receipt.gasUsed.toString(),\n          tokenIn,\n          tokenOut,\n          amountIn,\n          minAmountOut,\n          router: routerAddress\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"executing swap\")\n      }\n    }\n  )\n\n  // Get best swap route\n  server.tool(\n    \"get_best_route\",\n    \"Find the optimal swap route across multiple DEXs for the best price\",\n    {\n      tokenIn: z.string().describe(\"Address of the token to sell\"),\n      tokenOut: z.string().describe(\"Address of the token to buy\"),\n      amountIn: z.string().describe(\"Amount of input token (in wei/smallest unit)\"),\n      network: defaultNetworkParam\n    },\n    async ({ tokenIn, tokenOut, amountIn, network }) => {\n      try {\n        const client = getPublicClient(network)\n        const networkRouters = DEX_ROUTERS[network] || DEX_ROUTERS.ethereum\n        \n        const quotes: Array<{ dex: string; amountOut: string; router: Address }> = []\n        const path = [tokenIn as Address, tokenOut as Address]\n\n        // Get quotes from all available DEXs\n        for (const [dexName, routerAddress] of Object.entries(networkRouters)) {\n          try {\n            const amounts = await client.readContract({\n              address: routerAddress,\n              abi: UNISWAP_V2_ROUTER_ABI,\n              functionName: \"getAmountsOut\",\n              args: [BigInt(amountIn), path]\n            })\n            \n            quotes.push({\n              dex: dexName,\n              amountOut: amounts[amounts.length - 1].toString(),\n              router: routerAddress\n            })\n          } catch {\n            // DEX doesn't have this pair, skip\n          }\n        }\n\n        // Sort by best output\n        quotes.sort((a, b) => BigInt(b.amountOut) > BigInt(a.amountOut) ? 1 : -1)\n\n        const bestRoute = quotes[0]\n\n        return mcpToolRes.success({\n          tokenIn,\n          tokenOut,\n          amountIn,\n          bestRoute,\n          allQuotes: quotes,\n          network\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"finding best route\")\n      }\n    }\n  )\n\n  // Get DEX liquidity\n  server.tool(\n    \"get_dex_liquidity\",\n    \"Get liquidity information for a trading pair on a DEX\",\n    {\n      tokenA: z.string().describe(\"First token address\"),\n      tokenB: z.string().describe(\"Second token address\"),\n      network: defaultNetworkParam,\n      dex: z.string().optional().describe(\"DEX to query\")\n    },\n    async ({ tokenA, tokenB, network, dex }) => {\n      try {\n        const client = getPublicClient(network)\n        \n        // This would typically query the pair contract\n        // Simplified implementation\n        return mcpToolRes.success({\n          tokenA,\n          tokenB,\n          network,\n          dex: dex || \"default\",\n          message: \"Liquidity query - pair contract lookup needed for detailed reserves\"\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting DEX liquidity\")\n      }\n    }\n  )\n\n  // Calculate price impact\n  server.tool(\n    \"get_price_impact\",\n    \"Calculate the price impact for a given trade size\",\n    {\n      tokenIn: z.string().describe(\"Address of the token to sell\"),\n      tokenOut: z.string().describe(\"Address of the token to buy\"),\n      amountIn: z.string().describe(\"Amount of input token (in wei)\"),\n      network: defaultNetworkParam\n    },\n    async ({ tokenIn, tokenOut, amountIn, network }) => {\n      try {\n        const client = getPublicClient(network)\n        const networkRouters = DEX_ROUTERS[network] || DEX_ROUTERS.ethereum\n        const routerAddress = Object.values(networkRouters)[0]\n        \n        const path = [tokenIn as Address, tokenOut as Address]\n        \n        // Get quote for small amount (baseline price)\n        const smallAmount = BigInt(amountIn) / BigInt(1000)\n        const smallAmounts = await client.readContract({\n          address: routerAddress,\n          abi: UNISWAP_V2_ROUTER_ABI,\n          functionName: \"getAmountsOut\",\n          args: [smallAmount, path]\n        })\n        \n        // Get quote for full amount\n        const fullAmounts = await client.readContract({\n          address: routerAddress,\n          abi: UNISWAP_V2_ROUTER_ABI,\n          functionName: \"getAmountsOut\",\n          args: [BigInt(amountIn), path]\n        })\n\n        const baselinePrice = Number(smallAmounts[1]) / Number(smallAmount)\n        const actualPrice = Number(fullAmounts[1]) / Number(amountIn)\n        const priceImpact = ((baselinePrice - actualPrice) / baselinePrice) * 100\n\n        return mcpToolRes.success({\n          tokenIn,\n          tokenOut,\n          amountIn,\n          expectedOutput: fullAmounts[1].toString(),\n          priceImpact: `${priceImpact.toFixed(4)}%`,\n          priceImpactRaw: priceImpact,\n          warning: priceImpact > 5 ? \"HIGH PRICE IMPACT - Consider smaller trade\" : null\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"calculating price impact\")\n      }\n    }\n  )\n\n  // Get supported DEXs\n  server.tool(\n    \"get_supported_dexs\",\n    \"List all supported DEXs on a specific network\",\n    {\n      network: defaultNetworkParam\n    },\n    async ({ network }) => {\n      try {\n        const networkRouters = DEX_ROUTERS[network] || {}\n        const dexList = Object.entries(networkRouters).map(([name, address]) => ({\n          name,\n          router: address\n        }))\n\n        return mcpToolRes.success({\n          network,\n          supportedDEXs: dexList,\n          count: dexList.length\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"getting supported DEXs\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nexport function registerSwapPrompts(server: McpServer) {\n  server.prompt(\n    \"analyze_swap\",\n    \"Analyze a potential token swap and provide recommendations\",\n    {\n      tokenIn: { description: \"Token to sell\", required: true },\n      tokenOut: { description: \"Token to buy\", required: true },\n      amount: { description: \"Amount to swap\", required: true },\n      network: { description: \"Network to swap on\", required: false }\n    },\n    async ({ tokenIn, tokenOut, amount, network }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: `Analyze this swap:\n- Selling: ${tokenIn}\n- Buying: ${tokenOut}  \n- Amount: ${amount}\n- Network: ${network || \"ethereum\"}\n\nPlease:\n1. Get quotes from multiple DEXs\n2. Calculate price impact\n3. Check if there's sufficient liquidity\n4. Recommend the best route\n5. Warn about any risks (high slippage, low liquidity, etc.)`\n          }\n        }\n      ]\n    })\n  )\n\n  server.prompt(\n    \"optimize_swap_route\",\n    \"Find the most optimal route for a large swap to minimize price impact\",\n    {\n      tokenIn: { description: \"Token to sell\", required: true },\n      tokenOut: { description: \"Token to buy\", required: true },\n      amount: { description: \"Total amount to swap\", required: true }\n    },\n    async ({ tokenIn, tokenOut, amount }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: `I need to swap a large amount of tokens and want to minimize price impact:\n- Selling: ${tokenIn}\n- Buying: ${tokenOut}\n- Total Amount: ${amount}\n\nPlease:\n1. Check if splitting across multiple DEXs would be better\n2. Consider if using intermediate tokens would help\n3. Calculate optimal split if needed\n4. Provide step-by-step execution plan`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerSwapTools } from \"./tools.js\"\nimport { registerSwapPrompts } from \"./prompts.js\"\n\nexport function registerSwap(server: McpServer) {\n  registerSwapTools(server)\n  registerSwapPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { z } from \"zod\"\n\nimport { networkSchema } from \"../common/types.js\"\n\nexport function registerTokenPrompts(server: McpServer) {\n  // Token analysis prompt\n  server.prompt(\n    \"analyze_token\",\n    \"Analyze an ERC20 or NFT token\",\n    {\n      tokenAddress: z.string().describe(\"Token contract address to analyze\"),\n      network: networkSchema,\n      tokenType: z\n        .string()\n        .optional()\n        .describe(\n          \"Type of token to analyze (erc20, erc721/nft, or auto-detect). Defaults to auto.\"\n        ),\n      tokenId: z\n        .string()\n        .optional()\n        .describe(\"Token ID (required for NFT analysis)\")\n    },\n    ({ tokenAddress, tokenType = \"auto\", tokenId, network = \"bsc\" }) => {\n      let promptText = \"\"\n\n      if (tokenType === \"erc20\" || tokenType === \"auto\") {\n        promptText = `Please analyze the ERC20 token at address ${tokenAddress} on the ${network} network. Provide information about its name, symbol, total supply, and any other relevant details. If possible, explain the token's purpose, utility, and market context.`\n      } else if ((tokenType === \"erc721\" || tokenType === \"nft\") && tokenId) {\n        promptText = `Please analyze the NFT with token ID ${tokenId} from the collection at address ${tokenAddress} on the ${network} network. Provide information about the collection name, token details, ownership history if available, and any other relevant information about this specific NFT.`\n      } else if (tokenType === \"nft\" || tokenType === \"erc721\") {\n        promptText = `Please analyze the NFT collection at address ${tokenAddress} on the ${network} network. Provide information about the collection name, symbol, total supply if available, floor price if available, and any other relevant details about this NFT collection.`\n      }\n\n      return {\n        messages: [\n          {\n            role: \"user\",\n            content: {\n              type: \"text\",\n              text: promptText\n            }\n          }\n        ]\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hex } from \"viem\"\nimport { privateKeyToAccount } from \"viem/accounts\"\nimport { z } from \"zod\"\n\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\nimport { defaultNetworkParam, privateKeyParam } from \"../common/types\"\n\nexport function registerTokenTools(server: McpServer) {\n  // Get ERC20 token info\n  server.tool(\n    \"get_erc20_token_info\",\n    \"Get ERC20 token information\",\n    {\n      tokenAddress: z.string().describe(\"The ERC20 token contract address\"),\n      network: defaultNetworkParam\n    },\n    async ({ network, tokenAddress }) => {\n      try {\n        const tokenInfo = await services.getERC20TokenInfo(\n          tokenAddress as Address,\n          network\n        )\n\n        return mcpToolRes.success(tokenInfo)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching ERC20 token info\")\n      }\n    }\n  )\n\n  // Get native token balance\n  server.tool(\n    \"get_native_balance\",\n    \"Get native token balance for an address\",\n    {\n      network: defaultNetworkParam,\n      address: z\n        .string()\n        .optional()\n        .describe(\"The address to check balance for\"),\n      privateKey: privateKeyParam\n    },\n    async ({ network, address, privateKey }) => {\n      try {\n        const result = await services.getNativeBalance(\n          address || privateKeyToAccount(privateKey as Hex).address,\n          network\n        )\n\n        return mcpToolRes.success(result)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching native token balance\")\n      }\n    }\n  )\n\n  // Get ERC20 token balance\n  server.tool(\n    \"get_erc20_balance\",\n    \"Get ERC20 token balance for an address\",\n    {\n      tokenAddress: z.string().describe(\"The ERC20 token contract address\"),\n      address: z.string().describe(\"The address to check balance for\"),\n      network: defaultNetworkParam,\n      privateKey: privateKeyParam\n    },\n    async ({ network, tokenAddress, address, privateKey }) => {\n      try {\n        const res = await services.getERC20Balance(\n          tokenAddress as Address,\n          address || privateKeyToAccount(privateKey as Hex).address,\n          network\n        )\n\n        return mcpToolRes.success(res)\n      } catch (error) {\n        return mcpToolRes.error(error, \"fetching ERC20 token balance\")\n      }\n    }\n  )\n\n  // Create ERC20 token\n  server.tool(\n    \"create_erc20_token\",\n    \"Create a new ERC20 token\",\n    {\n      name: z.string().describe(\"The name of the token\"),\n      symbol: z.string().describe(\"The symbol of the token\"),\n      network: defaultNetworkParam,\n      privateKey: privateKeyParam\n    },\n    async ({ network, name, symbol, privateKey }) => {\n      try {\n        const result = await services.createERC20Token({\n          name,\n          symbol,\n          privateKey: privateKey as Hex,\n          network\n        })\n\n        return mcpToolRes.success(result)\n      } catch (error) {\n        return mcpToolRes.error(error, \"creating ERC20 token\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerTokenPrompts } from \"./prompts\"\nimport { registerTokenTools } from \"./tools\"\n\nexport function registerTokens(server: McpServer) {\n  registerTokenTools(server)\n  registerTokenPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { z } from \"zod\"\n\nimport { networkSchema } from \"../common/types.js\"\n\nexport function registerTransactionPrompts(server: McpServer) {\n  // Transaction analysis prompt\n  server.prompt(\n    \"analyze_transaction\",\n    \"Analyze a specific transaction\",\n    {\n      txHash: z.string().describe(\"Transaction hash to analyze\"),\n      network: networkSchema\n    },\n    ({ txHash, network = \"bsc\" }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: `Please analyze transaction ${txHash} on the ${network} network and provide a detailed explanation of what this transaction does, who the parties involved are, the amount transferred (if applicable), gas used, and any other relevant information.`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Address, Hash } from \"viem\"\nimport { z } from \"zod\"\n\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\nimport { defaultNetworkParam } from \"../common/types\"\n\nexport function registerTransactionTools(server: McpServer) {\n  // Get transaction by hash\n  server.tool(\n    \"get_transaction\",\n    \"Get detailed information about a specific transaction by its hash. Includes sender, recipient, value, data, and more.\",\n    {\n      txHash: z\n        .string()\n        .describe(\"The transaction hash to look up (e.g., '0x1234...')\"),\n      network: defaultNetworkParam\n    },\n    async ({ txHash, network }) => {\n      try {\n        const tx = await services.getTransaction(txHash as Hash, network)\n        return mcpToolRes.success(tx)\n      } catch (error) {\n        return mcpToolRes.error(error, `fetching transaction ${txHash}`)\n      }\n    }\n  )\n\n  // Estimate gas\n  server.tool(\n    \"estimate_gas\",\n    \"Estimate the gas cost for a transaction\",\n    {\n      to: z.string().describe(\"The recipient address\"),\n      value: z\n        .string()\n        .optional()\n        .describe(\"The amount of ETH to send in ether (e.g., '0.1')\"),\n      data: z\n        .string()\n        .optional()\n        .describe(\"The transaction data as a hex string\"),\n      network: defaultNetworkParam\n    },\n    async ({ to, value, data, network }) => {\n      try {\n        const params: any = { to: to as Address }\n\n        if (value) {\n          params.value = services.helpers.parseEther(value)\n        }\n\n        if (data) {\n          params.data = data as `0x${string}`\n        }\n\n        const gas = await services.estimateGas(params, network)\n\n        return mcpToolRes.success({\n          network,\n          estimatedGas: gas.toString()\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"estimating gas\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerTransactionPrompts } from \"./prompts\"\nimport { registerTransactionTools } from \"./tools\"\n\nexport function registerTransactions(server: McpServer) {\n  registerTransactionTools(server)\n  registerTransactionPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport { z } from \"zod\"\n\nimport { networkSchema } from \"../common/types.js\"\n\nexport function registerWaletPrompts(server: McpServer) {\n  // Address analysis prompt\n  server.prompt(\n    \"analyze_address\",\n    \"Analyze an EVM address\",\n    {\n      address: z.string().describe(\"Ethereum address to analyze\"),\n      network: networkSchema\n    },\n    ({ address, network = \"bsc\" }) => ({\n      messages: [\n        {\n          role: \"user\",\n          content: {\n            type: \"text\",\n            text: `Please analyze the address ${address} on the ${network} network. Provide information about its balance, transaction count, and any other relevant information you can find.`\n          }\n        }\n      ]\n    })\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\nimport type { Hex } from \"viem\"\nimport { z } from \"zod\"\n\nimport * as services from \"@/evm/services/index.js\"\nimport { mcpToolRes } from \"@/utils/helper\"\nimport { defaultNetworkParam, privateKeyParam } from \"../common/types\"\n\nexport function registerWalletTools(server: McpServer) {\n  // Get address from private key\n  server.tool(\n    \"get_address_from_private_key\",\n    \"Get the EVM address derived from a private key\",\n    {\n      privateKey: privateKeyParam\n    },\n    async ({ privateKey }) => {\n      try {\n        // Ensure the private key has 0x prefix\n        const formattedKey = privateKey.startsWith(\"0x\")\n          ? (privateKey as Hex)\n          : (`0x${privateKey}` as Hex)\n\n        const address = services.getAddressFromPrivateKey(formattedKey)\n\n        return mcpToolRes.success({\n          address\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"deriving address from private key\")\n      }\n    }\n  )\n\n  // Transfer native token\n  server.tool(\n    \"transfer_native_token\",\n    \"Transfer native tokens (BNB, ETH, MATIC, etc.) to an address\",\n    {\n      privateKey: privateKeyParam,\n      toAddress: z\n        .string()\n        .describe(\n          \"The recipient address or ENS name (e.g., '0x1234...' or 'vitalik.eth')\"\n        ),\n      amount: z\n        .string()\n        .describe(\n          \"Amount to send in BNB (or the native token of the network), as a string (e.g., '0.1')\"\n        ),\n      network: defaultNetworkParam\n    },\n    async ({ privateKey, toAddress, amount, network }) => {\n      try {\n        const hash = await services.transferETH(\n          privateKey,\n          toAddress,\n          amount,\n          network\n        )\n\n        return mcpToolRes.success({\n          success: true,\n          txHash: hash,\n          toAddress,\n          amount,\n          network\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"transferring native token\")\n      }\n    }\n  )\n\n  // Approve ERC20 token spending\n  server.tool(\n    \"approve_token_spending\",\n    \"Approve another address (like a DeFi protocol or exchange) to spend your ERC20 tokens. This is often required before interacting with DeFi protocols.\",\n    {\n      privateKey: privateKeyParam,\n      tokenAddress: z\n        .string()\n        .describe(\n          \"The contract address of the ERC20 token to approve for spending (e.g., '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48' for USDC on Ethereum)\"\n        ),\n      spenderAddress: z\n        .string()\n        .describe(\n          \"The contract address being approved to spend your tokens (e.g., a DEX or lending protocol)\"\n        ),\n      amount: z\n        .string()\n        .describe(\n          \"The amount of tokens to approve in token units, not wei (e.g., '1000' to approve spending 1000 tokens). Use a very large number for unlimited approval.\"\n        ),\n      network: defaultNetworkParam\n    },\n    async ({ privateKey, tokenAddress, spenderAddress, amount, network }) => {\n      try {\n        const result = await services.approveERC20(\n          tokenAddress,\n          spenderAddress,\n          amount,\n          privateKey,\n          network\n        )\n\n        return mcpToolRes.success({\n          success: true,\n          txHash: result.txHash,\n          tokenAddress,\n          spenderAddress,\n          amount: result.amount.formatted,\n          symbol: result.token.symbol,\n          network\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"approving token spending\")\n      }\n    }\n  )\n\n  // Transfer ERC20 tokens\n  server.tool(\n    \"transfer_erc20\",\n    \"Transfer ERC20 tokens to an address\",\n    {\n      privateKey: privateKeyParam,\n      tokenAddress: z\n        .string()\n        .describe(\n          \"The contract address or ENS name of the ERC20 token to transfer (e.g., '0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48' for USDC or 'uniswap.eth')\"\n        ),\n      toAddress: z\n        .string()\n        .describe(\n          \"The recipient address or ENS name that will receive the tokens (e.g., '0x1234...' or 'vitalik.eth')\"\n        ),\n      amount: z\n        .string()\n        .describe(\n          \"Amount of tokens to send as a string (e.g., '100' for 100 tokens). This will be adjusted for the token's decimals.\"\n        ),\n      network: defaultNetworkParam\n    },\n    async ({ privateKey, tokenAddress, toAddress, amount, network }) => {\n      try {\n        const result = await services.transferERC20(\n          tokenAddress,\n          toAddress,\n          amount,\n          privateKey,\n          network\n        )\n\n        return mcpToolRes.success({\n          success: true,\n          txHash: result.txHash,\n          tokenAddress,\n          toAddress,\n          amount: result.amount.formatted,\n          symbol: result.token.symbol,\n          network\n        })\n      } catch (error) {\n        return mcpToolRes.error(error, \"transferring tokens\")\n      }\n    }\n  )\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerWaletPrompts } from \"./prompts\"\nimport { registerWalletTools } from \"./tools\"\n\nexport function registerWallet(server: McpServer) {\n  registerWalletTools(server)\n  registerWaletPrompts(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerBlocks } from \"./modules/blocks/index.js\"\nimport { registerBridge } from \"./modules/bridge/index.js\"\nimport { registerContracts } from \"./modules/contracts/index.js\"\nimport { registerDomains } from \"./modules/domains/index.js\"\nimport { registerEvents } from \"./modules/events/index.js\"\nimport { registerGas } from \"./modules/gas/index.js\"\nimport { registerGovernance } from \"./modules/governance/index.js\"\nimport { registerLending } from \"./modules/lending/index.js\"\nimport { registerMulticall } from \"./modules/multicall/index.js\"\nimport { registerNetwork } from \"./modules/network/index.js\"\nimport { registerNFT } from \"./modules/nft/index.js\"\nimport { registerPortfolio } from \"./modules/portfolio/index.js\"\nimport { registerPriceFeeds } from \"./modules/price-feeds/index.js\"\nimport { registerSecurity } from \"./modules/security/index.js\"\nimport { registerSignatures } from \"./modules/signatures/index.js\"\nimport { registerStaking } from \"./modules/staking/index.js\"\nimport { registerSwap } from \"./modules/swap/index.js\"\nimport { registerTokens } from \"./modules/tokens/index.js\"\nimport { registerTransactions } from \"./modules/transactions/index.js\"\nimport { registerWallet } from \"./modules/wallet/index.js\"\n\nexport function registerEVM(server: McpServer) {\n  // Core modules\n  registerNetwork(server)\n  registerBlocks(server)\n  registerTransactions(server)\n  registerContracts(server)\n  registerWallet(server)\n  registerTokens(server)\n  registerNFT(server)\n  \n  // DeFi modules\n  registerSwap(server)\n  registerBridge(server)\n  registerStaking(server)\n  registerLending(server)\n  registerPriceFeeds(server)\n  \n  // Utility modules\n  registerGas(server)\n  registerEvents(server)\n  registerMulticall(server)\n  registerSignatures(server)\n  registerDomains(server)\n  registerSecurity(server)\n  registerPortfolio(server)\n  registerGovernance(server)\n}\n","import { McpServer } from \"@modelcontextprotocol/sdk/server/mcp.js\"\n\nimport { registerEVM } from \"@/evm/index.js\"\nimport Logger from \"@/utils/logger.js\"\n\n// Create and start the MCP server\nexport const startServer = () => {\n  try {\n    // Create a new MCP server instance\n    const server = new McpServer({\n      name: \"Universal Crypto MCP\",\n      version: \"1.0.0\",\n      description: \"Universal MCP server for all EVM-compatible networks\"\n    })\n\n    // Register all resources, tools, and prompts\n    registerEVM(server)\n    return server\n  } catch (error) {\n    Logger.error(\"Failed to initialize server:\", error)\n    process.exit(1)\n  }\n}\n","import \"dotenv/config\"\n\nimport { SSEServerTransport } from \"@modelcontextprotocol/sdk/server/sse.js\"\nimport cors from \"cors\"\nimport express from \"express\"\nimport type { Request, Response } from \"express\"\n\nimport Logger from \"@/utils/logger\"\nimport { startServer } from \"./base\"\n\nexport const startSSEServer = async () => {\n  try {\n    const app = express()\n    const server = startServer()\n    app.use(cors())\n\n    // Log the current log level on startup\n    Logger.info(`Starting sse server with log level: ${Logger.getLevel()}`)\n\n    // to support multiple simultaneous connections we have a lookup object from\n    // sessionId to transport\n    const transports: { [sessionId: string]: SSEServerTransport } = {}\n\n    app.get(\"/sse\", async (_: Request, res: Response) => {\n      const transport = new SSEServerTransport(\"/messages\", res)\n      transports[transport.sessionId] = transport\n      Logger.info(\"New SSE connection established\", {\n        sessionId: transport.sessionId\n      })\n\n      res.on(\"close\", () => {\n        Logger.info(\"SSE connection closed\", { sessionId: transport.sessionId })\n        delete transports[transport.sessionId]\n      })\n\n      try {\n        await server.connect(transport)\n      } catch (error) {\n        Logger.error(\"Error connecting transport\", {\n          sessionId: transport.sessionId,\n          error\n        })\n      }\n    })\n\n    app.post(\"/messages\", async (req: Request, res: Response) => {\n      const sessionId = req.query.sessionId as string\n      const transport = transports[sessionId]\n\n      if (transport) {\n        Logger.debug(\"Handling message\", { sessionId, body: req.body })\n        try {\n          await transport.handlePostMessage(req, res, req.body)\n        } catch (error) {\n          Logger.error(\"Error handling message\", { sessionId, error })\n          res.status(500).send(\"Internal server error\")\n        }\n      } else {\n        Logger.warn(\"No transport found for session\", { sessionId })\n        res.status(400).send(\"No transport found for sessionId\")\n      }\n    })\n\n    const PORT = process.env.PORT || 3001\n    app.listen(PORT, () => {\n      Logger.info(\n        `SperaxOS SSE Server is running on http://localhost:${PORT}`\n      )\n    })\n    return server\n  } catch (error) {\n    Logger.error(\"Error starting SperaxOS SSE Server:\", error)\n  }\n}\n","import \"dotenv/config\"\n\nimport { StdioServerTransport } from \"@modelcontextprotocol/sdk/server/stdio.js\"\n\nimport Logger from \"@/utils/logger\"\nimport { startServer } from \"./base\"\n\n// Start the server\nexport const startStdioServer = async () => {\n  try {\n    const server = startServer()\n    const transport = new StdioServerTransport()\n    // using error level to show the message for stdio mode\n    Logger.error(\"SperaxOS Server running on stdio mode\")\n\n    transport.onmessage = (message) => {\n      Logger.error(\"Received message:\", message)\n    }\n    transport.onclose = () => {\n      Logger.error(\"Stdio server closed\")\n    }\n    transport.onerror = (error) => {\n      Logger.error(\"Stdio server error:\", error)\n    }\n\n    await server.connect(transport)\n    return server\n  } catch (error) {\n    Logger.error(\"Error starting SperaxOS Stdio server:\", error)\n  }\n}\n","#!/usr/bin/env node\nimport type { McpServer } from \"@modelcontextprotocol/sdk/server/mcp\"\n\nimport { startSSEServer } from \"./server/sse\"\nimport { startStdioServer } from \"./server/stdio\"\nimport logger from \"./utils/logger\"\n\nconst args = process.argv.slice(2)\nconst sseMode = args.includes(\"--sse\") || args.includes(\"-s\")\n\nasync function main() {\n  let server: McpServer | undefined\n  if (sseMode) {\n    server = await startSSEServer()\n  } else {\n    server = await startStdioServer()\n  }\n\n  if (!server) {\n    logger.error(\"Failed to start server\")\n    process.exit(1)\n  }\n\n  const handleShutdown = async () => {\n    await server.close()\n    process.exit(0)\n  }\n  // Handle process termination\n  process.on(\"SIGINT\", handleShutdown)\n  process.on(\"SIGTERM\", handleShutdown)\n}\n\nmain()\n"]}